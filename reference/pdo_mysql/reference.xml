<?xml version="1.0" encoding="UTF-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 315005 Maintainer: chuso Status: ready -->
<!-- Membership: bundled, external, pecl -->

<reference xml:id="ref.pdo-mysql" xmlns="http://docbook.org/ns/docbook">
 <title>Funciones MySQL (PDO_MYSQL)</title>
 <titleabbrev>MySQL (PDO)</titleabbrev>
 <partintro>
  
  <section xml:id="pdo-mysql.intro">
   &reftitle.intro; 
   <para>
    PDO_MYSQL es un driver que implementa la <link linkend="intro.pdo">extensión PHP Data Objects (PDO)</link>
    para permitir el acceso de PHP a bases de datos MySQL 3.x, 4.x y 5.x.
   </para>
   <para>
    PDO_MYSQL aprovechará el soporte nativo de declaraciones preparadas
    presentes en MySQL 4.1 y superior. Si una versión anterior de las bibliotecas 
    de cliente de MySQL es utilizada, PDO las emulará.
   </para>
   <warning>
    <para>
     Atención: Algunos tipos de tablas MySQL (motores de almacenamiento) no son compatibles 
     con las transacciones. Cuando se escriba código de base de datos transaccional usando
     un tipo de tabla que no soporta transacciones, MySQL supondrá que una transacción 
     fue iniciada con éxito. Además, cualquier consulta DDL emitida validará implícitamente
     cualquier transacción pendiente.
    </para>
   </warning>
  </section>
  &reference.pdo-mysql.configure;
  &reference.pdo-mysql.constants;
  &reference.pdo-mysql.ini;
 </partintro>
 
 <refentry xml:id="ref.pdo-mysql.connection">
  <refnamediv>
   <refname>PDO_MYSQL DSN</refname>
   <refpurpose>Conexión a las bases de datos MySQL</refpurpose>
  </refnamediv>
  
  <refsect1 role="description">
   &reftitle.description;
   <para>
    El Data Source Name (DSN) de PDO_MYSQL está compuesto por los siguientes elementos:
    <variablelist>
     <varlistentry>
      <term>prefijo DSN</term>
      <listitem>
       <para>
        El prefijo DSN es <userinput>mysql:</userinput>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><constant>host</constant></term>
      <listitem>
       <para>
        El nombre de host donde reside el servidor de base de datos.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><constant>port</constant></term>
      <listitem>
       <para>
        El número de puerto que el servidor de base de datos está escuchando.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><constant>dbname</constant></term>
      <listitem>
       <para>
        El nombre de la base de datos.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><constant>unix_socket</constant></term>
      <listitem>
       <para>
        El socket Unix MySQL (no debe ser usado junto a <literal>host</literal>
        o <literal>port</literal>).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><constant>charset</constant></term>
      <listitem>
        <para>
         Juego de caracteres.
        </para>
        <para>
         Hasta PHP 5.3.6, este elemento era ignorado silenciosamente. Se puede
         replicar el mismo comportamiento parcialmente con la opción de driver
         <constant>PDO::MYSQL_ATTR_INIT_COMMAND</constant>, 
         como muestra el siguiente ejemplo.
        </para>
        <warning>
         <simpara>
          El método del siguiente ejemplo sólo puede usarse con juegos de caracteres
          que compartan una misma represntación ASCII en 7 bits, como
          ISO-8859-1 o UTF-8. Los usuarios que utilicen juegos de caracteres con representaciones
          distintas (como UTF-16 o Big5) <emphasis>tienen</emphasis> que
          usar la opción <constant>charset</constant> que ofrece PHP versión 5.3.6
          y posterior.
         </simpara>
        </warning>
        <para>
         <example>
          <title>
           Estableciendo el juego de caracteres de la conexión a UTF-8 antes de PHP 5.3.6
          </title>
          <programlisting role="php">
<![CDATA[
<?php
$dsn = 'mysql:host=localhost;dbname=testdb';
$username = 'username';
$password = 'password';
$options = array(
    PDO::MYSQL_ATTR_INIT_COMMAND => 'SET NAMES utf8',
); 

$dbh = new PDO($dsn, $username, $password, $options);
?>
]]>
          </programlisting>
         </example>
        </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
  </refsect1>
  
   <refsect1 role="changelog">
    &reftitle.changelog;
    <para>
     <informaltable>
      <tgroup cols="2">
       <thead>
        <row>
         <entry>&Version;</entry>
         <entry>&Description;</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>5.3.6</entry>
         <entry>
          Hasta la versión 5.3.6, <constant>charset</constant> era ignorado.
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
    </para>
   </refsect1>
  
  <refsect1 role="examples">
   &reftitle.examples;
   <para>
    <example>
     <title>ejemplos PDO_MYSQL DSN</title>
     <para>
      El siguiente ejemplo muestra una PDO_MYSQL DSN para conectar a 
      base de datos MySQL:
      <programlisting>
<![CDATA[
mysql:host=localhost;dbname=testdb
]]>
      </programlisting>
      Más ejemplos completos:
      <programlisting>
<![CDATA[
mysql:host=localhost;port=3307;dbname=testdb
mysql:unix_socket=/tmp/mysql.sock;dbname=testdb
]]>
      </programlisting>
     </para>
    </example>
   </para>
  </refsect1>
  
  <refsect1 role="notes">
   &reftitle.notes;
   <note>
    <title>Solo Unix:</title>
    <para>
     Cuando un nombre de host está definido como <literal>"localhost"</literal>, la conexión 
     al servidor se realiza a través de un socket de dominio. Si PDO_MYSQL se compila para libmysql 
     entonces la ubicación del archivo de socket es la ubicación de compilado de libmysql. 
     Si PDO_MYSQL se compila para mysqlnd puede ser establecido un socket por defecto a través 
     de la configuración de <link linkend="ini.pdo-mysql.default-socket">pdo_mysql.default_socket</link>.
    </para>
   </note>
  </refsect1>
 </refentry>
 
</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->