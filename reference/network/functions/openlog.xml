<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.4 $ -->
<!-- EN-Revision: 1.11 Maintainer: lboshell Status: ready -->
<refentry xml:id="function.openlog" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>openlog</refname>
  <refpurpose>Abrir una conexión con el registro del sistema</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>openlog</methodname>
   <methodparam><type>string</type><parameter>id</parameter></methodparam>
   <methodparam><type>int</type><parameter>opcion</parameter></methodparam>
   <methodparam><type>int</type><parameter>facilidad</parameter></methodparam>
  </methodsynopsis>
  <para>
   <function>openlog</function> abre una conexión con el registro del
   sistema para un programa.
   <!--
   Los valores
   para <parameter>opcion</parameter> y
   <parameter>recurso</parameter> son dados más adelante.

   -->
  </para>
  <para>
   El uso de <function>openlog</function> es opcional. La función será
   llamada automáticamente por <function>syslog</function> si es necesario,
   en cuyo caso el valor predeterminado para <parameter>id</parameter> será
   &false;.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>id</parameter></term>
     <listitem>
      <para>
       La cadena <parameter>id</parameter> es agregada a cada mensaje.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>opcion</parameter></term>
     <listitem>
      <para>
       El argumento <parameter>opcion</parameter> es usado para indicar qué
       opciones de registro serán usadas cuando se genere un mensaje de
       registro.
       <table>
        <title>Opciones de <function>openlog</function></title>
        <tgroup cols="2">
         <thead>
          <row>
           <entry>Constante</entry>
           <entry>Descripción</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>LOG_CONS</constant></entry>
           <entry>
            si hay un error mientras se envían datos al registro del
            sistema, escribirlos directamente a la consola del sistema
           </entry>
          </row>
          <row>
           <entry><constant>LOG_NDELAY</constant></entry>
           <entry>
            abrir la conexión con el registro inmediatamente
           </entry>
          </row>
          <row>
           <entry><constant>LOG_ODELAY</constant></entry>
           <entry>
            (predeterminado) retrasar la apertura de la conexión hasta que
            el primer mensaje sea registrado
           </entry>
          </row>
          <row>
           <entry><constant>LOG_PERROR</constant></entry>
           <entry>imprimir el mensaje de registro a la salida de errores
           estándar también</entry>
          </row>
          <row>
           <entry><constant>LOG_PID</constant></entry>
           <entry>incluir el valor PID con cada mensaje</entry>
          </row>
         </tbody>
        </tgroup>
       </table>
       Es posible usar una o más de estas opciones. Cuando se usen múltiples
       opciones, es necesario combinarlas mediante la operación
       <literal>OR</literal>, es decir, para abrir la conexión
       inmediatamente, escribir a la consola e incluir el PID en cada
       mensaje, se deberá usar: <literal>LOG_CONS | LOG_NDELAY |
       LOG_PID</literal>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>facilidad</parameter></term>
     <listitem>
      <para>
       El argumento <parameter>facilidad</parameter> es usado para
       especificar qué tipo de programa está registrando el mensaje. Esto le
       permite especificar (en la configuración de syslog de su máquina)
       cómo serán manejados los mensajes provenientes de diferentes
       recursos.
       <table>
        <title>Recursos de <function>openlog</function></title>
        <tgroup cols="2">
         <thead>
          <row>
           <entry>Constante</entry>
           <entry>Descripción</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>LOG_AUTH</constant></entry>
           <entry>
            mensajes de seguridad/autorización (use
            <constant>LOG_AUTHPRIV</constant> en su lugar en sistemas en
            donde ésta última esté definida)
           </entry>
          </row>
          <row>
           <entry><constant>LOG_AUTHPRIV</constant></entry>
           <entry>mensajes de seguridad/autorización (privados)</entry>
          </row>
          <row>
           <entry><constant>LOG_CRON</constant></entry>
           <entry>daemonio de reloj (cron y at)</entry>
          </row>
          <row>
           <entry><constant>LOG_DAEMON</constant></entry>
           <entry>otros daemonios de sistema</entry>
          </row>
          <row>
           <entry><constant>LOG_KERN</constant></entry>
           <entry>mensajes de núcleo</entry>
          </row>
          <row>
           <entry><constant>LOG_LOCAL0</constant> ... <constant>LOG_LOCAL7</constant></entry>
           <entry>reservados para uso local, no están disponibles en
           Windows</entry>
          </row>
          <row>
           <entry><constant>LOG_LPR</constant></entry>
           <entry>subsistema de impresora de línea</entry>
          </row>
          <row>
           <entry><constant>LOG_MAIL</constant></entry>
           <entry>subsistema de correo</entry>
          </row>
          <row>
           <entry><constant>LOG_NEWS</constant></entry>
           <entry>subsistema de noticias USENET</entry>
          </row>
          <row>
           <entry><constant>LOG_SYSLOG</constant></entry>
           <entry>mensajes generados internamente por syslogd</entry>
          </row>
          <row>
           <entry><constant>LOG_USER</constant></entry>
           <entry>mensajes genéricos de nivel de usuario</entry>
          </row>
          <row>
           <entry><constant>LOG_UUCP</constant></entry>
           <entry>subsistema UUCP</entry>
          </row>
         </tbody>
        </tgroup>
       </table>
      </para>
      <note>
       <para>
        <constant>LOG_USER</constant> es el único tipo de registro válido
        bajo sistemas operativos Windows
       </para>
      </note>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &return.success;
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>define_syslog_variables</function></member>
    <member><function>syslog</function></member>
    <member><function>closelog</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
