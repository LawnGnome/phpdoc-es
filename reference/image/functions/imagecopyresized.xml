<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.5 Maintainer: javi Status: ready -->
<!-- splitted from ./en/functions/image.xml, last change in rev 1.36 -->
  <refentry id="function.imagecopyresized">
   <refnamediv>
    <refname>imagecopyresized</refname>
    <refpurpose>Copia y redimensiona parte de una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>bool</type><methodname>imagecopyresized</methodname>
     <methodparam><type>resource</type><parameter>dst_im</parameter></methodparam>
     <methodparam><type>resource</type><parameter>src_im</parameter></methodparam>
     <methodparam><type>int</type><parameter>dstX</parameter></methodparam>
     <methodparam><type>int</type><parameter>dstY</parameter></methodparam>
     <methodparam><type>int</type><parameter>srcX</parameter></methodparam>
     <methodparam><type>int</type><parameter>srcY</parameter></methodparam>
     <methodparam><type>int</type><parameter>dstW</parameter></methodparam>
     <methodparam><type>int</type><parameter>dstH</parameter></methodparam>
     <methodparam><type>int</type><parameter>srcW</parameter></methodparam>
     <methodparam><type>int</type><parameter>srcH</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>imagecopyresized</function> copia una porci&oacute;n rectangular de una imagen 
     hacia otra imagen. <parameter>dst_im</parameter> es la 
     imagen de destino, <parameter>src_im</parameter> es el
     identificador de la imagen origen. Si la altura y anchura de
     las coordenadas de origen y destino difieren se realizar&aacute;
     un estrechamiento o un estiramiento apropiado del fragmento de 
     la imagen. Las coordenadas van localizadas sobre la esquina
     superior izquierda. Esta funci&oacute;n se puede usar para copiar
     regiones dentro de la misma imagen (si <parameter>dst_im</parameter> 
     es igual que <parameter>src_im</parameter>) pero si las regiones
     se solapan los resultados seran impredecibles.
	</para>
	<note>
    <para>
	 Existe un problema debido a las limitaciones de las imagenes con paleta 
	 de colores (255+1 colores). La acci&oacute;n de volver a muestrear o 
	 filtrar una imagen, normalmente requiere de m&aacute;s de 255 colores, con 
	 los que se usa una aproximaci&oacute;n para calcular el nuevo pixel muestreado 
	 y su color.
	</para>
	<para>
	 En las imagenes con paleta de color, se trata de obtener el nuevo color, 
	 o el color calculado m&aacute;s pr&oacute;ximo en caso de error. Sin embargo, 
	 este nuevo color no siempre es el que visualmente es mas semejante. De esta forma, 
	 se pueden producir resultados extra&ntilde;os como imagenes vac&iacute;as.
	</para>
	<para>
	 Para solventar este problema, se recomienda usar imagenes de color real como 
	 imagen destino, que se pueden obtener por ejemplo mediante la funci&oacute;n 
     <function>imagecreatetruecolor</function>.
    </para>
   </note>
  </refsect1>

  <refsect1>
   &reftitle.examples;
   <para>
    <example>
     <title>Redimensionar una imagen</title>
     <para>
      Este ejemplo muestra una imagen a la mitad de su tama&ntilde;o real.
     </para>
     <programlisting role="php">
<![CDATA[
<?php
// Variables que indican el archivo de la imagen y el nuevo tamano
$filename = 'test.jpg';
$percent = 0.5;

// Content-type para el navegador
header('Content-type: image/jpeg');

// Se obtienen las nuevas dimensiones
list($width, $height) = getimagesize($filename);
$newwidth = $width * $percent;
$newheight = $height * $percent;

// Cargar la imagen
$thumb = imagecreate($newwidth, $newheight);
$source = imagecreatefromjpeg($filename);

// Redimensionar
imagecopyresized($thumb, $source, 0, 0, 0, 0, $newwidth, $newheight, $width, $height);

// Mostrar la nueva imagen
imagejpeg($thumb);
?>
]]>
     </programlisting>
     <para>
      La imagen se muestra a la mitad de su tama&ntilde;o original, aunque 
	  se puede obtener mejor calidad si se emplea la funci&oacute;n 
	  <function>imagecopyresampled</function>.
     </para>
    </example>
   </para>
  </refsect1>

  <refsect1>
   &reftitle.seealso;
   <para>
    <function>imagecopyresampled</function>
   </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
