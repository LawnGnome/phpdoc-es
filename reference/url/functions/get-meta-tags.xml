<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.7 $ -->
<!-- EN-Revision: 1.11 Maintainer: lboshell Status: ready -->
<refentry xml:id="function.get-meta-tags" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>get_meta_tags</refname>
  <refpurpose>Extrae todo el contenido de atributos de etiquetas meta de un
  archivo y devuelve una matriz</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>array</type><methodname>get_meta_tags</methodname>
   <methodparam><type>string</type><parameter>nombre_archivo</parameter></methodparam>
   <methodparam choice="opt"><type>bool</type><parameter>usar_ruta_inclusion</parameter></methodparam>
  </methodsynopsis>
  <para>
   Abre <parameter>nombre_archivo</parameter> y lo procesa línea por línea
   en busca de etiquetas &lt;meta&gt; en el archivo.  El procesamiento se
   detiene al encontrar <literal>&lt;/head&gt;</literal>.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>nombre_archivo</parameter></term>
     <listitem>
      <para>
       La ruta al archivo HTML, como una cadena. Éste puede ser un archivo
       local o una <acronym>URL</acronym>.
      </para>
      <para>
       <example>
        <title>Lo que procesa <function>get_meta_tags</function></title>
        <programlisting role="html">
<![CDATA[
<meta name="author" content="nombre">
<meta name="keywords" content="php documentacion">
<meta name="DESCRIPTION" content="un manual de php">
<meta name="geo.position" content="49.33;-86.59">
</head> <!-- el procesamiento se detiene aquí -->
]]>
        </programlisting>
       </example>
       (preste atención a los finales de línea, - PHP usa una función nativa
       para procesar la entrada, así que un archivo Mac no funcionará en
       Unix).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>usar_ruta_inclusion</parameter></term>
     <listitem>
      <para>
       Definir <parameter>usar_ruta_inclusion</parameter> como &true;
       producirá que PHP intente abrir el archivo a lo largo de la ruta de
       inclusión estándar, tal y como se define en la directiva <link
       linkend="ini.include-path">include_path</link>. Éste parámetro es
       usado para archivos locales, no URLs.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Devuelve una matriz con todas las etiquetas meta procesadas.
  </para>
  <para>
   El valor de la propiedad 'name' se convierte en la clave, el valor del
   contenido de la propiedad se convierte en el valor de la matriz devuelta,
   de modo que es posible usar fácilmente funciones estándar de matrices
   para recorrerlo o acceder a valores sencillos. Los caracteres especiales
   en el valor de la propiedad name son sustituidos con '_', el resto es
   convertido a minúsculas. Si dos etiquetas meta tienen el mismo nombre,
   sólo se devuelve la última.
  </para>
 </refsect1>

 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>4.0.5</entry>
       <entry>
        Se agregó el soporte para atributos HTML sin comillas.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Lo que devuelve <function>get_meta_tags</function></title>
    <programlisting role="php">
<![CDATA[
<?php
// Asumiendo que las anteriores etiquetas se encuentran en www.example.com
$etiquetas = get_meta_tags('http://www.example.com/');

// Note como las claves están ahora en minúsculas, y como . fue
// reemplazado con _ en la clave
echo $etiquetas['author'];       // nombre
echo $etiquetas['keywords'];     // documentación php
echo $etiquetas['description'];  // un manual de php
echo $etiquetas['geo_position']; // 49.33;-86.59
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>htmlentities</function></member>
    <member><function>urlencode</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

