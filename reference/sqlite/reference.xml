<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1.17 Maintainer: javi Status: ready -->
 <reference xml:id="ref.sqlite" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Funciones SQLite</title>
  <titleabbrev>SQLite</titleabbrev>

  <partintro>
   <section xml:id="sqlite.intro">
    &reftitle.intro;
    <para>
     Se trata de una extensi&oacute;n que permite emplear el motor de base de datos embebible SQLite.
	 SQLite es una biblioteca de C que implementa un motor de base de datos SQL embebible.
	 Las aplicaciones que emplean la biblioteca de SQLite pueden emplear bases de datos 
	 sin necesidad de instalar un motor de bases datos externo.
    </para>
    <para>
     SQLite no es una biblioteca cliente para acceder a un servidor de bases datos.
	 El propio SQLite es el servidor de base datos. La biblioteca SQLite lee y escribe 
	 directamente sobre los archivos de la base de datos que se encuentran en el disco.
    </para>
    <note>
     <para>
      Para m&aacute;s informaci&oacute;n puede acceder al sitio web oficial de SQLite: <link xlink:href="&url.sqlite;">&url.sqlite;</link>.
     </para>
    </note>
   </section>

   <section xml:id="sqlite.install">
    <title>Instalaci&oacute;n</title>
    <para>
	 Lea el archivo INSTALL que viene con el paquete o utilice el instalador de PEAR con 
	 el siguiente comando "pear install sqlite".
     El propio SQLite ya est&aacute; incluido, as&iacute; que no es necesario instalar 
	 ning&uacute;n programa adicional.
    </para>
    <para>
     Los usuarios de Windows pueden descargar el archivo DLL de la extensi&oacute;n SQLite en esta direcci&oacute;n:
     (<link xlink:href="&url.pecl.get.win;php_sqlite.dll">php_sqlite.dll</link>).
    </para>
    <para>
     En PHP 5, la extensi&oacute;n SQLite y el propio motor de bases de datos est&aacute; incluido y compilado 
	 por defecto.
    </para>
    <note>
     <title>Instalaci&oacute;n en Windows con cuentas de usuario sin privilegios</title>
     <para>
      En los sistemas operativos Windows, las cuentas sin privilegios no tienen la variable de 
	  entorno <varname>TMP</varname> establecida por defecto. Por este motivo, SQLite crear&aacute; 
	  los archivos temporales en el directorio de Windows, lo que no es muy recomendable. La  
	  soluci&oacute;n pasa por crear una variable de entorno llamada <varname>TMP</varname> 
	  para el servidor web o para la cuenta de usuario con la que se ejecuta el servidor web.
	  Si el servidor empleado es Apache, puede establecerse esta variable mediante la 
	  directiva <command>SetEnv</command> del archivo de configuraci&oacute;n &httpd.conf;.
	  Por ejemplo:
      <informalexample>
       <programlisting role="apache-conf">
<![CDATA[
SetEnv TMP c:/temp
]]>
       </programlisting>
      </informalexample>
      Si no es posible establecer la variable a nivel de servidor, se puede realizar en el mismo 
	  script:
      <informalexample>
       <programlisting role="php">
<![CDATA[
putenv('TMP=C:/temp');
]]>
       </programlisting>
      </informalexample>
      La configuraci&oacute;n debe hacer referencia a un directorio en el que el servidor 
	  web tenga permisos para crear archivos y por tanto para escribir y borrar los archivos 
	  creados. Si no tiene los permisos adecuados, se mostrar&aacute; el siguiente mensaje 
	  de error: 
	  <computeroutput>
       malformed database schema -
       unable to open a temporary database file for storing temporary tables
      </computeroutput>
     </para>
    </note>
   </section>
   <section xml:id="sqlite.requirements">
    &reftitle.required;
    <para>
     Para poder utilizar estas funciones, se debe compilar PHP con soporte para SQLite o 
	 cargar la extensi&oacute;n SQLite de forma din&aacute;mica desde el archivo &php.ini;.
    </para>
   </section>
   
   <section xml:id="sqlite.resources">
    &reftitle.resources;
    <para>
     La interfaz de SQLite utiliza 2 recursos: el primero es de la conexi&oacute;n con la base 
	 de datos y el segundo es el resultado.
    </para>
   </section>

   &reference.sqlite.constants;

   <section xml:id="sqlite.classes">
    &reftitle.classes;

    <section xml:id="sqlite.class.sqlitedatabase">
     <title><classname>SQLiteDatabase</classname></title>
     <para>
      Representa una base de datos de SQLite abierta.
     </para>
     <section xml:id='sqlite.class.sqlitedatabase.constructor'>
      &reftitle.constructor;
      <itemizedlist>
       <listitem>
        <para><link linkend='function.sqlite-open'>__construct</link> - construye un nuevo objeto de tipo SQLiteDatabase</para>
       </listitem>
      </itemizedlist>
     </section>
     <section xml:id='sqlite.class.sqlitedatabase.methods'>
      &reftitle.methods;
      <itemizedlist>
       <listitem>
        <para><link linkend='function.sqlite-query'>query</link> - Ejecuta una consulta</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-exec'>queryExec</link> - Ejecuta una consulta sin resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-array-query'>arrayQuery</link> - Ejecuta una consulta y devuelve el resultado como una matriz</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-single-query'>singleQuery</link> - Ejecuta una consulta y devuelve o una matriz para una columna o el valor de la primera fila</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-unbuffered-query'>unbufferedQuery</link> - Ejecuta una consulta que devuelve el resultado de forma inmediata (unbuffered)</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-last-insert-rowid'>lastInsertRowid</link> - Devuelve el identificador de la &uacute;ltima fila que se ha insertado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-changes'>changes</link> - Devuelve el n&uacute;mero de filas que se han modificado tras la &uacute;ltima sentencia SQL</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-create-aggregate'>createAggregate</link> - Registra una FDU (Funci&oacute;n Definida por el Usuario) empleada para agregar resultados en las sentencias SQL</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-create-function'>createFunction</link> - Registra una FDU (Funci&oacute;n Definida por el Usuario) para emplearla en las sentencias SQL</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-busy-timeout'>busyTimeout</link> - Establece el valor o deshabilita la duraci&oacute;n del temporizador de ocupado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-last-error'>lastErorr</link> - Devuelve el &uacute;ltimo c&oacute;digo de error del &uacute;ltimo error producido</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-column-types'>fetchColumnTypes</link> - Devuelve una matriz con los tipos de las columnas de una tabla determinada</para>
       </listitem>
      </itemizedlist>
     </section>
    </section>

    <section xml:id="sqlite.class.sqliteresult">
     <title><classname>SQLiteResult</classname></title>
     <para>
      Representa un resultado almacenado (buffered) de SQLite
     </para>
     <section xml:id='sqlite.class.sqliteresult.methods'>
      &reftitle.methods;
      <itemizedlist>
       <listitem>
        <para><link linkend='function.sqlite-fetch-array'>fetch</link> - Obtiene la siguiente fila del resultado y la devuelve como una matriz</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-object'>fetchObject</link> - Obtiene la siguiente fila del resultado y la devuelve como un objeto</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-single'>fetchSingle</link> - Obtiene la primera columna del resultado y la devuelve en una cadena</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-all'>fetchAll</link> - Obtiene todas las filas del resultado y las devuelve como una matriz de matrices</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-column'>column</link> - Obtiene una columna de la fila actual del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-num-fields'>numFields</link> - Obtiene el n&acute;mero de campos del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-field-name'>fieldName</link> - Obtiene el nombre de un campo del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-current'>current</link> - Obtiene la fila actual del resultado y la devuelve como una matriz</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-key'>key</link> - Obtiene el &iacute;ndice de la fila actual</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-next'>next</link> - Se desplaza hasta el siguiente n&uacute;mero de fila</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-valid'>valid</link> - Indica si hay disponibles m&aacute;s filas</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-rewind'>rewind</link> - Se desplaza hasta el primer n&uacute;mero de fila del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-prev'>prev</link> - Se desplaza hasta el anterior n&uacute;mero de fila</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-has-prev'>hasPrev</link> - Indica si hay disponible alguna fila anterior</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-num-rows'>numRows</link> - Obtiene el n&acute;mero de filas en el resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-seek'>seek</link> - Se desplaza hasta un determinado n&uacute;mero de fila</para>
       </listitem>
      </itemizedlist>
     </section>
    </section>

    <section xml:id="sqlite.class.sqliteunbuffered">
     <title><classname>SQLiteUnbuffered</classname></title>
     <para>
      Representa un resultado no almacenado (unbuffered) de SQLite. Los resultados no almacenados son secuenciales y por tanto solamente se puede 
	  avanzar en ellos (no retroceder).
     </para>
     <section xml:id='sqlite.class.sqliteunbuffered.methods'>
      &reftitle.methods;
      <itemizedlist>
       <listitem>
        <para><link linkend='function.sqlite-fetch-array'>fetch</link> - Obtiene la siguiente fila del resultado y la devuelve como una matriz</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-object'>fetchObject</link> - Obtiene la siguiente fila del resultado y la devuelve como un objeto</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-single'>fetchSingle</link> - Obtiene la primera columna del resultado y la devuelve en una cadena</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-fetch-all'>fetchAll</link> - Obtiene todas las filas del resultado y las devuelve como una matriz de matrices</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-column'>column</link> - Obtiene una columna de la fila actual del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-num-fields'>numFields</link> - Obtiene el n&acute;mero de campos del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-field-name'>fieldName</link> - Obtiene el nombre de un campo del resultado</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-current'>current</link> - Obtiene la fila actual del resultado y la devuelve como una matriz</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-next'>next</link> - Se desplaza hasta el siguiente n&uacute;mero de fila</para>
       </listitem>
       <listitem>
        <para><link linkend='function.sqlite-valid'>valid</link> - Indica si hay disponibles m&aacute;s filas</para>
       </listitem>
      </itemizedlist>
     </section>
    </section>

   </section>

   &reference.sqlite.ini;
  </partintro>

  &reference.sqlite.functions;

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
