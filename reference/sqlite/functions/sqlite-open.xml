<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1.16 Maintainer: javi Status: ready -->
<refentry id="function.sqlite-open">
 <refnamediv>
  <refname>sqlite_open</refname>
  <refpurpose>Abre una base de datos de SQLite y la crea si no exist&iacute;a</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>resource</type><methodname>sqlite_open</methodname>
   <methodparam><type>string</type><parameter>nombre_archivo</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>modo</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter role="reference">mensaje_error</parameter></methodparam>
  </methodsynopsis>
  <para>(Constructor) seg&uacute;n el estilo orientado a objetos:</para>
  <classsynopsis>
   <ooclass><classname>SQLiteDatabase</classname></ooclass>
   <constructorsynopsis>
    <methodname>__construct</methodname>
    <methodparam><type>string</type><parameter>nombre_archivo</parameter></methodparam>
    <methodparam choice="opt"><type>int</type><parameter>modo</parameter></methodparam>
    <methodparam choice="opt"><type>string</type><parameter role="reference">mensaje_error</parameter></methodparam>
   </constructorsynopsis>
  </classsynopsis>
  <para>
   Abre una base de datos de SQLite o la crea si no exist&iacute;a
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>nombre_archivo</parameter></term>
     <listitem>
      <para>
       El nombre de archivo de la base de datos de SQLite. Si el archivo no existe, SQLite 
	   intenta crearlo. PHP debe tener permisos de escritura en el archivo si se van 
	   a insertar datos, si el esquema de la base de datos se modifica o si se va 
	   a crear la propia base de datos por no existir.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>modo</parameter></term>
     <listitem>
      <para>
       El modo del archivo, que se emplea para abrir la base de datos en modo 
	   solo lectura. Actualmente, la librer&iacute;a sqlite ignora este par&aacute;metro.
	   El valor por defecto en formato octal es <literal>0666</literal>, que adem&aacute;s es 
	   el valor recomendado.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>mensaje_error</parameter></term>
     <listitem>
      <para>
       Se pasa por referencia y contiene un mensaje de error descriptivo que explica 
	   el motivo por el que no se pudo abrir la base de datos.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Devuelve un recurso en caso de &eacute;xito (que realmente es un manejador de base de datos) o &false; en caso de error.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Ejemplo de <function>sqlite_open</function></title>
    <programlisting role="php">
<![CDATA[
<?php
if ($db = sqlite_open('mysqlitedb', 0666, $sqlite_error)) { 
    sqlite_query($db, 'CREATE TABLE prueba (nombre varchar(10))');
    sqlite_query($db, "INSERT INTO prueba VALUES ('prueba_de_nombre')");
    $resultado = sqlite_query($db, 'select nombre from prueba');
    var_dump(sqlite_fetch_array($resultado)); 
} else {
    die($sqlite_error);
}
?>]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <tip>
   <simpara>
    En sistemas Unix, SQLite puede tener problemas con scripts que hacen uso de llamadas a fork().
	Los scripts que realicen ese tipo de llamadas, deber&iacute;n cerrar el manejador antes de realizar 
	el fork() y volver a abrirlo en el proceso hijo y/o en el proceso padre original.
    Para m&aacute;s informaci&oacute;n sobre este asunto, vea la <ulink url="&url.sqlite.interface.c;">La interfaz de C 
	a la librer&iacute;a de SQLite</ulink> y en concreto la secci&oacute;n <literal>Multi-Threading And SQLite</literal> (SQLite 
	y los procesos con m&uacute;ltiples hilos de ejecuci&oacute;n). 
   </simpara>
  </tip>
  <tip>
   <simpara>
    No se recomienda utilizar bases de datos SQLite montadas sobre particiones NFS.
	Como es sabido, NFS tiene un comportamiento con los bloqueos bastante deficiente, 
	lo que puede provocar que no se puedan abrir bases de datos o que el comportamiento 
	con las que est&eacute;n abiertas sea impredecible debido al bloqueo.
   </simpara>
  </tip>
  <note>
   <simpara>
    Desde la versi&oacute;n 2.8.2 de la librer&iacute;a SQLite, se puede indicar como 
	<parameter>nombre_archivo</parameter> el valor <literal>:memory:</literal>, con lo 
	que se crear&aacute; la base de datos en la memoria del sistema. Este tipo de bases 
	de datos son &uacute;tiles cuando se necesita realizar un procesamiento temporal, 
	ya que las bases de datos residentes en memoria se eliminan cuando termina la ejecuci&oacute;n 
	del proceso. Tambi&eacute;n puede ser &uacute;til cuando se emplea junto con la sentencia SQL 
	<literal>ATTACH DATABASE</literal>, de forma que se puedan cargar bases de datos y mover 
	y consultar datos entre ellas.
   </simpara>
  </note>
  <note>
   <simpara>
    SQLite es &safemode; y est&aacute; preparada para el "open_basedir".
   </simpara>
  </note>
 </refsect1>
 
 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>sqlite_popen</function></member>
    <member><function>sqlite_close</function></member>
    <member><function>sqlite_factory</function></member>
   </simplelist>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
 Local variables:
 mode: sgml
 sgml-omittag:t
 sgml-shorttag:t
 sgml-minimize-attributes:nil
 sgml-always-quote-attributes:t
 sgml-indent-step:1
 sgml-indent-data:t
 sgml-parent-document:nil
 sgml-default-dtd-file:"../../manual.ced"
 sgml-exposed-tags:nil
 sgml-local-catalogs:nil
 sgml-local-ecat-files:nil
 End:
 vim600: syn=xml fen fdm=syntax fdl=2 si
 vim: et tw=78 syn=sgml
 vi: ts=1 sw=1
 -->
