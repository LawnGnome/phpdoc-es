<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1.14 Maintainer: javi Status: ready -->
<refentry id="function.sqlite-query">
 <refnamediv>
  <refname>sqlite_query</refname>
  <refname>SQLiteDatabase->query</refname>
  <refpurpose>Ejecuta una consulta sobre la base de datos y devuelve un manejador del resultado</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>resource</type><methodname>sqlite_query</methodname>
   <methodparam><type>resource</type><parameter>manejador_bd</parameter></methodparam>
   <methodparam><type>string</type><parameter>consulta</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>tipo_resultado</parameter></methodparam>
  </methodsynopsis>
  <methodsynopsis>
   <type>resource</type><methodname>sqlite_query</methodname>
   <methodparam><type>string</type><parameter>consulta</parameter></methodparam>
   <methodparam><type>resource</type><parameter>manejador_bd</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>tipo_resultado</parameter></methodparam>
  </methodsynopsis>
  <para>M&eacute;todo que sigue el estilo orientado a objetos:</para>
  <classsynopsis>
   <ooclass><classname>SQLiteDatabase</classname></ooclass>
   <methodsynopsis>
    <type>SQLiteResult</type><methodname>query</methodname>
    <methodparam><type>string</type><parameter>consulta</parameter></methodparam>
    <methodparam choice="opt"><type>int</type><parameter>tipo_resultado</parameter></methodparam>
   </methodsynopsis>
  </classsynopsis>
  <para>
   Ejecuta una sentencia SQL dada por el par&aacute;metro <parameter>consulta</parameter> 
   contra una base de datos identificada mediante el par&aacute;metro <parameter>manejador_bd</parameter>.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>consulta</parameter></term>
     <listitem>
      <para>
       La consulta que se quiere ejecutar.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>manejador_bd</parameter></term>
     <listitem>
      <para>
       El recurso que identifica la base de datos SQLite (y que es el que 
	   devuelve la funci&oacute;n <function>sqlite_open</function>).
	   Este par&aacute;metro no se requiere cuando se emplea el m&eacute;todo orientado 
	   a objetos.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>tipo_resultado</parameter></term>
     <listitem>
      &sqlite.result-type;
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
  &sqlite.param-compat;
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   La funci&oacute;n devuelve el manejador del resultado o &false; si se produce un error.
   Para las consultas que devuelven una serie de filas, el manejador del resultado se 
   puede emplear con funciones como <function>sqlite_fetch_array</function> y 
   <function>sqlite_seek</function>.
  </para>
  <para>
   Independientemente del tipo de consulta, la funci&oacute;n devuelve &false; 
   si la consulta ha producido un error.
  </para>
  <para>
   <function>sqlite_query</function> devuelve un manekador de resultado que referencia un 
   resultado almacenado (buffered) y que se puede recorrer hacia delante y hacia detr&aacute;s.
   Este tipo de resultado es &uacute;til para consultas peque&ntilde;as en las que es necesario 
   recorrer el resultado en cualquier sentido para poder acceder de forma directa a cualquiera 
   de las filas. Los resultados almacenados reservan la memoria suficiente como para almacenar 
   todo el resultado y el manejador no se devuelve hasta que se han obtenido todas las filas.
   Si solamente es necesario el acceso secuencial a los resultados, se recomienda emplear 
   la funci&oacute;n <function>sqlite_unbuffered_query</function>, que tiene un rendimiento 
   muy superior, ya que el resultado no es almacenado (unbuffered).
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <warning>
   <simpara>
    SQLite <emphasis>permite</emphasis> ejecutar m&uacute;ltiples consultas seguidas separadas por 
	un punto y coma. De esta forma, se pueden ejecutar de una vez una serie de consultas SQL 
	que se han cargado por ejemplo de un archivo o que se han incluido en un script. De todas formas, 
	este funcionamiento solo es v&aacute;lido cuando el resultado de una consulta no se utiliza en 
	las dem&aacute;s. Si se utiliza el resultado, entonces solamente se ejecuta la primera 
	sentencia SQL. La funci&oacute;n <function>sqlite_exec</function> siempre ejecuta m&uacute;ltiples 
	consultas SQL.
   </simpara>
   <simpara>
    Cuando se ejecutan varias consultas de forma seguida, el valor devuelto por esta funci&oacute;n 
	ser&aacute; &false; si se ha producido un error o indefinido en cualquier otro caso ya que 
	depende de las consultas realizadas (puede que devuelva &true; si se ha tenido &eacute;xito o 
	puede que devuelva un manejador de un resultado).
   </simpara>
  </warning>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>sqlite_unbuffered_query</function></member>
    <member><function>sqlite_array_query</function></member>
   </simplelist>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
 Local variables:
 mode: sgml
 sgml-omittag:t
 sgml-shorttag:t
 sgml-minimize-attributes:nil
 sgml-always-quote-attributes:t
 sgml-indent-step:1
 sgml-indent-data:t
 sgml-parent-document:nil
 sgml-default-dtd-file:"../../manual.ced"
 sgml-exposed-tags:nil
 sgml-local-catalogs:nil
 sgml-local-ecat-files:nil
 End:
 vim600: syn=xml fen fdm=syntax fdl=2 si
 vim: et tw=78 syn=sgml
 vi: ts=1 sw=1
 -->
