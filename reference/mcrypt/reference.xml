<?xml version="1.0" encoding="iso-8859-1"?>
 <reference id="ref.mcrypt">
  <title>Funciones Criptogr&aacute;ficas</title>
  <titleabbrev>mcrypt</titleabbrev>
  
  <partintro>
   <para>
    Estas funciones trabajan usando <ulink url="&url.mcrypt;">mcrypt</ulink>.</para>

   <para>
    Esta es una interfaz a la librer&iacute;a mcrypt, que soporta una gran
    variedad de algoritmos de bloque como DES, TripleDES, Blowfish
    (por defecto), 3-WAY, SAFER-SK64, SAFER-SK128, TWOFISH, TEA, RC2 y
    GOST en los modos de cifrado CBC, OFB, CFB y ECB. Adicionalmente, soporta
    RC6 e IDEA que se consideran "no-libres".</para>

   <para>
    Para usarlos, descarga libmcrypt-x.x.tar.gz de <ulink url="&url.mcrypt;">aqu&iacute;</ulink> y sigue las instrucciones
    de instalaci&oacute;n incluidas. Necesitas compilar PHP con el par&aacute;metro 
    <option role="configure">--with-mcrypt</option> para activar esta extensi&oacute;n.</para>

   <para>
    mcrypt puede usarse para encriptar y desencriptar usando los cifrados
    mencionados arriba. Los cuatro comandos importantes de mcrypt
    (<function>mcrypt_cfb</function>, <function>mcrypt_cbc</function>,
    <function>mcrypt_ecb</function>, y
    <function>mcrypt_ofb</function>) pueden operar en ambos modos que
    se llaman MCRYPT_ENCRYPT y MCRYPT_DECRYPT, respectivamente.
    
    <example>
     <title>Encripta un valor de entrada con TripleDES en modo ECB</title>
     <programlisting role="php">
&lt;?php
$key = "esta es una clave muy secreta";
$input = "Nos vemos a las 9 en punto en el lugar secreto.";

$encrypted_data = mcrypt_ecb(MCRYPT_TripleDES, $key, $input, MCRYPT_ENCRYPT);
?&gt;
     </programlisting>
    </example>
	  
    Este ejemplo devolver&aacute; los datos encriptados como una cadena en
    $encrypted_data.</para> 

   <para>
    mcrypt puede operar en cuatro modos de cifrado (CBC, OFB, CFB y ECB). Perfilaremos
    el uso normal de cada uno de estos modos. Para una mejor referencia y una discusi&oacute;n
    m&aacute;s completa ver &book.applied.cryptography;.

    <itemizedlist>
     <listitem><simpara>
      ECB (electronic codebook o libro de c&oacute;digos electr&oacute;nico) va bien para datos aleatorios, tales como
      encriptar otras claves. Puesto que los datos son cortos y aleatorios, las desventajas de
      ECB tienen un efecto negativo favorable.</simpara></listitem>

     <listitem><simpara>
      CBC (cipher block chaining o cifrado en bloque encadenado) es especialmente &uacute;til para encriptar ficheros,
      donde incrementa significativamente la seguridad por encima de ECB.</simpara></listitem> 

     <listitem><simpara>
      CFB (cipher feedback o cifrado realimentado) es el mejor modo de encriptar flujos de bytes donde
      cada byte debe ser encriptado.</simpara></listitem>

     <listitem><simpara>
      OFB (output feedback o salida realimentada) es comparable al CFB, pero puede usarse en
      aplicaciones donde la propagaci&oacute;n de errores no puede tolerarse.</simpara></listitem> 
    </itemizedlist></para>
    
   <para>
    Actualmente PHP no soporta el encriptado/desencriptado de flujos de bits.
    Por ahora, s&oacute;lo soporta el manejo de cadenas.</para>

   <para>
    Para una lista completa de los cifrados soportados, ver las definiciones al final de
    mcrypt.h. La regla general es que se puede acceder al cifrado desde PHP con
    MCRYPT_nombredelcifrado.</para> 
   
   <para>
    Aqu&iacute; hay una peque&ntilde;a lista de los cifrados que estan soportados actualmente por la
    extensi&oacute;n mcrypt. Si un cifrado no est&aacute; listado aqu&iacute;, pero est&aacute; listado por mcrypt
    como soportado, puedes asumir con seguridad que &eacute;sta documentaci&oacute;n est&aacute; caduca.

    <itemizedlist>

     <listitem><simpara>
      MCRYPT_BLOWFISH</simpara></listitem>
     <listitem><simpara>
      MCRYPT_DES</simpara></listitem>
     <listitem><simpara>
      MCRYPT_TripleDES</simpara></listitem>
     <listitem><simpara>
      MCRYPT_ThreeWAY</simpara></listitem>
     <listitem><simpara>
      MCRYPT_GOST</simpara></listitem>
     <listitem><simpara>
      MCRYPT_CRYPT</simpara></listitem>
     <listitem><simpara>
      MCRYPT_DES_COMPAT</simpara></listitem>
     <listitem><simpara>
      MCRYPT_SAFER64</simpara></listitem>
     <listitem><simpara>
      MCRYPT_SAFER128</simpara></listitem>
     <listitem><simpara>
      MCRYPT_CAST128</simpara></listitem>
     <listitem><simpara>
      MCRYPT_TEAN</simpara></listitem>
     <listitem><simpara>
      MCRYPT_RC2</simpara></listitem>
     <listitem><simpara>
      MCRYPT_TWOFISH (para las antiguas versiones mcrypt 2.x)</simpara></listitem>
     <listitem><simpara>
      MCRYPT_TWOFISH128 (TWOFISHxxx est&aacute; disponible en las versiones m&aacute;s nuevas 2.x)</simpara></listitem>
     <listitem><simpara>
      MCRYPT_TWOFISH192</simpara></listitem>
     <listitem><simpara>
      MCRYPT_TWOFISH256</simpara></listitem>
     <listitem><simpara>
      MCRYPT_RC6</simpara></listitem>
     <listitem><simpara>
      MCRYPT_IDEA</simpara></listitem>

    </itemizedlist></para>

   <para>
    Debes (en los modos CFB y OFB) o puedes (en el modo CBC) suministrar un
    vector de inicializaci&oacute;n (IV) a la correspondiente funci&oacute;n de cifrado. El IV debe
    ser &uacute;nico y debe ser el mismo cuando desencriptas o encriptas. Con datos que son
    guardados encriptados, puedes cojer la salida de una funci&oacute;n de &iacute;ndice
    bajo la cual los datos son almacenados (ej. la clave MD5 de un fichero).
    Alternativamente, puedes transmitir el IV junto con los datos encriptados
    (ver cap&iacute;tulo 9.3 de &book.applied.cryptography; para una discusi&oacute;n de &eacute;ste
    asunto).</para>

  </partintro>
 
&reference.mcrypt.functions;

 </reference> 
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

