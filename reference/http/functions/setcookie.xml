<?xml version="1.0" encoding="iso-8859-1"?>
<!-- splitted from ./es/functions/http.xml, last change in rev 1.1 -->
<!-- last change to 'setcookie' in en/ tree in rev 1.2 -->
  <refentry id="function.setcookie">
   <refnamediv>
    <refname>setcookie</refname>
    <refpurpose>Env&iacute;a una cookie</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>int</type><methodname>setcookie</methodname>
     <methodparam><type>string</type><parameter>name</parameter></methodparam>
     <methodparam><type>string</type><parameter>value</parameter></methodparam>
     <methodparam><type>int</type><parameter>expire</parameter></methodparam>
     <methodparam><type>string</type><parameter>path</parameter></methodparam>
     <methodparam><type>string</type><parameter>domain</parameter></methodparam>
     <methodparam><type>int</type><parameter>secure</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>setcookie</function> define una cookie para ser enviada
     con el resto de la informaci&oacute;n de la cabecera.  Las cookies deben
     enviarse <emphasis>antes</emphasis> de mandar cualquier otra cabecera
     (esta es una restricci&oacute;n de las cookies, no de PHP). Esto requiere
     que sit&uacute;e las llamadas a esta funci&oacute;n antes de cualquier etiqueta
     <literal>&lt;html></literal> o <literal>&lt;head></literal>.</para>

    <para>
     Todos los par&aacute;metros excepto <parameter>name</parameter> son
     opcionales.  Si s&oacute;lo se especifica el par&aacute;metro name, la cookie con
     ese nombre se borrar&aacute; del cliente remoto.  Tambi&eacute;n puede sustituir
     cualquier par&aacute;metro por una cadena de texto vac&iacute;a
     (<emphasis>&quot;&quot;</emphasis>) y saltar as&iacute; ese par&aacute;metro.  Los
     par&aacute;metros <parameter>expire</parameter> y <parameter>secure</parameter>
     son n&uacute;meros enteros y no se pueden saltar con una cadena de texto
     vac&iacute;a. En su lugar utilice un cero (<emphasis>0</emphasis>). El
     par&aacute;metro <parameter>expire</parameter> es un entero de tiempo
     t&iacute;pico de UNIX tal como lo devuelven las funciones
     <function>time</function> o <function>mktime</function>. El par&aacute;metro
     <parameter>secure</parameter> indica que la cookie se debe transmitir
     &uacute;nica y exclusivamente sobre una conexi&oacute;n segura HTTPS.</para>

    <para>  
     Fallos habituales:</para>

    <simpara>
     Las cookies no se hacen visibles hasta la siguiente carga de una
     p&aacute;gina para la que la cookie deba estar visible.</simpara> 

    <simpara>
     Las llamadas m&uacute;ltiples a <function>setcookie</function> en el mismo script
     se ejecutar&aacute;n en orden inverso. Si est&aacute; intentando borrar una cookie
     antes de insertar otra, debe situar la llamada de inserci&oacute;n antes de
     la de borrado.</simpara>

    <para>
     A continuaci&oacute;n se muestran algunos ejemplos::
     <example>
      <title><function>setcookie</function>, ejemplos</title>
      <programlisting role="php">
setcookie("TestCookie","Test Value");
setcookie("TestCookie",$value,time()+3600);  /* expire in 1 hour */
setcookie("TestCookie",$value,time()+3600,"/~rasmus/",".utoronto.ca",1);
</programlisting></example></para>

    <para>
     Tenga en cuenta que el campo value de la cookie se codifica como URL
     (urlencode) autom&aacute;ticamente cuando env&iacute;a la cookie. Cuando &eacute;sta se recibe,
     se descodifica aut&oacute;maticamente y se asigna a una variable con el
     mismo nombre que el nombre de la cookie. Para ver el contenido de
     nuestra cookie de prueba en un script, simplemente utilice uno de
     los siguientes ejemplos:

<informalexample><programlisting role="php">
echo $TestCookie;
echo $HTTP_COOKIE_VARS["TestCookie"];
</programlisting></informalexample></para>

	<para>
         Tambi&eacute;n puede utilizar arrays de cookies empleando la notaci&oacute;n de
         array en el nombre de la cookie. Esto tiene como efecto establecer
         tantas cookies como elementos de array, pero cuando el script
         recibe la cookie, se guardan los valores en un array con el
         nombre de la cookie:
	 <informalexample>
	  <programlisting role="php">
setcookie( "cookie[three]", "cookiethree" );
setcookie( "cookie[two]", "cookietwo" );
setcookie( "cookie[one]", "cookieone" );
if ( isset( $cookie ) ) {
   while( list( $name, $value ) = each( $cookie ) ) {
	  echo "$name == $value&lt;br&gt;\n";
   }
}
	  </programlisting>
	 </informalexample>

	</para>

    <para>
     Para obtener m&aacute;s informaci&oacute;n sobre las cookies, consulte la
     especificaci&oacute;n de cookies de Netscape, que se encuentra
     en <ulink url="&spec.cookies;">&spec.cookies;</ulink>.</para>

    <simpara>
     Microsoft Internet Explorer 4 con Service Pack 1 no
     funciona correctamente con las cookies que tienen asociado
     el par&aacute;metro path.</simpara>

    <simpara>
     Netscape Communicator 4.05 y Microsoft Internet Explorer 3.x
     funcionan aparentemente de manera incorrecta cuando no se
     especifican los par&aacute;metros path y time.</simpara>

   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
