<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.26 Maintainer: lboshell Status: ready -->
<!-- splitted from ./en/functions/mail.xml, last change in rev 1.2 -->
  <refentry id="function.mail">
   <refnamediv>
    <refname>mail</refname>
    <refpurpose>Enviar correo</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
      <type>bool</type><methodname>mail</methodname>
      <methodparam><type>string</type><parameter>para</parameter></methodparam>
      <methodparam><type>string</type><parameter>asunto</parameter></methodparam>
      <methodparam><type>string</type><parameter>mensaje</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>cabeceras_adicionales</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>parametros_adicionales</parameter></methodparam>
    </methodsynopsis>
    <simpara>
     <function>mail</function> env&iacute;a autom&aacute;ticamente por
     correo el mensaje especificado en <parameter>mensaje</parameter>
     al recipiente especificado en <parameter>para</parameter>. Es
     posible especificar m&uacute;ltiples recipientes colocando una
     coma entre cada direcci&oacute;n en la cadena
     <parameter>para</parameter>. Es posible enviar correo
     electr&oacute;nico con archivos adjuntos y tipos especiales
     usando esta funci&oacute;n. Esto se consigue mediante el uso de
     codificaci&oacute;n MIME - para m&aacute;s informaci&oacute;n,
     vea este <ulink url="&url.email.mime.zend;">art&iacute;culo de
     Zend</ulink> o las <ulink
     url="&url.pear.package;Mail_Mime">Clases Mime PEAR</ulink>.
    </simpara>
    <simpara>
     Los siguientes RFC pueden resultar asimismo &uacute;tiles:
     <ulink url="&url.rfc;1896">RFC 1896</ulink>,
     <ulink url="&url.rfc;2045">RFC 2045</ulink>,
     <ulink url="&url.rfc;2046">RFC 2046</ulink>,
     <ulink url="&url.rfc;2047">RFC 2047</ulink>,
     <ulink url="&url.rfc;2048">RFC 2048</ulink>, y
     <ulink url="&url.rfc;2049">RFC 2049</ulink>.
    </simpara>
    <para>
     <function>mail</function> devuelve &true; si el correo fue
     aceptado satisfactoriamente para su env&iacute;o, o &false; de lo
     contrario.
    </para>
    <warning>
     <para>
      La implementaci&oacute;n de Windows de <function>mail</function>
      difiere en varias formas de la implementaci&oacute;n en
      Unix. Primero, no usa un binario local para componer mensajes,
      en su lugar opera directamente sobre sockets, lo que quiere
      decir que se requiere de un <literal>MTA</literal> que escuche
      sobre un socket de red (el cual puede estar en el host local o
      en una m&aacute;quina remota). Segundo, las cabeceras
      personalizadas como <literal>From:</literal>,
      <literal>Cc:</literal>, <literal>Bcc:</literal> y
      <literal>Date:</literal> <emphasis role="strong">no</emphasis>
      son interpretadas por el <literal>MTA</literal> en primera
      instancia, son interpretadas por
      <literal>PHP</literal>. <literal>PHP</literal> &lt; 4.3
      s&oacute;lo soportaba el elemento de cabecera
      <literal>Cc:</literal> (y era sensible a may&uacute;sculas y
      min&uacute;sculas). <literal>PHP</literal> &gt;= 4.3 soporta
      todos los elementos de cabecera mencionados y ya no es sensible
      a may&uacute;sculas y min&uacute;sculas.
     </para>
    </warning>
    <para>
     <example>
      <title>Env&iacute;o de correo</title>
      <programlisting role="php">
<![CDATA[
<?php
mail("juan-el-listo@example.com", "Mi Asunto", "Linea 1\nLinea 2\nLinea 3");
?>
]]>
      </programlisting>
     </example>
    </para>
    <simpara>
     Si un cuarto argumento tipo cadena es entregado, &eacute;ste es
     insertado al final de la cabecera. Esto se usa t&iacute;picamente
     con el prop&oacute;sito de agregar cabeceras adicionales. Las
     cabeceras extra son separadas entre s&iacute; con un retorno de
     carro y un salto de l&iacute;nea.
    </simpara>
    <note>
     <para>
      Debe usar <literal>\r\n</literal> para separar las cabeceras,
      aun cuando puede que los agentes de transferencia de correo en
      Unix trabajen con solo una nueva l&iacute;nea
      (<literal>\n</literal>).
     </para>
    </note>
    <para>
     <example>
      <title>Env&iacute;o de correo con cabeceras adicionales</title>
      <programlisting role="php">
<![CDATA[
<?php
mail("nadie@example.com", "el asunto", $mensaje,
     "From: webmaster@{$_SERVER['SERVER_NAME']}\r\n" .
     "Reply-To: webmaster@{$_SERVER['SERVER_NAME']}\r\n" .
     "X-Mailer: PHP/" . phpversion());
?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     El valor <parameter>parametros_adicionales</parameter> puede ser
     usado para pasar un par&aacute;metro extra al programa
     configurado para ser usado cuando se env&iacute;e correo mediante
     la opci&oacute;n de configuraci&oacute;n
     <literal>sendmail_path</literal>. Por ejemplo, &eacute;ste
     par&aacute;metro puede usarse para definir la direcci&oacute;n de
     sobre del origen cuando se usa sendmail con la opci&oacute;n
     <literal>-f</literal>. Puede que tambi&eacute;n necesite agregar
     el usuario bajo el que corre su servidor web a la
     configuraci&oacute;n de sendmail para evitar que se agregue una
     cabecera 'X-Warning' al mensaje cuando define el sobre del origen
     mediante este m&eacute;todo.
     <example>
      <title>Env&iacute;o de correo con cabeceras adicionales y
      definiendo un par&aacute;metro extra de l&iacute;nea de
      comandos</title>
      <programlisting role="php">
<![CDATA[
<?php
mail("nadie@example.com", "el asunto", $mensaje,
     "From: webmaster@{$_SERVER['SERVER_NAME']}", "-fwebmaster@{$_SERVER['SERVER_NAME']}");
?>
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      Este quinto par&aacute;metro fue agregado en PHP 4.0.5. A partir
      de PHP 4.2.3 este par&aacute;metro se encuentra deshabilitado en
      <link linkend="ini.safe-mode">safe_mode</link> y la
      funci&oacute;n <function>mail</function> producir&aacute; un
      mensaje de advertencia y devolver&aacute; &false; si trata de
      usarlo.
     </para>
    </note>
    <para>
     Tambi&eacute;n puede usar t&eacute;cnicas simples de
     construcci&oacute;n de cadenas para generar mensajes complejos de
     correo electr&oacute;nico.
     <example>
      <title>Env&iacute;o de correo electr&oacute;nico
      complejo</title>
      <programlisting role="php">
<![CDATA[
<?php
/* recipientes */
$para  = "maria@example.com" . ", " ; // fijese en la comma
$para .= "kelly@example.com";

/* asunto */
$asunto = "Recordatorio de Cumplea&ntilde;os para Agosto";

/* mensaje */
$mensaje = '
<html>
<head>
 <title>Recordatorio de Cumplea&ntilde;os para Agosto</title>
</head>
<body>
<p>&iexcl;Aqu&iacute; est&aacute;n los cumplea&ntilde;os que llegan en Agosto!</p>
<table>
 <tr>
  <th>Persona</th><th>D&iacute;a</th><th>Mes</th><th>A&ntilde;o</th>
 </tr>
 <tr>
  <td>Juan</td><td>3</td><td>August</td><td>1970</td>
 </tr>
 <tr>
  <td>Sandra</td><td>17</td><td>August</td><td>1973</td>
 </tr>
</table>
</body>
</html>
';

/* Para enviar correo HTML, puede definir la cabecera Content-type. */
$cabeceras  = "MIME-Version: 1.0\r\n";
$cabeceras .= "Content-type: text/html; charset=iso-8859-1\r\n";

/* cabeceras adicionales */
$cabeceras .= "To: Maria <maria@example.com>, Kelly <kelly@example.com>\r\n";
$cabeceras .= "From: Recordatorio <cumpleanyos@example.com>\r\n";
$cabeceras .= "Cc: archivo@example.com\r\n";
$cabeceras .= "Bcc: chequeo@example.com\r\n";

/* y ahora, enviarlo */
mail($para, $asunto, $mensaje, $cabeceras);
?>
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      Aseg&uacute;rese de que no tiene caracteres de salto de
      l&iacute;nea en los par&aacute;metros
      <parameter>para</parameter> o <parameter>asunto</parameter>, o
      puede que el correo no sea enviado correctamente.
     </para>
    </note>
    <note>
     <para>
      El par&aacute;metro <parameter>para</parameter> no
      deber&iacute;a ser una direcci&oacute;n en la forma de
      &quot;Algo &lt;alguien@example.com&gt;&quot;. Es posible que el
      comando de correo no interprete esto correctamente mientras
      habla cen el MTA (particularmente bajo windows).
     </para>
    </note>
    <para>
     Vea tambi&eacute;n <function>imap_mail</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
