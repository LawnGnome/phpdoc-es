<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 335843 Maintainer: seros Status: ready -->
<!-- Reviewed: no Maintainer: seros -->
<sect1 xml:id="opcache.configuration" xmlns="http://docbook.org/ns/docbook">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  <table>
   <title>Opciones de configuración de OPcache</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>&Name;</entry>
      <entry>&Default;</entry>
      <entry>&Changeable;</entry>
      <entry>&Changelog;</entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry><link linkend="ini.opcache.enable">opcache.enable</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.enable-cli">opcache.enable_cli</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link
       linkend="ini.opcache.memory-consumption">opcache.memory_consumption</link></entry>
      <entry>"64"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.interned-strings-buffer">opcache.interned_strings_buffer</link></entry>
      <entry>"4"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry>Available since PHP 5.3.0.</entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.max-accelerated-files">opcache.max_accelerated_files</link></entry>
      <entry>"2000"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.max-wasted-percentage">opcache.max_wasted_percentage</link></entry>
      <entry>"5"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.use-cwd">opcache.use_cwd</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.validate-timestamps">opcache.validate_timestamps</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.revalidate-freq">opcache.revalidate_freq</link></entry>
      <entry>"2"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.revalidate-path">opcache.revalidate_path</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.save-comments">opcache.save_comments</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.load-comments">opcache.load_comments</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.fast-shutdown">opcache.fast_shutdown</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.enable-file-override">opcache.enable_file_override</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.optimization-level">opcache.optimization_level</link></entry>
      <entry>"0xffffffff"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.inherited-hack">opcache.inherited_hack</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.dups-fix">opcache.dups_fix</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.blacklist-filename">opcache.blacklist_filename</link></entry>
      <entry>""</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.max-file-size">opcache.max_file_size</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.consistency-checks">opcache.consistency_checks</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.force-restart-timeout">opcache.force_restart_timeout</link></entry>
      <entry>"180"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.error-log">opcache.error_log</link></entry>
      <entry>""</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.log-verbosity-level">opcache.log_verbosity_level</link></entry>
      <entry>"1"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.preferred-memory-model">opcache.preferred_memory_model</link></entry>
      <entry>""</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.protect-memory">opcache.protect_memory</link></entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.mmap-base">opcache.mmap_base</link></entry>
      <entry>&null;</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry><link linkend="ini.opcache.restrict-api">opcache.restrict_api</link></entry>
      <entry>""</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  &ini.php.constants;
 </para>
 
 &ini.descriptions.title;
 
 <para>
  <variablelist>
   <varlistentry xml:id="ini.opcache.enable">
    <term>
     <parameter>opcache.enable</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Habilita la caché de opcode. Cuando está deshabilitado, el código no es
      optimizado o almacenado en caché. El ajuste <literal>opcache.enable</literal> no puede ser
      habilitado en tiempo de ejecución enabled at runtime a través de <function>ini_set</function>, solamente puede
      ser deshabilitado. Intentar habilitarlo en un script gernerará una advertencia.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.enable-cli">
    <term>
     <parameter>opcache.enable_cli</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Habilita la caché de opcode para la versión CLI de PHP. Esto es especialmente
      útil para pruebas y depuración.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.memory-consumption">
    <term>
     <parameter>opcache.memory_consumption</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      EL tamaño del almacén de memoria compartida utilizado por OPcache, en megabytes.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.interned-strings-buffer">
    <term>
     <parameter>opcache.interned_strings_buffer</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      La cantidad de memoria utilizada para almacenar cadenas, en megabytes.
      Esta directiva de configuración es ignorada en PHP &lt; 5.3.0.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.max-accelerated-files">
    <term>
     <parameter>opcache.max_accelerated_files</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      El número máximo de claves (y por lo tanto, de scripts) en la tabla de hash
      de OPcache. El valor que realmente se utilizará será el primer número
      en el conjunto de los números primos
      <literal>{ 223, 463, 983, 1979, 3907, 7963, 16229, 32531, 65407, 130987 }</literal>
      que sea mayor que el valor configurado. Sólo números entre 200 y 100000 están
      permitidos.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.max-wasted-percentage">
    <term>
     <parameter>opcache.max_wasted_percentage</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      El porcentaje máximo de memoria desperdiciada que está permitida antes de
      que un reinicio sea programado.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.use-cwd">
    <term>
     <parameter>opcache.use_cwd</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Si está habilitada, OPcache añade el directorio de trabajo actual a la
      clave del script, eliminado así las posibles colisiones entre ficheros con el
      mismo nombre base. Deshabilitar esta directiva mejora el rendimiento pero
      podría generar problemas en aplicaciones existentes.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.validate-timestamps">
    <term>
     <parameter>opcache.validate_timestamps</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Si está habilitado, OPcache consultará por scripts actualizados cada
      <link linkend="ini.opcache.revalidate-freq">opcache.revalidate_freq</link>
      segundos. Cuando esta directiva está deshabilitada, se debe reiniciar OPcache
      de forma manual mediante <function>opcache_reset</function>,
      <function>opcache_invalidate</function> o reiniciando el servidor web
      para que los cambios en el sistema de ficheros tomen efecto.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.revalidate-freq">
    <term>
     <parameter>opcache.revalidate_freq</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      La frecuencia de verificación de las marcas temporales de Unix de los scripts por actualizaciones, en segundos.
      <literal>0</literal> hará que OPcache consulte por actualizaciones en
      cada petición.
     </para>
     <para>
      Esta directiva de configuración es ignorada si
      <link linkend="ini.opcache.validate-timestamps">opcache.validate_timestamps</link>
      está deshabilitada.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.revalidate-path">
    <term>
     <parameter>opcache.revalidate_path</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Si está deshabilitada, los ficheros cacheados existentes que usen el mismo
      <link linkend="ini.include-path">include_path</link> serán reutilizados.
      Por lo tanto, si un fichero con el mismo nombre está en algún otro lado
      del include_path, no será encontrado.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.save-comments">
    <term>
     <parameter>opcache.save_comments</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Si está deshabilitada, todos los comentarios de la documentación serán elliminados de la
      caché de opcode para reducir el tamaño del código optimizado. Deshabilitar esta
      directiva de configuración podría generar problemas en aplicaciones y frameworks que dependen
      del análisis de comentarios para anotaciones, incluyendo Doctrine, Zend Framework 2
      y PHPUnit.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.load-comments">
    <term>
     <parameter>opcache.load_comments</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Si está deshabilitada, los comentarios de la documentación no serán cargados de la caché
      de opcode aun si éstos existen. Esto puede ser usado junto con
      <link linkend="ini.opcache.save-comments">opcache.save_comments</link>
      para cargar sólo los comentarios para las aplicaciones que los requieran.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.fast-shutdown">
    <term>
     <parameter>opcache.fast_shutdown</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Si está habilitada, una secuencia de apagado rápida es utilizada que no libera cada
      bloque asignado sino que depende del gestor de memoria del Zend Engine para
      rescindir del conjunto de variables de petición completo.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.enable-file-override">
    <term>
     <parameter>opcache.enable_file_override</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Cuando está habilitada, la caché de opcode será consultado para determinar
      si un fichero ya ha sido cacheado cuando <function>file_exists</function>,
      <function>is_file</function> y <function>is_readable</function> son llamadas.
      Esto puede incrementar el rendimiento en aplicaciones que chequean la existencia
      y legibilidad de los scripts PHP, pero arriesgando devolver datos obsoletos
      si
      <link linkend="ini.opcache.validate-timestamps">opcache.validate_timestamps</link>
      está deshabilitada.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.optimization-level">
    <term>
     <parameter>opcache.optimization_level</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Un bitmask que controla cúales permisos de optimización son ejecutados.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.inherited-hack">
    <term>
     <parameter>opcache.inherited_hack</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      En PHP &lt; 5.3, OPcache almacena los lugares donde los opcodes
      <link linkend="internals2.opcodes.declare-class">DECLARE_CLASS</link>
      utilizaron herencia; cuando el fichero es cargado, OPcache intenta
      enlazar las clases heredadas usando el ambiente actual. El problema es
      que mientras que el opcode DECLARE_CLASS pueda no ser necesario en el
      script actual, si el script requiere que el opcode esté definido, podría
      no ejecutarse.
     </para>
     <para>
      Esta directiva de configuración es ignorada en PHP 5.3 y posteriores.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.dups-fix">
    <term>
     <parameter>opcache.dups_fix</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Este hack debería estar habilitado para funcionar sólo para evitar
      errores "Cannot redeclare class".
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.blacklist-filename">
    <term>
     <parameter>opcache.blacklist_filename</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      La ubicación del fichero de blacklist de OPcache. Un fichero blacklist es un texto
      que contiene los nombres de los ficheros que no deberían ser acelerados, uno
      por línea. Se permiten comodines, y prefijos también pueden ser provistos.
      Las líneas que comienzen con un punto y coma son ignoradas como comentarios.
     </para>
     <para>
      Un fichero blacklist simple luciría así:
     </para>
     <informalexample>
      <programlisting>
<![CDATA[
; Matches a specific file.
/var/www/broken.php
; A prefix that matches all files starting with x.
/var/www/x
; A wildcard match.
/var/www/*-broken.php
]]>
      </programlisting>
     </informalexample>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.max-file-size">
    <term>
     <parameter>opcache.max_file_size</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      El tamaño de fichero máximo que será almacenado en caché, en bytes. Si es
      <literal>0</literal>, todos los ficheros serán almacenados en caché.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.consistency-checks">
    <term>
     <parameter>opcache.consistency_checks</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Si es distinto de cero, OPcache verificará el checksum de la caché cada N peticiones,
      donde N es el valor de esta directiva de configuración. Esto debería sólo estar
      habilitado durante la depuración ya que puede tener un impacto negativo en el rendimiento.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.force-restart-timeout">
    <term>
     <parameter>opcache.force_restart_timeout</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      La cantidad de tiempo a esperar el comienzo de un reinicio programado
      si la caché no está activa, en segundos. Si se acaba el tiempo, entonces
      OPcache asume que algo anda mal y terminará todos los procesos que bloqueen
      la caché para permitir un reinicio.
     </para>
     <para>
      Si
      <link linkend="ini.opcache.log-verbosity-level">opcache.log_verbosity_level</link>
      es 3 o más, un error será registrado en el registro de errores si
      esto ocurre.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.error-log">
    <term>
     <parameter>opcache.error_log</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      El registro de errores de errores de OPcache. Una cadena vacía es tratada de igual forma que
      <literal>stderr</literal>, y resultará en registros siendo enviados a
      errores estándar (que será el registro de errores del servidor Web en la mayoría de los casos).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.log-verbosity-level">
    <term>
     <parameter>opcache.log_verbosity_level</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      El nivel de verbosidad del registro. Por defecto, sólo los errores fatales (nivel 0) y
      errores (nivel 1) son registrados. Otros niveles disponibles son advertencias (nivel
      2), mensajes de información (nivel 3) y mensajes de depuración (nivel 4).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.preferred-memory-model">
    <term>
     <parameter>opcache.preferred_memory_model</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      El modelo de memoria principal que utilizará OPcache. Si se deja vacío,
      OPcache seleccionará el modelo más apropiado, el cual es el comportamiento
      correcto en prácticamente todos los casos.
     </para>
     <para>
      Los valores posibles incluyen <literal>mmap</literal>, <literal>shm</literal>,
      <literal>posix</literal> y <literal>win32</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.protect-memory">
    <term>
     <parameter>opcache.protect_memory</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Protege la memoria compartida de escrituras inesperadas mientras se ejecutan
      scripts. Esto es útil sólo para depuración interna.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.mmap-base">
    <term>
     <parameter>opcache.mmap_base</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      La base usada para los segmentos de memoria compartida en Windows.
      Todos los procesos PHP deben mapear la memoria compartida con el mismo
      espacio de direcciones. Utilizando esta directiva se corrigen los errores
      "Unable to reattach to base address".
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="ini.opcache.restrict-api">
    <term>
     <parameter>opcache.restrict_api</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      Permite llamar a funciones de la API de OPcache solamente desde scripts de PHP cuya ruta
      comience con la cadena especificada. El valor predeterminado de "" significa sin restricciones.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </para>
</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
