<?xml version="1.0" encoding="iso-8859-1"?>
<reference id="ref.hyperwave">
  <title>Funciones para Hyperwave</title>
  <titleabbrev>Hyperwave</titleabbrev>

  <partintro>

   <sect1 id="hw-intro">
    <title>Introducci&oacute;n</title>
    <para>
     <productname>Hyperwave</productname> ha sido desarrollado en el <ulink url="http://www.iicm.edu">IICM</ulink> en Graz. Comenz&oacute; con
     el nombre <acronym>Hyper-G</acronym> y cambi&oacute; a Hyperwave cuando
     fue comercializado (Si lo recuerdo bien, fue en 1996).</para>
    <para>
     Hyperwave no es software gratuiro. La versi&oacute;n actual, 4.1, est&aacute;
     disponible en <ulink url="http://www.hyperwave.com/">www.hyperwave.com</ulink>. Se
     puede solicitar gratuitamente una versi&oacute;n limitada (30 d&iacute;as).</para>
    <para>
     Hyperwave es un sistema de informaci&oacute;n similar a una base de
     datos (<acronym>HIS</acronym>, Hyperwave Information Server - Servidor
     Hyperwave de Informaci&oacute;n). Su objetivo es el almacenamiento y
     manipulaci&oacute;n de documentos. Un documento puede ser cualquier bloque
     posible de datos que tambi&eacute;n puede ser almacenado en un archivo. Cada
     documento se acompa&ntilde;a por su registro de objeto. El registro de objeto
     contiene metadatos para el documento. Los metadatos son una lista de
     atributos que pueden ser extendidos por el usuario. Ciertos atributos
     siempre son fijados por el servidor Hyperwave, otros pueden ser
     modificados por el usuario. Un atributo es un par nombre/valor de la
     forma nombre=valor. El registro completo del objeto tiene tantos de
     estos pares como guste el usuario. El nombre de un atributo no tiene
     porqu&eacute; ser &uacute;nico, p. ej. un t&iacute;tulo puede aparecer varias veces en el
     registro de un objeto. Esto tiene sentido si se desea especificar un
     t&iacute;tulo en diferentes idiomas. En dicho caso existe la convenci&oacute;n de
     que cada valor de t&iacute;tulo est&eacute; precedido por la abreviatura de dos
     letras del idioma, seguida por dos puntos, como p. ej. 'en:Title in
     English' o 'es:T&iacute;tulo en Espa&ntilde;ol'. Otros atributos tales como
     descripciones o palabras clave son canditatos potenciales a esta
     diferenciaci&oacute;n. Tambi&eacute;n se pueden reemplazar las abreviaturas de
     idioma por cualquier otra cadena siempre y cuando est&eacute;n separadas
     por los dos puntos del resto del valor del atributo.</para>
    <para>
     Cada registro de objeto tiene una representaci&oacute;n nativa como cadena
     con cada par nombre/valor separado por una l&iacute;nea nueva. La extensi&oacute;n
     Hyperwave tambi&eacute;n conoce una segunda representaci&oacute;n que consiste en
     un array asociativo donde el nombre del atributo es la clave. Los
     valores de atributo multilingües en s&iacute; mismos forman otro array
     asociativo donde la clave es la abreviatura del idioma. Realmente
     cualquier atributo m&uacute;ltiple forma una tabla asociativa donde la cadena
     a la izquierda de los dos puntos en el valor de atributo es la clave.
     (Esto no se ha implementado por completo. S&oacute;lo los atributos 
     Title, Description y Keyword son tratados adecuadamente.)</para>
    <para>
     Aparte de los documentos, todos los hiper-enlaces contenidos en un
     documento son almacenados tambi&eacute;n como registros de objeto. Cuando
     el documento sea insertado en la base de datos, los hiper-enlaces
     que haya en un documento ser&aacute;n borrados del mismo y almacenados
     como objetos individuales.
     El registro de objeto del enlace contiene informaci&oacute;n acerca
     de d&oacute;nde comienza y d&oacute;nde termina.
     Para recuperar el documento original se deber&aacute; recuperar el
     documento sin los enlaces y la lista de los mismos para reinsertarla
     (Las funciones <function>hw_pipedocument</function> y <function>hw_gettext</function>
     hacen esto para usted). La ventaja de separar los enlaces del
     documento es obvia. Una vez un documento al que apunta un enlace
     cambia de nombre, el enlace puede modificarse f&aacute;cilmente. El documento
     que contiene el enlace no se ve afectado. Incluso se puede a&ntilde;adir
     un enlace a un documento sin alterarlo.</para>
    <para>
     Decir que <function>hw_pipedocument</function> y <function>hw_gettext</function>
     hacen autom&aacute;ticamente la inserci&oacute;n de enlaces no es tan simple como suena.
     Insertar los enlaces implica una cierta jerarqu&iacute;a en los documentos. En
     un servidor web esto viene dado por el sistema de archivos, pero el Hyperwave
     tiene su propia jerarqu&iacute;a y los nombres no representan la posici&oacute;n de un
     objeto en dicha jerarqu&iacute;a. Por tanto, la creaci&oacute;n de los enlaces precisa
     primeramente de realizar un mapeado entre el espacio de nombres y la
     jerarqu&iacute;a del Hyperwave y el espacio de nombres respectivo de una
     jerarqu&iacute;a de web. La diferencia fundamental entre Hyperwave y la web
     es la distinci&oacute;n clara entre nombres y jerarqu&iacute;a que se da en el primero.
     El nombre no contiene ninguna informaci&oacute;n sobre la posici&oacute;n del objeto
     en la jerarqu&iacute;a. En la web, el nombre tambi&eacute;n contiene la informaci&oacute;n
     sobre la posici&oacute;n en la jerarqu&iacute;a del objeto. Esto nos lleva a dos
     posibles formas de mapeo. O bien se reflejan la jerarqu&iacute;a del Hyperwave
     y el nombre del objeto Hyperwave en el URL o s&oacute;lo el nombre.
     Para facilitar las cosas, se utiliza el segundo m&eacute;todo. El objeto
     Hyperwave de nombre 'mi_objeto' es mapeado a 'http://host/mi_objeto' sin
     importar d&oacute;nde reside dentro de la jerarqu&iacute;a de Hyperwave.
     Un objeto con el nombre 'padre/mi_objeto' podr&iacute;a ser el hijo de
     'mi_objeto' en la jerarqu&iacute;a Hyperwave, aunque en el espacio de nombres
     web aparezca justamente lo opuesto y el usuario pueda ser llevado a 
     confusi&oacute;n. Esto s&oacute;lo se puede evitar seleccionando nombres de objetos
     razonables.</para>
    <para>
     Hecha esta decisi&oacute;n surge un segundo problema. ¿C&oacute;mo implicar al PHP?
     el URL http://host/mi_objeto no llamar&aacute; a ning&uacute;n script PHP a no ser
     que se le diga al servidor que lo transforme en p. ej. 
     'http://host/script_php3/mi_objeto' y que el 'script_php3' luego
     eval&uacute;e la variable $PATH_INFO y recupere el objeto con nombre 'mi_objeto'
     del servidor Hyperwave. Hay s&oacute;lo un peque&ntilde;o inconveniente que se 
     puede resolver f&aacute;cilmente. Cuando se reescribe cualquier URL no se
     permite el acceso a ning&uacute;n otro documento en el servidor web. Un
     script de PHP para buscar en el servidor Hyperwave ser&iacute;a imposible.
     Por lo tanto se necesitar&aacute; al menos una segunda regla de reescritura
     para que excluya ciertos URL, como los que empiecen p. ej. por 
     http://host/Hyperwave. B&aacute;sicamente esto ser&iacute;a compartir un espacio
     de nombres entre el servidor web y el servidor Hyperwave.</para>
    <para>
     Los enlaces se insertan en los documentos bas&aacute;ndose en el mecanismo
     citado m&aacute;s arriba.</para>
    <para>
     Se vuelve m&aacute;s complicado si el PHP no se est&aacute; ejecutando como m&oacute;dulo
     del servidor o como script CGI, sino que se ejecuta como aplicaci&oacute;n,
     p. ej. para volcar el contenido del servidor de Hyperwave a un CD-ROM.
     En dicho caso tiene sentido mantener la jerarqu&iacute;a Hyperwave y mapearla
     en el sistema de archivos. Esto entra conflicto con los nombres de los
     objetos si estos reflejan su propia jerarqu&iacute;a (p. ej. eligiendo nombres
     que comienzan por '/'). Por tanto, la '/' tendr&aacute; que ser reemplazada
     por otro car&aacute;cter, p. ej. '_' para continuar.</para>
    <para>
     El protocolo de red para comunicarse con el servidor Hyperwave se 
     denomina <ulink url="http://www.hyperwave.de/7.17-hg-prot">HG-CSP</ulink> (Hyper-G
     Client/Server Protocol, Protocolo Hyper-G Cliente/Servidor). Est&aacute; basado
     en mensajes que inician ciertas acciones, p. ej. obtener el registro de
     un objeto. En versiones anteriores del Servidor Hyperwave se distribuyeron
     dos clientes nativos (Harmony, Amadeus) para la comunicaci&oacute;n con
     el servidor. Ambos desaparecieron cuando se comercializ&oacute; el Hyperwave.
     Para sustitu&iacute;rlo se proporcion&oacute; el llamado wavemaster. El wavemaster es
     como un conversor de protocolo de <abbrev>HTTP</abbrev> a <abbrev>HG-CSP</abbrev>.
     La idea es realizar toda la administraci&oacute;n de la base de datos y la 
     visualizaci&oacute;n de documentos con una interfaz web. El wavemaster implementa
     una serie de posicionadores para acciones que permiten personalizar la 
     interfaz. Dicho conjunto de posicionadores se denomina el Lenguaje <abbrev>PLACE</abbrev>.
     El <abbrev>PLACE</abbrev> no posee muchas de las caracter&iacute;sticas de
     un lenguaje de programaci&oacute;n real y las extensiones al mismo &uacute;nicamente
     alargan la lista de posicionadores. Esto ha obligado al uso de JavaScript
     que, en mi opini&oacute;n, no hace la vida m&aacute;s f&aacute;cil.</para>

    <para>
     A&ntilde;adir soporte de Hyperwave al PHP rellenar&iacute;a el espacio
     que deja la falta de un lenguaje de programaci&oacute;n que permita 
     personalizar la interfaz. El PHP implementa todos los mensajes
     definidos en el <abbrev>HG-CSP</abbrev> pero adem&aacute;s proporciona 
     comandos m&aacute;s poderosos, p. ej. recuperar documentos completos.</para>

    <para>
     El Hyperwave tiene su propia terminolog&iacute;a para dar nombre a ciertos
     tipos de informaci&oacute;n. Esta ha sido ampliamente extendida y anulada.
     Casi todas las funciones operan en uno de los siguientes tipos de 
     datos.

     <itemizedlist>
      <listitem><simpara>
        ID de objeto: Un valor entero &uacute;nico paara cada objeto del 
        servidor Hyperwave. Tambi&eacute;n es uno de los atributos del registro
        de objeto (ObjectID). Los ID de objeto se usan generalmente como
        par&aacute;metros de entrada que especifican a un objeto.
       </simpara></listitem>
      <listitem><simpara>
      	registro de objeto: Una cadena con pares atributo-valor con la
      	forma atributo=valos. Los pares est&aacute;n separados unos de otros
      	por un retorno de carro. Un registro de objeto puede convertirse
      	f&aacute;cilmente en una tabla (array) de objetos usando <function>hw_object2array</function>.
        Varias funciones devuelven registros de objeto. Los nombres de
        dichas funciones terminan en obj.
       </simpara></listitem>
      <listitem><simpara>
      	tabla de objetos: Una tabla asociativa con todos los atributos
      	de un objeto. La clave es el nombre del atributo. Si un atributo
      	aparece m&aacute;s de una vez en un registro de objeto ser&aacute; convertido
      	en otra tabla asociativa o indizada. Los atributos que dependen
      	del idioma (como el t&iacute;tulo, claves o descripci&oacute;n) se convertir&aacute;n
      	en una tabla asociativa con la abreviatura del idioma como clave.
      	El resto de los atributos m&uacute;ltiples crear&aacute;n una tabla indizada. Las
      	funciones de PHP nunca devuelven tablas de objetos.
       </simpara></listitem>
      <listitem><simpara>
        hw_document: Este es un nuevo tipo de datos que almacena el documento
        actual, p. ej. HTML, PDF, etc. Est&aacute; algo optimizado para documentos
        HTML pero puede usarse para cualquier formato.
       </simpara></listitem>
     </itemizedlist></para>

    <para>
     Varias funciones que devuelven una tabla de registros de objeto
     tambi&eacute;n devuelven una tabla asociativa con informaci&oacute;n estad&iacute;stica
     sobre los mismos. La tabla es el &uacute;ltimo elemento del registro de
     objeto. La tabla estad&iacute;stica contiene los siguientes elementos:
     <variablelist>
      <varlistentry>
       <term>Hidden</term>
       <listitem><simpara>
       	 N&uacute;mero de registros de objeto con el atributo PresentationHints
         puesto a Hidden.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term>CollectionHead</term>
       <listitem><simpara>
         N&uacute;mero de registros de objeto con el atributo
         PresentationHints puesto a CollectionHead.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term>FullCollectionHead</term>
       <listitem><simpara>
         N&uacute;mero de registros de objeto con el atributo
         PresentationHints puesto a FullCollectionHead.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term>CollectionHeadNr</term>
       <listitem><simpara>
         &Iacute;ndice a una tabla de regitros de objeto con el
         atributo PresentationHints puesto a CollectionHead.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term>FullCollectionHeadNr</term>
       <listitem><simpara>
         &Iacute;ndice a una tabla de regitros de objeto con el
         atributo PresentationHints puesto a FullCollectionHead.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term>Total</term>
       <listitem><simpara>
         Total: N&uacute;mero de registros de objeto.</simpara></listitem>
      </varlistentry>
     </variablelist></para>
   </sect1>

   <sect1 id="hw-apache">
    <title>Integraci&oacute;n con Apache</title>
    <para>
     La extensi&oacute;n Hyperwave se utiliza mejor cuando el PHP se compila
     como un m&oacute;dulo de Apache. En tal caso el servidor Hyperwave subyacente
     puede ser ocultado casi por completo de los usuarios si el Apache utiliza
     su motor de re-escritura. Las siguientes instrucciones explicar&aacute;n esto.</para>

    <para>
     Como el PHP con soporte Hyperwave inclu&iacute;do en el Apache se ha dise&ntilde;ado
     para sustituir la soluci&oacute;n nativa de Hyperwave basada en Wavemaster,
     asumir&eacute; que el servidor Apache s&oacute;lo sirve como interfaz web para
     el Hyperwave. Esto no es necesario, pero simplifica la configuraci&oacute;n.
     El concepto es bastante sencillo. Primeramente necesita un script PHP
     que eval&uacute;e la variable <envar>PATH_INFO</envar> y que trate su
     valor como el nombre de un objeto Hyperwave. Llamemos a este script
     'Hyperwave'. El URL <systemitem role="url">http://nombre.servidor/Hyperwave/nombre_de_objeto</systemitem>
     devolver&iacute;a entonces el objeto Hyperwave llamado 'nombre_de_objeto'.
     Dependiendo del tipo del objeto, as&iacute; reaccionar&aacute; el script. Si es
     una colecci&oacute;n, probablemente devolver&aacute; un lista de hijos. Si es un
     documento devolver&aacute; el tipo MIME y el contenido. Se puede mejorar
     ligeramente si se usa el motor de re-escritura del Apache. Desde el
     punto de vista del usuario ser&aacute; m&aacute;s sencillo si el URL <systemitem role="url">http://nombre.servidor/nombre de objeto</systemitem>
     devuelve el objeto. La regla de reescritura es muy sencilla:

     <informalexample><programlisting role="apache-conf">
RewriteRule ^/(.*) /usr/local/apache/htdocs/HyperWave/$1 [L]
</programlisting></informalexample>

     Ahora todo URL apunta a un objeto en el servidor Hyperwave. Esto
     provoca un problema sencillo de resolver. No hay forma de ejecutar otro
     script, p. ej. para buscar, salvo el script 'Hyperwave'. Esto se puede
     solucionar con otra regla de reescritura como la siguiente:

     <informalexample><programlisting role="apache-conf">
RewriteRule ^/hw/(.*) /usr/local/apache/htdocs/hw/$1 [L]
</programlisting></informalexample>

     Esta reservar&aacute; el directorio <filename class="directory">/usr/local/apache/htdocs/hw</filename> para
     script adicionales y otros archivos. S&oacute;lo hay que asegurarse que esta
     regla se eval&uacute;a antes de la otra. S&oacute;lo hay un peque&ntilde;o inconveniente:
     todos los objetos Hyperwave cuyo nombre comienza por 'hw/' ser&aacute;n ocultados.
     as&iacute; que aseg&uacute;rese que no utiliza dichos nombres. Si necesita m&aacute;s directorios,
     p. ej. para im&aacute;genes, simplemente a&ntilde;ada m&aacute;s reglas o sit&uacute;e los archivos en
     un solo directorio. Por &uacute;ltimo, no olvide conectar el motor de
     re-escritura con

     <informalexample><programlisting role="apache-conf">
RewriteEngine on
</programlisting></informalexample>

     Mi experiencia me ha demostrado que necesitar&aacute; los siguientes scripts:

     <itemizedlist>
       <listitem><simpara>
        para devolver el script en s&iacute;</simpara></listitem>
       <listitem><simpara>
        para permitir las b&uacute;squedas</simpara></listitem>
       <listitem><simpara>
        para identificarse</simpara></listitem>
       <listitem><simpara>
        para ajustar su perfil</simpara></listitem>
       <listitem><simpara>
        uno para cada funci&oacute;n adicional como mostrar los atributos
        del objeto, mostrar informaci&oacute;n sobre usuarios, mostrar el
        estado del servidor, etc.</simpara></listitem>
     </itemizedlist></para>
   </sect1>

   <sect1 id="hw-todo">
    <title>Pendientes</title>
    <para>
     A&uacute;n hay varias cosas pendientes:
     <itemizedlist>
      <listitem><simpara>hw_InsertDocument debe dividirse en
        <function>hw_InsertObject</function> y
        <function>hw_PutDocument</function>.</simpara></listitem>
      <listitem><simpara>Los nombres de algunas funciones a&uacute;n no est&aacute;n fijados.
       </simpara></listitem>
      <listitem><simpara>Muchas funciones precisan la conexi&oacute;n actual
        como primer par&aacute;metro. Esto obliga a escribir mucho, lo cual no es
        con frecuencia necesario si s&oacute;lo hay una conexi&oacute;n abierta. Una
        conexi&oacute;n por defecto mejorar&iacute;a esto.</simpara></listitem>
      <listitem><simpara>La conversi&oacute;n de registro de objeto a tabla de 
        objeto necesita manipular cualquier atributo m&uacute;ltiple.
       </simpara></listitem>
     </itemizedlist></para>
   </sect1>
  </partintro>

  <refentry id="function.hw-array2objrec">
   <refnamediv>
    <refname>hw_Array2Objrec</refname>
    <refpurpose>convierte atributos de tabla de objeto a registro de objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>strin <function>hw_array2objrec</function></funcdef>
     <paramdef>array <parameter>tabla_objetos</parameter></paramdef>
    </funcsynopsis>
    <para>
     Convierte una <parameter>tabla_objetos</parameter> en un registro de objeto.
     Los atributos m&uacute;ltiples como 'T&iacute;tulo' en distintos idiomas son tratados
     correctamente.</para>
    <para>
     Vea tambi&eacute;n <function>hw_objrec2array</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-children">
   <refnamediv>
    <refname>hw_Children</refname>
    <refpurpose>id de objeto de los hijos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_children</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de id de objeto. Cada uno de ellos
     pertenece a un hijo de la colecci&oacute;n cuyo ID es 
     <parameter>IDobjeto</parameter>.
     La tabla contiene tanto los documentos como las colecciones hijas.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-childrenobj">
   <refnamediv>
    <refname>hw_ChildrenObj</refname>
    <refpurpose>registros de objeto de los hijos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_childrenobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de registros de objeto. Cada uno de ellos
     pertenece a un hijo de la colecci&oacute;n cuyo ID es 
     <parameter>IDobjeto</parameter>.
     La tabla contiene tanto los documentos como las colecciones hijas.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-close">
   <refnamediv>
    <refname>hw_Close</refname>
    <refpurpose>cierra la conexi&oacute;n Hyperwave</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_close</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve &false; si la conexi&oacute;n no es un &iacute;ndice v&aacute;lido de conexi&oacute;n,
     y &true; en caso contrario. Cierra la conexi&oacute;n dada con el servidor
     de Hyperwave.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-connect">
   <refnamediv>
    <refname>hw_Connect</refname>
    <refpurpose>abre una conexi&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_connect</function></funcdef>
     <paramdef>string <parameter>servidor</parameter></paramdef>
     <paramdef>int <parameter>puerto</parameter></paramdef>
     <paramdef>string <parameter>usuario</parameter></paramdef>
     <paramdef>string <parameter>clave</parameter></paramdef>
    </funcsynopsis>
    <para>
     Abre una conexi&oacute;n con un servidor Hyperwave y devuelve un &iacute;ndice
     de conexi&oacute;n si hay &eacute;xito, o &false; si la conexi&oacute;n no se pudo realizar.
     Cada argumento debe ser una cadena entrecomillada salvo el n&uacute;mero de
     puerto. Los argumentos de <parameter>usuario</parameter> y
     <parameter>clave</parameter> son opcionales y pueden omitirse. En
     tal caso no se realizar&aacute; identificaci&oacute;n alguna con el servidor. Es
     similar a identificarse como el usuario 'anonymous'. Esta funci&oacute;n
     devuelve un &iacute;ndice de conexi&oacute;n que se necesita para otras funciones
     Hyperwave. Puede tener varias conexiones abiertas a la vez. Recuerde
     que la clave no est&aacute; encriptada.</para>
    <para>
     Vea tambi&eacute;n <function>hw_pConnect</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-cp">
   <refnamediv>
    <refname>hw_Cp</refname>
    <refpurpose>copia objetos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_cp</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>array <parameter>tabla_id_objeto</parameter></paramdef>
     <paramdef>int <parameter>id destino</parameter></paramdef>
    </funcsynopsis>
    <para>
     Copia los objetos cuyos id se especifican en el segundo par&aacute;metro
     a la colecci&oacute;n identificada como <parameter>id destino</parameter>.</para>
    <para>
     El valor devuelto es el n&uacute;mero de objetos copiados.</para>
    <para>
     Vea tambi&eacute;n <function>hw_mv</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-deleteobject">
   <refnamediv>
    <refname>hw_Deleteobject</refname>
    <refpurpose>borra objetos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_deleteobject</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>objeto_a_borrar</parameter></paramdef>
    </funcsynopsis>
    <para>
     Borra el objeto con el id dado como segundo par&aacute;metro. Borrar&aacute;
     todas las instancias del mismo.</para>
    <para>
     Devuelve &true; si no hay error o &false; en caso contrario.</para>
    <para>
     Vea tambi&eacute;n <function>hw_mv</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-docbyanchor">
   <refnamediv>
    <refname>hw_DocByAnchor</refname>
    <refpurpose>id del objeto al que pertenece un enlace</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_docbyanchor</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDenlace</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el id de objeto del documento al que pertenece 
     el <parameter>IDenlace</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-docbyanchorobj">
   <refnamediv>
    <refname>hw_DocByAnchorObj</refname>
    <refpurpose>registro de objeto al que pertenece un enlace</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_docbyanchorobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDenlace</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el registro de objeto del documento al que 
     pertenece el <parameter>IDenlace</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-documentattributes">
   <refnamediv>
    <refname>hw_DocumentAttributes</refname>
    <refpurpose>registro de objeto de un documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_documentattributes</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el registro de objeto del documento dado.</para>
    <para>
     Vea tambi&eacute;n <function>hw_DocumentBodyTag</function>,
              <function>hw_DocumentSize</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-documentbodytag">
   <refnamediv>
    <refname>hw_DocumentBodyTag</refname>
    <refpurpose>marca 'BODY' de un documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_documentbodytag</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve la marca BODY del documento. Si el documento es de tipo
     HTML la etiqueta BODY deber&aacute; imprimirse antes que el documento.</para>
    <para>
     Vea tambi&eacute;n <function>hw_DocumentAttributes</function>,
              <function>hw_DocumentSize</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-documentcontent">
   <refnamediv>
    <refname>hw_DocumentContent</refname>
    <refpurpose>devuelve el contenido de un documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_documentcontent</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el contenido del documento. Si el documento es de tipo
     HTML el contenido es todo lo que hay tras la etiqueta BODY. La
     informaci&oacute;n de las etiquetas HEAD y BODY se almacenan en el registro
     de objeto.</para>
    <para>
     Vea tambi&eacute;n <function>hw_DocumentAttributes</function>,
              <function>hw_DocumentSize</function>,
              <function>hw_DocumentSetContent</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-documentsetcontent">
   <refnamediv>
    <refname>hw_DocumentSetContent</refname>
    <refpurpose>fija/sustituye el contenido de un documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_documentsetcontent</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
     <paramdef>string <parameter>contenido</parameter></paramdef>
    </funcsynopsis>
    <para>
     Fija o sustituye el contenido del documento. Si el documento es de
     tipo HTML el contenido es todo lo que hay tras la etiqueta BODY. La
     informaci&oacute;n de las etiquetas HEAD y BODY se almacenan en el registro
     de objeto. Si proporciona tambi&eacute;n esta informaci&oacute;n en el contenido
     del documento, el servidor Hyperwave modificar&aacute; el registro del objeto
     cuando sea insertado el documento. Probablemente no es una buena idea.
     Si esta funci&oacute;n falla, el documento retendr&aacute; su anterior contenido.</para>
    <para>
     Vea tambi&eacute;n <function>hw_DocumentAttributes</function>,
              <function>hw_DocumentSize</function>,
              <function>hw_DocumentContent</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-documentsize">
   <refnamediv>
    <refname>hw_DocumentSize</refname>
    <refpurpose>tama&ntilde;o de un documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_documentsize</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el tama&ntilde;o en bytes del documento.</para>
    <para>
     Vea tambi&eacute;n <function>hw_DocumentBodyTag</function>,
              <function>hw_DocumentAttributes</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-errormsg">
   <refnamediv>
    <refname>hw_ErrorMsg</refname>
    <refpurpose>devuelve un mensaje de error</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_errormsg</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una cadena que contiene el &uacute;ltimo mensaje de error o 'No Error'.
     Si devuelve &false; es que la funci&oacute;n fracas&oacute;.
     El mensaje est&aacute; relacionado con el &uacute;ltimo comando.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-edittext">
   <refnamediv>
    <refname>hw_EditText</refname>
    <refpurpose>recupera documento de texto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_edittext</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Env&iacute;a el documento de texto al servidor. El registro de objeto
     del documento no puede ser modificado mientras el documento es
     editado.
     Esta funci&oacute;n s&oacute;lo funcionar&aacute; para objetos puros de texto. No
     abrir&aacute; ninguna conexi&oacute;n especial de datos y por tanto bloquea
     la conexi&oacute;n de control durante la transferencia.</para>
    <para>
     Vea tambi&eacute;n <function>hw_PipeDocument</function>,
              <function>hw_FreeDocument</function>,
              <function>hw_DocumentBodyTag</function>,
              <function>hw_DocumentSize</function>,
              <function>hw_OutputDocument</function>,
              <function>hw_GetText</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-error">
   <refnamediv>
    <refname>hw_Error</refname>
    <refpurpose>n&uacute;mero de error</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_error</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el &uacute;ltimo n&uacute;mero de error. Si el valor devuelto es 0 no ha
     habido errores. El error est&aacute; relacionado con el &uacute;ltimo comando.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-free-document">
   <refnamediv>
    <refname>hw_Free_Document</refname>
    <refpurpose>libera un documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_free_document</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Libera la memoria ocupada por el documento Hyperwave.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getparents">
   <refnamediv>
    <refname>hw_GetParents</refname>
    <refpurpose>id de objeto de los padres</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getparentsobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla indizada de id de objeto. Cada una pertenece a un
     padre del objeto con ID <parameter>IDobjeto</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getparentsobj">
   <refnamediv>
    <refname>hw_GetParentsObj</refname>
    <refpurpose>registros de objeto de los padres</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getparentsobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla indizada de registros de objeto junto a una tabla asociativa
     con informaci&oacute;n estad&iacute;stica sobre estos. La tabla asociativa es el &uacute;ltimo
     elemento de la tabla devuelta. Cada registro de objeto pertenece a un
     padre del objeto con ID <parameter>IDobjeto</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getchildcoll">
   <refnamediv>
    <refname>hw_GetChildColl</refname>
    <refpurpose>id de objeto de colecciones hijas</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getchildcoll</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de id de objeto. Cada ID de objeto
     pertenece a una colecci&oacute;n hija de la colecci&oacute;n con ID
     <parameter>IDobjeto</parameter>. La funci&oacute;n no devolver&aacute;
     documentos hijos.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetChildren</function>,
              <function>hw_GetChildDocColl</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getchildcollobj">
   <refnamediv>
    <refname>hw_GetChildCollObj</refname>
    <refpurpose>registros de objeto de colecciones hijas</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getchildcollobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de registros de objeto. Cada uno de ellos
     pertenece a una colecci&oacute;n hija de la colecci&oacute;n con ID
     <parameter>IDobjeto</parameter>. La funci&oacute;n no devolver&aacute;
     documentos hijos.</para>
    <para>
     Vea tambi&eacute;n <function>hw_ChildrenObj</function>,
              <function>hw_GetChildDocCollObj</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getremote">
   <refnamediv>
    <refname>hw_GetRemote</refname>
    <refpurpose>Obtiene un documento remoto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_getremote</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un documento remoto. Los documentos remotos en la
     notaci&oacute;n de Hyperwave son los obtenidos de una fuente externa.
     Los documentos remotos t&iacute;picos son p&aacute;ginas web externas o
     consultas a bases de datos. Para poder acceder a las fuentes
     externas a trav&eacute;s de documentos remotos, el Hyperwave presenta
     el HGI (Hyperwave Gateway Interface - Interfaz de Pasarela de
     Hyperwave) que es similar al CGI. Actualmente, s&oacute;lo se puede 
     acceder a servidores ftp y http y a algunas bases de datos.
     Llamar a <function>hw_GetRemote</function> devuelve el documento de
     la fuente externa. Si desea usar esta funci&oacute;n debe familiarizarse
     con los HGI. Deber&iacute;a considerar el usar PHP en lugar del Hyperwave
     para acceder a fuentes externas. A&ntilde;adir soporte de bases de datos
     a trav&eacute;s de una pasarela Hyperwave ser&iacute;a m&aacute;s dif&iacute;cil que hacerlo
     en PHP.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetRemoteChildren</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getremotechildren">
   <refnamediv>
    <refname>hw_GetRemoteChildren</refname>
    <refpurpose>Obtiene el hijo del documento remoto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_getremotechildren</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>string <parameter>registro de objeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el hijo de un documento remoto. Los hijos de documentos
     remotos son en s&iacute; mismos documentos remotos.
     Esto tiene sentido cuando se afina una consulta de bases de datos
     y se explica en la Gu&iacute;a de Programaci&oacute;n de Hyperwave. Si el n&uacute;mero
     de hijos es 1 la funci&oacute;n devolver&aacute; el documento en s&iacute; mismo formateado
     con la Interfaz de Pasarela de Hyperwave (HGI). Si el n&uacute;mero de hijos
     es mayor de 1 devolver&aacute; una tabla de registros de objeto, con cada
     uno posible candidato para otra llamada a <function>hw_GetRemoteChildren</function>. 
     Dichos registros de objeto son virtuales y no existen en el servidor
     Hyperwave, y por lo tanto no poseen un ID de objeto v&aacute;lido. La apariencia
     exacta de dicho registro de objeto depende del HGI.
     Si desea usar esta funci&oacute;n deber&aacute; estar muy familiarizado con los HGI.
     Tambi&eacute;n deber&iacute;a considerar el uso del PHP en lugar de Hyperwave para
     acceder a fuentes externas. A&ntilde;adir soporte de bases de datos a trav&eacute;s
     de una pasarela de Hyperwave resulta m&aacute;s dif&iacute;cil que hacerlo en PHP.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetRemote</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getsrcbydestobj">
   <refnamediv>
    <refname>hw_GetSrcByDestObj</refname>
    <refpurpose>Devuelve los enlaces que apuntan al objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getsrcbydestobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve los registros de objeto de todos los enlaces que apuntan al
     objeto con ID <parameter>IDobjeto</parameter>. El objeto puede ser tanto
     un documento como un enlace de tipo destino.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetAnchors</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getobject">
   <refnamediv>
    <refname>hw_GetObject</refname>
    <refpurpose>registro de objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getobject</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>[int|array] <parameter>IDobjeto</parameter></paramdef>
     <paramdef>string <parameter>consulta</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el registro de objeto para el objeto cuyo ID es 
     <parameter>IDobjeto</parameter> si el segundo par&aacute;metro es un
     entero. Si es una tabla la funci&oacute;n devolver&aacute; una tabla de
     registros de objeto. En tal caso, el &uacute;ltimo par&aacute;metro, que es
     una cadena de consulta, tambi&eacute;n es evaluado.</para>
    <para>
     La cadena de consulta tiene la sint&aacute;xis siguiente:</para>
    <simpara>
     &lt;expr> ::= "(" &lt;expr> ")" |</simpara>  <simpara>
             "!" &lt;expr> |          /* NO */</simpara><simpara>
             &lt;expr> "||" &lt;expr> |  /* O */</simpara><simpara>
             &lt;expr> "&amp;&amp;" &lt;expr> |  /* Y */</simpara><simpara>
             &lt;atributo> &lt;operador> &lt;valor></simpara><simpara>

  &lt;atributo> ::= /* cualquier atributo (T&iacute;tulo, Autor, TipoDocumento ...) */</simpara><simpara>

  &lt;operador> ::= "=" |    /* igual */</simpara><simpara>
                 "&lt;" |    /* menor que (comparaci&oacute;n de cadenas) */</simpara><simpara>
                 ">" |    /* mayor que (comparaci&oacute;n de cadenas) */</simpara><simpara>
                 "~"      /* expresi&oacute;n regular */</simpara><simpara></simpara>
    <para>
     La consulta permite seleccionar elementos de la lista de objetos
     dada. Al contrario de otras funciones de b&uacute;squeda, esta consulta
     no puede utilizar atributos indizados. El n&uacute;mero de registros de
     objeto devueltos depende de la consulta y de si est&aacute; permitido el
     acceso al objeto.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetAndLock</function>,
              <function>hw_GetObjectByQuery</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getandlock">
   <refnamediv>
    <refname>hw_GetAndLock</refname>
    <refpurpose>devuelve registro de objeto y lo bloquea</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_getandlock</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el registro de objeto para el objeto con ID
     <parameter>IDobjeto</parameter>.
     Tambi&eacute;n bloquear&aacute; el objeto, de modo que otros usuarios no
     podr&aacute;n acceder al mismo hasta que sea desbloqueado.</para>
    <para>
     Vea tambi&eacute;n <function>hw_Unlock</function>,
              <function>hw_GetObject</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-gettext">
   <refnamediv>
    <refname>hw_GetText</refname>
    <refpurpose>obtiene un documento de texto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_gettext</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
     <paramdef>mixed
      <parameter>
       <optional>IDraiz/prefijo</optional>
      </parameter>
     </paramdef>
    </funcsynopsis>
    <para>
     Devuelve el documento con ID de objeto 
     <parameter>IDobjeto</parameter>. Si el documento tiene
     enlaces que pueden ser insertados, ser&aacute;n insertados ahora.
     El par&aacute;metro opcional <parameter>IDraiz/prefijo</parameter> puede
     ser una cadena o un entero. Si es un entero determina la forma en
     que los enlaces se insertan en el documento. Por defecto es 0 y
     los enlaces se crean a partir del nombre del objeto de destino de
     los mismos. Esto es &uacute;til para aplicaciones web. Si un enlace apunta
     a un objeto con nombre 'pelicula_internet' el enlace HTML ser&aacute;
     &lt;A HREF="/pelicula_internet">. La posici&oacute;n actual del objeto
     de destino en la jerarqu&iacute;a de documentos es despreciada. Tendr&aacute; que
     ajustar su navegador web para que reescriba dicho URL a, por ejemplo,
     '/mi_script.php3/pelicula_internet'. 'mi_script.php3' deber&aacute; 
     evaluar $PATH_INFO y recuperar el documento.
     Todos los enlaces tendr&aacute;n el prefijo '/mi_script.php3'. Si no desea
     este efecto puede fijar el par&aacute;metro opcional
     <parameter>IDraiz/prefijo</parameter> al prefijo que desee
     en su lugar. En este caso deber&aacute; ser una cadena.</para>
    <para>
     Si el <parameter>IDraiz/prefijo</parameter> es un entero
     distinto de 0, el enlace se construye con todos los nombres
     de objeto comenzando con el objeto de id <parameter>IDraiz/prefijo</parameter>,
     separado por una barra relativa al objeto actual.
     Si por ejemplo el documento anterior 'pelicula_internet' est&aacute; situado
     en 'a-b-c-pelicula_internet' donde '-' es el separador entre niveles
     jer&aacute;rquicos en el servidor Hyperwave y el documento fuente est&aacute;
     situado en 'a-b-d-fuente', el enlace HTML resultante ser&iacute;a:
     &lt;A HREF="../c/pelicula_internet">. Esto es &uacute;til cuando desea
     bajarse el contenido completo del servidor al disco y mapear
     la jerarqu&iacute;a de documentos en el sistema de archivos.</para>
    <para>
     Esta funci&oacute;n s&oacute;lo trabajar&aacute; en documentos de texto puros. No
     se abrir&aacute; una conexi&oacute;n de datos especial y por tanto bloquear&aacute;
     la conexi&oacute;n de control durante la transferencia.</para>
    <para>
     Vea tambi&eacute;n <function>hw_PipeDocument</function>,
              <function>hw_FreeDocument</function>,
              <function>hw_DocumentBodyTag</function>,
              <function>hw_DocumentSize</function>,
              <function>hw_OutputDocument</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getobjectbyquery">
   <refnamediv>
    <refname>hw_GetObjectByQuery</refname>
    <refpurpose>buscar objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getobjectbyquery</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>string <parameter>consulta</parameter></paramdef>
     <paramdef>int <parameter>max_resultados</parameter></paramdef>
    </funcsynopsis>
    <para>
     Busca objetos en todo el servidor y devuelve una tabla de id de
     objeto. El n&uacute;mero m&aacute;ximo de resultados ser&aacute; <parameter>max_resultados</parameter>. 
     Si <parameter>max_resultados</parameter> vale -1, el n&uacute;mero m&aacute;ximo
     de resultados es ilimitado.</para>
    <para>
     La consulta funcionar&aacute; s&oacute;lo con atributos indizados.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetObjectByQueryObj</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getobjectbyqueryobj">
   <refnamediv>
    <refname>hw_GetObjectByQueryObj</refname>
    <refpurpose>buscar objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getobjectbyqueryobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>string <parameter>consulta</parameter></paramdef>
     <paramdef>int <parameter>max_resultados</parameter></paramdef>
    </funcsynopsis>
    <para>
     Busca objetos en todo el servidor y devuelve una tabla de registros
     de objeto. El n&uacute;mero m&aacute;ximo de resultados ser&aacute; <parameter>max_resultados</parameter>. 
     Si <parameter>max_resultados</parameter> vale -1, el n&uacute;mero m&aacute;ximo
     de resultados es ilimitado.</para>
    <para>
     La consulta funcionar&aacute; s&oacute;lo con atributos indizados.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetObjectByQuery</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getobjectbyquerycoll">
   <refnamediv>
    <refname>hw_GetObjectByQueryColl</refname>
    <refpurpose>buscar objeto en colecci&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getobjectbyquerycoll</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
     <paramdef>string <parameter>consulta</parameter></paramdef>
     <paramdef>int <parameter>max_resultados</parameter></paramdef>
    </funcsynopsis>
    <para>
     Busca objetos en la colecci&oacute;n cuyo ID es
     <parameter>IDobjeto</parameter> y devuelve una tabla de
     ID de objeto. El n&uacute;mero m&aacute;ximo de resultados ser&aacute; 
     <parameter>max_resultados</parameter>. Si <parameter>max_resultados</parameter>
     vale -1, el n&uacute;mero m&aacute;ximo de resultados es ilimitado.</para>
    <para>
     La consulta funcionar&aacute; s&oacute;lo con atributos indizados.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetObjectByQueryCollObj</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getobjectbyquerycollobj">
   <refnamediv>
    <refname>hw_GetObjectByQueryCollObj</refname>
    <refpurpose>buscar objeto en colecci&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getobjectbyquerycollobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
     <paramdef>string <parameter>consulta</parameter></paramdef>
     <paramdef>int <parameter>max_resultados</parameter></paramdef>
    </funcsynopsis>
    <para>
     Busca objetos en la colecci&oacute;n cuyo ID es
     <parameter>IDobjeto</parameter> y devuelve una tabla de
     registros de objeto. El n&uacute;mero m&aacute;ximo de resultados ser&aacute; 
     <parameter>max_resultados</parameter>. Si <parameter>max_resultados</parameter>
     vale -1, el n&uacute;mero m&aacute;ximo de resultados es ilimitado.</para>
    <para>
     La consulta funcionar&aacute; s&oacute;lo con atributos indizados.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetObjectByQueryColl</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getchilddoccoll">
   <refnamediv>
    <refname>hw_GetChildDocColl</refname>
    <refpurpose>id de objeto de documentos hijos de una colecci&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getchilddoccoll</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de id de objeto para los documentos hijos de una
     colecci&oacute;n.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetChildren</function>,
              <function>hw_GetChildColl</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getchilddoccollobj">
   <refnamediv>
    <refname>hw_GetChildDocCollObj</refname>
    <refpurpose>registros de objeto de documentos hijos de una colecci&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getchilddoccollobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de registros de objeto para los documentos hijos 
     de una colecci&oacute;n.</para>
    <para>
     Vea tambi&eacute;n <function>hw_ChildrenObj</function>,
              <function>hw_GetChildCollObj</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getanchors">
   <refnamediv>
    <refname>hw_GetAnchors</refname>
    <refpurpose>id de objeto de los enlaces de un documento</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getanchors</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de id de objeto con los enlaces del documento
     cuyo ID es <parameter>IDobjeto</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getanchorsobj">
   <refnamediv>
    <refname>hw_GetAnchorsObj</refname>
    <refpurpose>registros de objeto de los enlaces de un documento</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_getanchorsobj</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de registros de objeto con los enlaces del documento
     cuyo ID es <parameter>IDobjeto</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-mv">
   <refnamediv>
    <refname>hw_Mv</refname>
    <refpurpose>mueve objetos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_mv</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>array <parameter>tabla de id de objeto</parameter></paramdef>
     <paramdef>int <parameter>id origen</parameter></paramdef>
     <paramdef>int <parameter>id destino</parameter></paramdef>
    </funcsynopsis>
    <para>
     Mueve los objetos cuyas id se especifican en el segundo par&aacute;metro
     desde la colecci&oacute;n con id <parameter>id origen</parameter> hasta
     la colecci&oacute;n con el id <parameter>id destino</parameter>.
     Si el id de destino es 0, los objetos ser&aacute;n disociados
     de la colecci&oacute;n origen. Si esta fuese la &uacute;ltima instancia
     del objeto, este ser&iacute;a borrado. Si desea borrar todas las instancias
     de una vez, utilice <function>hw_deleteobject</function>.</para>
    <para>
     El valor devuelto es el n&uacute;mero de objetos movidos.</para>
    <para>
     Vea tambi&eacute;n <function>hw_cp</function>,
              <function>hw_deleteobject</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-identify">
   <refnamediv>
    <refname>hw_Identify</refname>
    <refpurpose>identificarse como usuario</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_identify</function></funcdef>
     <paramdef>string <parameter>nombre</parameter></paramdef>
     <paramdef>string <parameter>clave</parameter></paramdef>
    </funcsynopsis>
    <para>
     Le identifica como el usuario <parameter>nombre</parameter> y
     <parameter>clave</parameter>. La identificaci&oacute;n s&oacute;lo es
     v&aacute;lida para la sesi&oacute;n actual. No pienso que esta funci&oacute;n sea
     necesaria con mucha frecuancia. En muchos casos ser&aacute; m&aacute;s f&aacute;cil
     identificarse al abrir la conexi&oacute;n.</para>
    <para>
     Vea tambi&eacute;n <function>hw_Connect</function>.</para>
   </refsect1>
  </refentry>
  <refentry id="function.hw-incollections">
   <refnamediv>
    <refname>hw_InCollections</refname>
    <refpurpose>comprueba si los id de objeto est&aacute;n en las colecciones</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_incollections</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>array <parameter>tabla_id_objeto</parameter></paramdef>
     <paramdef>array <parameter>tabla_id_colecciones</parameter></paramdef>
     <paramdef>int <parameter>colecciones_devueltas</parameter></paramdef>
    </funcsynopsis>
    <para>
     Comprueba si el conjunto de objetos (documentos o colecciones)
     especificado por el par&aacute;metro <parameter>tabla_id_objeto</parameter> es parte de
     las colecciones enumeradas en <parameter>tabla_id_colecciones</parameter>.
     Cuando el cuarto par&aacute;metro <parameter>colecciones_devueltas</parameter> es 0,
     el subconjunto de id de objeto que es parte de las colecciones (es decir,
     los documentos o colecciones hijos de una o m&aacute;s colecciones de id de
     colecciones o de sus subcolecciones, recursivamente) es devuelto en forma
     de tabla. Cuando el cuarto par&aacute;metro es 1, sin embargo, el conjunto de
     colecciones que tienen uno o m&aacute;s objetos de este subconjunto como hijos
     es devuelto como tabla. Esta opci&oacute;n permite a un cliente, p. ej., 
     remarcar en una visualizaci&oacute;n gr&aacute;fica la parte de la jerarqu&iacute;a de 
     colecciones que contiene las coincidencias de una consulta previa.</para>
    <para></para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-info">
   <refnamediv>
    <refname>hw_Info</refname>
    <refpurpose>informaci&oacute;n sobre conexi&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_info</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve informaci&oacute;n sobre la conexi&oacute;n actual. La cadena devuelta
     tiene el siguiente formato: &lt;Cadenaservidor&gt;, &lt;Anfitri&oacute;n&gt;,
     &lt;Puerto&gt;, &lt;Usuario&gt;, &lt;Puerto del Usuario&gt;,
     &lt;Intercambio de bytes&gt;</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-inscoll">
   <refnamediv>
    <refname>hw_InsColl</refname>
    <refpurpose>insertar colecci&oacute;n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_inscoll</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
     <paramdef>array <parameter>tabla_objetos</parameter></paramdef>
    </funcsynopsis>
    <para>
     Inserta una nueva colecci&oacute;n con los atributos de la 
     <parameter>tabla_objetos</parameter> en la colecci&oacute;n
     cuyo ID de objeto es <parameter>IDobjeto</parameter>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-insdoc">
   <refnamediv>
    <refname>hw_InsDoc</refname>
    <refpurpose>insertar documento</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_insdoc</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDpadre</parameter></paramdef>
     <paramdef>string <parameter>registro_de_objeto</parameter></paramdef>
     <paramdef>string <parameter>texto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Inserta un nuevo documento con los atributos del
     <parameter>registro_de_objeto</parameter> en la colecci&oacute;n cuyo
     ID de objeto es <parameter>IDpadre</parameter>. Esta funci&oacute;n inserta
     tanto un registro de objeto s&oacute;lo como un registro de objeto y el texto
     puro en ASCII dado en <parameter>texto</parameter> si este es
     especificado.
     si desea insertar un documento general de cualquier tipo, utilice
     en su lugar <function>hw_insertdocument</function>.</para>
    <para>
     Vea tambi&eacute;n <function>hw_InsertDocument</function>,
              <function>hw_InsColl</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-insertdocument">
   <refnamediv>
    <refname>hw_InsertDocument</refname>
    <refpurpose>subir cualquier objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_insertdocument</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>id_padre</parameter></paramdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
      Sube un documento a la colecci&oacute;n dada por 
      <parameter>id_padre</parameter>.
      El documento debe ser creado antes con la funci&oacute;n
      <function>hw_NewDocument</function>. Aseg&uacute;rese que el
      registro de objeto del nuevo documento contenga al menos
      los atributos: Type, DocumentType, Title y Name (as&iacute;, en ingl&eacute;s). 
      Posiblemente desee fijar tambi&eacute;n el MimeType. La funci&oacute;n devuelve
      la id de objeto del nuevo documento, o &false;.</para>
    <para>
     Vea tambi&eacute;n <function>hw_PipeDocument</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-insertobject">
   <refnamediv>
    <refname>hw_InsertObject</refname>
    <refpurpose>inserta un registro de objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_insertobject</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>string <parameter>reg de objeto</parameter></paramdef>
     <paramdef>string <parameter>parametro</parameter></paramdef>
    </funcsynopsis>
    <para>
      Inserta un objeto en el servidor. Este puede consistir en
      cualquier objeto hyperwave v&aacute;lido. Vea la documentaci&oacute;n sobre
      el HG-CSP si desea informaci&oacute;n detallada sobre cu&aacute;les tienen
      que ser los par&aacute;metros.</para>
    <para>
      Nota: Si se desea insertar un enlace, el atributo Position
      siempre se fijar&aacute; a un valor comienzo/final o a 'invisible'.
      Las posiciones invisibles se necesitan si la anotaci&oacute;n no
      tiene enlace correspondiente en el texto anotado.</para>
    <para>
     Vea tambi&eacute;n <function>hw_PipeDocument</function>,
              <function>hw_InsertDocument</function>,
              <function>hw_InsDoc</function>,
              <function>hw_InsColl</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-mapid">
   <refnamediv>
    <refname>hw_mapid</refname>
    <refpurpose>Mapea in id global a un id virtual local</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_mapid</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>id servidor</parameter></paramdef>
     <paramdef>int <parameter>id objeto</parameter></paramdef>
    </funcsynopsis>
    <para>
      Mapea un id de objeto global en un servidor hyperwave, incluso
      con aquellos a los que no se ha conectado con <function>hw_connect</function>,
      sobre un id virtual de objeto. Este id virtual se puede utilizar
      como cualquier otro id de objeto, p. ej. para obtener el registro
      de objeto por medio de <function>hw_getobject</function>. El id de
      servidor es la primera parte del id global de objeto (GOid) de aquel
      que es realmene el n&uacute;mero IP expresado como entero.</para>
    <para>
      Nota: Para usar esta funci&oacute;n deber&aacute; activar el indicador
      F_DISTRIBUTED, que actualmenes s&oacute;lo se puede fijar en tiempo
      de compilaci&oacute;n desde hg_comm.c. Por defecto est&aacute; inactivo. Lea
      el comentario al principio de hg_comm.c
      </para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-modifyobject">
   <refnamediv>
    <refname>hw_Modifyobject</refname>
    <refpurpose>modifica el registro de objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_modifyobject</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>objeto_a_cambiar</parameter></paramdef>
     <paramdef>array <parameter>eliminar</parameter></paramdef>
     <paramdef>array <parameter>a&ntilde;adir</parameter></paramdef>
     <paramdef>int <parameter>modo</parameter></paramdef>

    </funcsynopsis>
    <para>
     Este comando permite eliminar, a&ntilde;adir, o modificar atributos individuales
     de un registro de objeto. El objeto est&aacute; especificado por el ID de
     objeto <parameter>objeto_a_cambiar</parameter>. La primera tabla,
     <parameter>eliminar</parameter>, es la lista de atributos a eliminar.
     La segunda tabla, <parameter>a&ntilde;adir</parameter>, es la lista de atributos
     a a&ntilde;adir. Para modificar un atributo, hay que borrar el antiguo y a&ntilde;adir
     uno nuevo. <function>hw_modifyobject</function> siempre eliminar&aacute; los
     atributos antes de a&ntilde;adir los nuevos excepto si el valor del atributo
     a eliminar no es una cadena o una tabla.</para>

    <para>
     El &uacute;ltimo par&aacute;metro determina si la modificaci&oacute;n se realiza de manera
     recursiva. 1 quiere decir que sea recursiva. Si alguno de los objetos
     no se puede modificar, ser&aacute; ignorado sin avisar.
     Incluso <function>hw_error</function> podr&iacute;a no indicar un
     error aunque alguno de los objetos no pueda ser modificado.</para>

    <para>
     Las claves de ambas tablas son los nombres de los atributos. El valor
     de cada elemento de la tabla puede ser una tabla, una cadena o cualquier
     otra cosa. Si es una tabla, cada valor de atributo se construye como
     la clave de cada elemento m&aacute;s dos puntos y el valor de cada elemento. Si
     es una cadena se toma como valor del atributo. Una cadena vac&iacute;a producir&aacute;
     la supresi&oacute;n completa del atributo. Si el valor no es ni cadena ni tabla,
     sino otra cosa, p. ej. un entero, no se realizar&aacute; operaci&oacute;n alguna en el
     atributo. Esto es necesario se desea a&ntilde;adir un atributo completamente
     nuevo, no solamente un nuevo valor para un atributo existente. Si la
     tabla eliminar contuviera una cadena vac&iacute;a para dicho atributo, este
     se intentar&iacute;a suprimir, lo que fallar&iacute;a porque este no existe. La
     siguiente adici&oacute;n de un nuevo valor para dicho atributo tambi&eacute;n fallar&aacute;.
     Fijando el valor para dicho atributo p. ej. a 0 har&aacute; que ni siquiera
     se intente eliminar, pero funcionar&aacute; la adici&oacute;n del mismo.</para>

    <para>
     Si desea cambiar el atributo 'Nombre' con el valor actual 'libros' por
     el de 'art&iacute;culos' deber&aacute; crear dos tablas y llamar a <function>hw_modifyobject</function>.
     <example>
      <title>modificando un atributo</title>
      <programlisting role="php">
       // $conexion es una conexi&oacute;n con el servidor Hyperwave
       // $idobj es la ID del objeto a modificar
       $tablasupr = array("Nombre" => "libros");
       $tablaanad = array("Nombre" => "art&iacute;culos");
       $hw_modifyobject($conexion, $idobj, $tablasupr, $tablaanad);
      </programlisting>
     </example>
     Para borrar/a&ntilde;adir un par nombre=valor de/a el registro de objeto,
     simplemente pase la tabla eliminar/a&ntilde;adir y fije el &uacute;ltimo/tercer
     par&aacute;metro a tabla vac&iacute;a. Si el atributo es el primero con dicho
     nombre que se a&ntilde;ade, fije el valor del atributo en la tabla eliminar
     a un valor entero.
     <example>
      <title>a&ntilde;adiendo un atributo completamente nuevo</title>
      <programlisting role="php">
       // $conexion es una conexi&oacute;n con el servidor Hyperwave
       // $idobj es la ID del objeto a modificar
       $tablasupr = array("Nombre" => 0);
       $tablaanad = array("Nombre" => "art&iacute;culos");
       $hw_modifyobject($conexion, $idobj, $tablasupr, $tablaanad);
      </programlisting>
     </example></para>
    <para>
     <note>
      <simpara>
       Los atributos plurilingües, p. ej. 'T&iacute;tulo', se pueden modificar
       de dos maneras. O bien proporcionando los valores de los atributos
       en su forma nativa 'lenguaje':'t&iacute;tulo', bien proporcionando una tabla
       con los elementos para cada lenguaje seg&uacute;n se describe m&aacute;s arriba.
       El ejemplo anterior podr&iacute;a quedar entonces:</simpara>
     </note>
     <example>
      <title>modificando el atributo T&iacute;tulo</title>
      <programlisting role="php">
       $tablasupr = array("T&iacute;tulo" => "es:Libros");
       $tablaanad = array("T&iacute;tulo" => "es:Art&iacute;culos");
       $hw_modifyobject($conexion, $idobj, $tablasupr, $tablaanad);
      </programlisting>
     </example>
      o
     <example>
      <title>modificando el atributo T&iacute;tulo</title>
      <programlisting role="php">
       $tablasupr = array("T&iacute;tulo" => array("es" => "Libros"));
       $tablaanad = array("T&iacute;tulo" => array("es" => "Art&iacute;culos", "ge"=>"Artikel"));
       $hw_modifyobject($conexion, $idobj, $tablasupr, $tablaanad);
      </programlisting>
     </example>
     Esto elimina el t&iacute;tulo espa&ntilde;ol 'Libros' y a&ntilde;ade el t&iacute;tulo espa&ntilde;ol
     'Art&iacute;culos' y el t&iacute;tulo alem&aacute;n 'Artikel'.
     <example>
      <title>eliminando atributos</title>
      <programlisting role="php">
       $tablasupr = array("T&iacute;tulo" => "");
       $tablaanad = array("T&ntilde;itulo" => "es:Art&iacute;culos");
       $hw_modifyobject($conexion, $idobj, $tablasupr, $tablaanad);
      </programlisting>
     </example>
     <note><simpara>
       Esto eliminar&aacute; todos los atributos con el nombre 'T&iacute;tulo' y a&ntilde;adir&aacute;
       un nuevo atributo 'T&iacute;tulo'. Esto es &uacute;til cuando se desea eliminar
       atributos de forma recursiva.
      </simpara></note>
     <note>
      <simpara>
       Si necesita eliminar todos los atributos con un cierto nombre
       tendr&aacute; que pasar una cadena vac&iacute;a como el valor del atributo.</simpara>
     </note>
    <note><simpara>
     S&oacute;lo los atributos 'Title', 'Description' y 'Keyword' (as&iacute;, en ingl&eacute;s)
     manejar&aacute;n de forma apropiada el prefijo de idioma. Si estos atributos
     no llevaran prefijo de idioma, se les asignari&aacute; el prefijo 'xx'.
    </simpara></note>
    <note><simpara>
     El atributo 'Name' es bastante especial. En algunos casos no puede ser
     completamente eliminado. Obtendr&aacute; un mensaje de error 'Change of base
     attribute' ('Cambio de atributo base', no est&aacute; muy claro cuando ocurre).
     Por tanto, tendr&aacute; siempre que a&ntilde;adir un nuevo atributo Name primero y
     luego eliminar el anterior.
    </simpara></note>
    <note><simpara>
      No debe rodear esta funci&oacute;n de llamadas a 
      <function>hw_getandlock</function> ni a <function>hw_unlock</function>.
      <function>hw_modifyobject</function> ya lo hace internamente.
    </simpara></note></para>
    <para>
     Devuelve &true; si no hay error o &false; en caso contrario.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-new-document">
   <refnamediv>
    <refname>hw_New_Document</refname>
    <refpurpose>crear nuevo documento</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_new_document</function></funcdef>
     <paramdef>string <parameter>registro_de_objeto</parameter></paramdef>
     <paramdef>string <parameter>datos_documento</parameter></paramdef>
     <paramdef>int <parameter>tama_documento</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un nuevo documento Hyperwave en el que los datos del
     documento est&aacute;n fijados a <parameter>datos_documento</parameter> y el
     registro de objeto a <parameter>registro_de_objeto</parameter>. La
     longitud de los <parameter>datos_documento</parameter> debe pasarse en
     <parameter>tama_documento</parameter>. Esta funci&oacute;n no inserta el
     documento en el servidor Hyperwave.</para>
    <para>
     Vea tambi&eacute;n <function>hw_FreeDocument</function>,
              <function>hw_DocumentSize</function>,
              <function>hw_DocumentBodyTag</function>,
              <function>hw_OutputDocument</function>,
              <function>hw_InsertDocument</function>.</para>
   </refsect1>
  </refentry>
  
  <refentry id="function.hw-objrec2array">
   <refnamediv>
    <refname>hw_Objrec2Array</refname>
    <refpurpose>convierte atributos de registro de objeto a tabla de objetos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>hw_objrec2array</function></funcdef>
     <paramdef>string <parameter>registro_de_objeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Convierte un <parameter>registro_de_objeto</parameter> en una tabla de objetos.
     Las claves de la tabla resultante son los nombres de los atributos.
     Los atributos m&uacute;ltiples como 'T&iacute;tulo' en distintos idiomas forman
     su propia tabla. Las claves de esta tabla son las partes a la izquierda
     de los dos puntos del valor del atributo. Actualmente, s&oacute;lo los atributos
     'Title', 'Description' y 'Keyword' (as&iacute;, en ingl&eacute;s) son correctamente
     tratados. Otros atributos m&uacute;ltiples generan una tabla indizada. Actualmente,
     s&oacute;lo el atributo 'Group' es tratado correctamente.</para>
    <para>
     Vea tambi&eacute;n <function>hw_array2objrec</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-outputdocument">
   <refnamediv>
    <refname>hw_OutputDocument</refname>
    <refpurpose>muestra el documento_hw</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_outputdocument</function></funcdef>
     <paramdef>int <parameter>documento_hw</parameter></paramdef>
    </funcsynopsis>
    <para>
     Muestra el documento sin la etiqueta BODY.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-pconnect">
   <refnamediv>
    <refname>hw_pConnect</refname>
    <refpurpose>hacer una conexi&oacute;n de base de datos permanente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_pconnect</function></funcdef>
     <paramdef>string <parameter>servidor</parameter></paramdef>
     <paramdef>int <parameter>puerto</parameter></paramdef>
     <paramdef>string <parameter>usuario</parameter></paramdef>
     <paramdef>string <parameter>clave</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un &iacute;ndice de conexi&oacute;n si hay &eacute;xito, o &false; si la conexi&oacute;n
     no puede hacerse. Abre una conexi&oacute;n permanente a un servidor Hyperwave.
     Cada uno de los argumentos debe ser una cadena entrecomillada excepto
     el n&uacute;mero de puerto. El argumento <parameter>usuario</parameter>
     y la <parameter>clave</parameter> son opcionales y pueden
     omitirse. En tal caso no se realizar&aacute; ninguna identificaci&oacute;n con
     el servidor. Es similar a la identificaci&oacute;n an&oacute;nima del usuario.
     Esta funci&oacute;n devuelve un &iacute;ndice de conexi&oacute;n que se necesita
     para otras funciones de Hyperwave. Se pueden tener varias conexiones
     permanentes abiertas a la vez.</para>
    <para>
     Vea tambi&eacute;n <function>hw_Connect</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-pipedocument">
   <refnamediv>
    <refname>hw_PipeDocument</refname>
    <refpurpose>recupera cualquier documento</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_pipedocument</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el documento Hyperwave cuyo ID de objeto es 
     <parameter>IDobjeto</parameter>. Si el documento tiene
     enlaces que pueden ser insertados, deber&aacute;n haberse insertado ya.
     El documento ser&aacute; transferido a trav&eacute;s de una conexi&oacute;n de datos
     especial que no bloquea la conexi&oacute;n de control.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetText</function> para saber m&aacute;s sobre
     		inserci&oacute;n de enlaces,
              <function>hw_FreeDocument</function>,
              <function>hw_DocumentSize</function>,
              <function>hw_DocumentBodyTag</function>,
              <function>hw_OutputDocument</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-root">
   <refnamediv>
    <refname>hw_Root</refname>
    <refpurpose>ID del objeto ra&iacute;z</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_root</function></funcdef>
     <paramdef><parameter></parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve la ID de objeto de la colecci&oacute;n hiper-ra&iacute;z. Actualmente
     siempre vale 0. La colecci&oacute;n hija de la hiper-ra&iacute;z es la colecci&oacute;n
     ra&iacute;z del servidor al que se ha conectado.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-unlock">
   <refnamediv>
    <refname>hw_Unlock</refname>
    <refpurpose>desbloquea objeto</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_unlock</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
     <paramdef>int <parameter>IDobjeto</parameter></paramdef>
    </funcsynopsis>
    <para>
     Desbloquea un documento para que otros usuarios puedan
     acceder al mismo de nuevo.</para>
    <para>
     Vea tambi&eacute;n <function>hw_GetAndLock</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-who">
   <refnamediv>
    <refname>hw_Who</refname>
    <refpurpose>Lista de los usuarios actualmente conectados</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>hw_who</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de los usuarios actualmente conectados al servidor
     Hyperwave. Cada elemento de esta tabla contiene en s&iacute; mismo los elementos
     ID, nombre, sistema, onSinceDate (conectadoDesdeFecha), onSinceTime 
     (conectadoDesdeHora), TotalTime (TiempoTotal) y self (propio). 'self'
     es 1 si esta l&iacute;nea corresponde al usuario que realiz&oacute; la petici&oacute;n.</para>
   </refsect1>
  </refentry>

  <refentry id="function.hw-getusername">
   <refnamediv>
    <refname>hw_Username</refname>
    <refpurpose>nombre del usuario actualmente conectado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>string <function>hw_getusername</function></funcdef>
     <paramdef>int <parameter>conexi&oacute;n</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el nombre de usuario de la conexi&oacute;n.</para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
