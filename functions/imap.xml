 <reference id="ref.imap">
  <title>Funciones IMAP</title>
  <titleabbrev>IMAP</titleabbrev>

  <partintro>
   <simpara>
    Para hacer funcionar estas funciones, debe compilar PHP con
    <option role="configure">--with-imap</option>. Esto requiere que 
    la libreria c-client est‚ instalada. Obtenga la £ltima versi¢n de
    <ulink url="&url.imap;">&url.imap;</ulink> y comp¡lela. Luego
    copie <filename>c-client/c-client.a</filename> al directorio
    <filename>/usr/local/lib</filename> o a cualquier otro directorio 
    de su LINK path y copie <filename>c-client/rfc822.h</filename>,
    <filename>mail.h</filename> y <filename>linkage.h</filename> al directorio
    <filename>/usr/local/include</filename> o a cualquier otro de su INCLUDE
    path.
   </simpara>
   <simpara>
    Decir que estas funciones no est n limitadas al protocolo
    <acronym>IMAP</acronym>, a pesar de sus nombres.  La librer¡a subyacente
    c-client tambi‚n soporta <acronym>NNTP</acronym>, <acronym>POP3</acronym>
    y m‚todos de acceso local a buzones de correo.  Vea <function>imap_open</function>
    para una mayor informaci¢n.
   </simpara>
  </partintro>

  <refentry id="function.imap-append">
   <refnamediv>
    <refname>imap_append</refname> 
    <refpurpose>
     Agrega una cadena de mensaje al buz¢n especificado
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_append</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
     <paramdef>string <parameter>message</parameter></paramdef>
     <paramdef>string<parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>  
    <para>
     <function>imap_append</function> agrega una cadena de mensaje al buz¢n
     especificado <parameter>mbox</parameter>. Si se especifica el
     par metro <parameter>flags</parameter>, escribe las opciones o condiciones
     establecidas en el par metro <parameter>flags</parameter> al buz¢n.
    </para>
    <para>
     Cuando conecte con el servidor Cyrus IMAP, debe usar "\r\n" como
     finalizador de linea en vez de "\n" o la operaci¢n fallar .
     </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-base64">
   <refnamediv>
    <refname>imap_base64</refname>
    <refpurpose>Decodifica texto codificado en BASE64</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_base64</function></funcdef>
     <paramdef>string <parameter>text</parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>imap_base64</function> decodifica texto codificado en BASE-64.
     El mensaje decodificado es devuelto como una cadena.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.imap-body">
   <refnamediv>
    <refname>imap_body</refname>
    <refpurpose>Lee el cuerpo del mensaje</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_body</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msg_number</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>imap_body</function> devuelve el cuerpo del mensaje,
     numerado <parameter> msg_number</parameter> del buz¢n actual.
     Los <parameter>flags</parameter> opcionales son una m scara de bit
     con una o mas de las siguientes:
     <itemizedlist>
      <listitem>
       <simpara>
   FT_UID - El msgno es un UID
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   FT_PEEK - No activar \Seen flag si no est  ya activa
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   FT_INTERNAL - La cadena devuelta est  en formato interno, no canoniza a 
   CRLF.
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-check">
   <refnamediv>
    <refname>imap_check</refname>
    <refpurpose>Comprueba el estado del buz¢n actual</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>object <function>imap_check</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve informaci¢n acerca del buz¢n actual. Devuelve FALSE si falla.
    </para>  
    <para> 
     La funci¢n <function>imap_check</function> comprueba el estado del buz¢n 
     actual en el servidor y devuelve la informaci¢n en un objeto con las
     siguientes propiedades.
    </para>
    <para>
     <informalexample>
      <literallayout>
   Date : fecha del mensaje
   Driver : controlador
   Mailbox : nombre del buz¢n
   Nmsgs : n£mero de mensajes
   Recent : n£mero de mensajes recientes
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-close">
   <refnamediv>
    <refname>imap_close</refname>
    <refpurpose>Cierra una sesi¢n IMAP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_close</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para> 
     Cierra una sesi¢n imap. Toma un par metro <parameter>flag</parameter>
     opcional, CL_EXPUNGE, el cual purgar  el buz¢n de forma trasparente antes de
     cerrarla.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-createmailbox">
   <refnamediv>
    <refname>imap_createmailbox</refname>
    <refpurpose>Crea un buz¢n nuevo</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_createmailbox</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>imap_createmailbox</function> crea un buz¢n nuevo
     especificado por <parameter>mbox</parameter> 
     (ver <function>imap_open</function> para el formato del
     par metro <parameter>mbox</parameter>). 
    </para> 
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>
    <para>
     Ver Tambi‚n <function>imap_renamemailbox</function> y
     <function>imap_deletemailbox</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-delete">
   <refnamediv>
    <refname>imap_delete</refname>
    <refpurpose>
     Marca un mensaje para ser borrado en el buz¢n actual
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_delete</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msg_number</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve true.
    </para> 
    <para> 
     La funci¢n <function>imap_delete</function> marca el mensaje referenciado
     por <parameter>msg_number</parameter> para su eliminaci¢n. El borrado
     f¡sico de los mensajes es realizado por
     <function>imap_expunge</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-deletemailbox">
   <refnamediv>
    <refname>imap_deletemailbox</refname>
    <refpurpose>Elimina un buz¢n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_deletemailbox</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
    </funcsynopsis>
    <para> 
     <function>imap_deletemailbox</function> elimina el buz¢n especificado
     (ver <function>imap_open</function> para el formato del
     <parameter>mbox</parameter>).
    </para>  
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>
    <para>
     Ver Tambi‚n <function>imap_createmailbox</function> y
     <function>imap_reanmemailbox</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-expunge">
   <refnamediv>
    <refname>imap_expunge</refname>
    <refpurpose>Elimina todos los mensajes marcados como borrados</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_expunge</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>imap_expunge</function> elimina todos los mensajes marcados
     por la funci¢n <function>imap_delete</function>.</para>
    <para>
     Devuleve true.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-fetchbody">
   <refnamediv>
    <refname>imap_fetchbody</refname>
    <refpurpose>Localiza una secci¢n particular en el cuerpo del mensaje</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_fetchbody</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msg_number</parameter></paramdef>
     <paramdef>string <parameter>part_number</parameter></paramdef>
     <paramdef>flags <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n busca una secci¢n particular en el cuerpo de los mensajes
     especificados, como una cadena de texto y devuleve esa cadena.
     La especificaci¢n de la secci¢n es una cadena de enteros delimitados
     por comas,los cuales indexan las partes del cuerpo como indica la especificaci¢n IMAP4.
     Partes del cuerpo no son decodificadas por esta funci¢n.
    </para>
    <para>
     Las opciones para <function>imap_fetchbody </function> son una m scara
      de bit con una o m s de las siguientes
     <itemizedlist>
      <listitem>
       <simpara>
   FT_UID - El msgono es un UID
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   FT_PEEK - No activar \Seen flag si no esta ya activa
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   FT_INTERNAL - La cadena devuelta est  en formato "interno",
   sin ning£n intento por canonizar CRLF
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-fetchstructure">
   <refnamediv>
    <refname>imap_fetchstructure</refname> 
    <refpurpose>
     Lee la estructuta de un mensaje concreto
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>object
      <function>imap_fetchstructure</function>
     </funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msg_number</parameter></paramdef>
     <paramdef>int 
      <parameter><optional>flags</optional></parameter>
     </paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n busca toda la informaci¢n estructurada en el mensaje
     especificado. El par metro opcional <parameter>flags</parameter> s¢lo 
     tiene una opcion, <parameter>FT_UID</parameter>, la cual indica a la funci¢n
     que trate el argumento <parameter>msg_number</parameter> como un <parameter>UID</parameter>.
     El objeto devuelto incluye el sobre, la fecha interna, el tama¤o, flags y la 
     estructura del cuerpo con un objeto similar por cada mime adjunto al mensaje.
     La estructura de los objetos devueltos es como sigue:
    </para>
    <para>
     <table>
      <title>
       Objetos Devueltos para <function>imap_fetchstructure</function>
      </title>
      <tgroup cols="2">
       <tbody>
	<row>
    <entry>type</entry>
    <entry>Tipo primario del cuerpo</entry>
	</row>
	<row>
    <entry>encoding</entry>
	 <entry>Body transfer encoding</entry>
	</row>
	<row>
	 <entry>ifsubtype</entry>
    <entry>True si hay una cadena de subtipo</entry>
	</row>
	<row>
	 <entry>subtype</entry>
	 <entry><acronym>MIME</acronym> subtype</entry>
	</row>
	<row>
    <entry>ifDescripci¢n</entry>
    <entry>True si hay una cadena de Descripci¢n</entry>
	</row>
	<row>
    <entry>Description</entry>
    <entry>Conenido de la cadena de Descripci¢n</entry>
	</row>
	<row>
	 <entry>ifid</entry>
    <entry>True si hay una cadena de identificaci¢n</entry>
	</row>
	<row>
	 <entry>id</entry>
    <entry>Cadena de Identificaci¢n</entry>
	</row>
	<row>
	 <entry>lines</entry>
    <entry>N£mero de lineas</entry>
	</row>
	<row>
	 <entry>bytes</entry>
    <entry>N£mero de bytes</entry>
	</row>
	<row>
	 <entry>ifdisposition</entry>
    <entry>True si hay una cadena de configuraci¢n</entry>
	</row>
	<row>
	 <entry>disposition</entry>
    <entry>Cadena de configuraci¢n</entry>
	</row>
	<row>
	 <entry>ifdparameters</entry>
    <entry>True si el array dparameters existe</entry>
	</row>
	<row>
	 <entry>dparameters
	  <footnote>
	   <para>
       dparameters es un array de objetos donde cada objeto tiene
       un  "atributo" y una propiedad "valor".
	   </para>
	  </footnote>
	 </entry>
    <entry>Array de parametro de configuraci¢n</entry>
	</row>
	<row>
	 <entry>ifparameters</entry>
    <entry>True si el array de par metros existe</entry>
	</row>
	<row>
	 <entry>parameters
	  <footnote>
	   <para>
       parameter es un array de objetos donde cada objetor tiene un
       "atributo" y una propiedad "valor".
	   </para>
	  </footnote>
	 </entry>
	 <entry><acronym>MIME</acronym> parameters array</entry>
	</row>
	<row>
	 <entry>parts
	  <footnote>
	   <para>
       parts es un array de objetos identico en estructura al objeto del
       primer nivel, con la limitaci¢n de que este no puede contener m s
       objetos 'parts'.
	   </para>
	  </footnote>
	 </entry>
    <entry>Array de objetos describiendo cada parte del mensaje</entry>
	</row>
       </tbody>
      </tgroup>
     </table>
    </para>

    <para>
     <table>
       <title>Tipo primario del cuerpo</title>
       <tgroup cols="2">
        <tbody>
        <row><entry>0</entry><entry>texto</entry></row>
        <row><entry>1</entry><entry>multiparte</entry></row>
        <row><entry>2</entry><entry>mensaje</entry></row>
        <row><entry>3</entry><entry>aplicaci¢n</entry></row>
        <row><entry>4</entry><entry>audio</entry></row>
        <row><entry>5</entry><entry>imagen</entry></row>
        <row><entry>6</entry><entry>video</entry></row>
        <row><entry>7</entry><entry>otro</entry></row>
        </tbody>
       </tgroup>
     </table>
    </para>
    <para>
     <table>
       <title>Codificacion para tranferencia</title>
       <tgroup cols="2">
        <tbody>
        <row><entry>0</entry><entry>7BIT</entry></row>
        <row><entry>1</entry><entry>8BIT</entry></row>
        <row><entry>2</entry><entry>BINARY</entry></row>
        <row><entry>3</entry><entry>BASE64</entry></row>
        <row><entry>4</entry><entry>QUOTED-PRINTABLE</entry></row>
        <row><entry>5</entry><entry>OTRO</entry></row>
        </tbody>
       </tgroup>
     </table>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-header">
   <refnamediv>
    <refname>imap_header</refname>
    <refpurpose>Lee la cabecera del mensaje</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>object <function>imap_header</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msg_number</parameter></paramdef>
     <paramdef>int 
      <parameter><optional>fromlength</optional></parameter>
     </paramdef>
     <paramdef>int 
      <parameter><optional>subjectlength</optional></parameter>
     </paramdef>
     <paramdef>string 
      <parameter><optional>defaulthost</optional></parameter>
     </paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve un objeto con varios elementos de la cabecera.
    </para>
    <para>  
     <informalexample>
      <literallayout>
       remail, date, Date, subject, Subject, in_reply_to, message_id,
       newsgroups, followup_to, references

message flags:
   Recent -  'R' si es reciente y ha sido leido, 
             'N' si es reciente y no ha sido leido, 
             ' ' si no es reciente
   Unseen -  'U' si no ha sido leido Y no es reciente, 
             ' ' si ha sido leido O no y es reciente
   Answered -'A' si ha sido contestado, 
             ' ' si no ha sido contestado
   Deleted - 'D' si ha sido borrado, 
             ' ' si no ha sido borrado
   Draft -   'X' if draft, 
             ' ' if not draft
   Flagged - 'F' si esta if flagged, 
             ' ' if not flagged

OBSERVE que el comportamiento Recent/Unseen es un poco extra¤o. Si quiere conocer
si un mensaje es Unseen, debe comprobarlo asi

Unseen == 'U' || Recent == 'N'

toaddress (la linea to: al completo, hasta 1024 caracteres)

to[] (devuelve un array de objetos a partir de la linea To, conteniendo:)
   personal
   adl
   mailbox
   host

fromaddress (la linea from: al completo, hasta 1024 caracteres)

from[] (devuelve un array de objetos a partir de la linea From, conteniendo:)
   personal
   adl
   mailbox
   host

ccaddress (la linea cc: al completo, hasta 1024 caracteres)
cc[] (devuelve un array de objetos a partir de la linea Cc:, conteniendo:)
   personal
   adl
   mailbox
   host

bccaddress (la linea bcc al completo, hasta 1024 caracteres)
bcc[] (devuelve un array de objetos a partir de la linea Bcc, conteniendo:)
   personal
   adl
   mailbox
   host

reply_toaddress (la linea reply_to: al completo, hasta 1024 caracteres)
reply_to[] (devuelve un array de objetos a partir de la linea Reply_to,
conteniendo:)
   personal
   adl
   mailbox
   host

senderaddress (la linea sender: al completo, hasta 1024 caracteres)
sender[] (devuelve un array de objetos a partir de la linea sender, conteniendo:)
   personal
   adl
   mailbox
   host

return_path (la linea return-path: al completo, hasta 1024 caracteres)
return_path[] (devuelve un array de objetos a partir de la linea return_path,
conteniendo:)
   personal
   adl
   mailbox
   host

udate (fecha del mensaje en formato unix)

fetchfrom (la linea from formateada hasta ajustarse a los caracteres
indicados en <parameter>fromlength</parameter>)

fetchsubject (la linea subject formateada hasta ajustarse a los caracteres
indicados en <parameter>subjectlength</parameter>)

      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-headers">
   <refnamediv>
    <refname>imap_headers</refname>
    <refpurpose>
     Returns headers for all messages in a mailbox
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_headers</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un array de cadenas formateadas con informacion de la cabecera. Un 
     elemento por mensaje de correo.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-listmailbox">
   <refnamediv>
    <refname>imap_listmailbox</refname>
    <refpurpose>Lee la lista de buzones</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_listmailbox</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>ref</parameter></paramdef>
     <paramdef>string <parameter>pat</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un array que contiene los nombres de los buzones.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-getmailboxes">
   <refnamediv>
    <refname>imap_getmailboxes</refname>
    <refpurpose>
     Lee la lista de buzones, devolviendo informac¢n detallada de cada uno
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_getmailboxes</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>ref</parameter></paramdef>
     <paramdef>string <parameter>pat</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un array de objetos coneniendo informaci¢n del buz¢n. Cada 
     objeto tiene los atributos <parameter>name</parameter>, especificando el 
     nombre completo del buz¢n; <parameter>delimiter</parameter>,
     que es el delimitador jer rquico para la parte de la jerarqu¡a
     d¢nde est  este buz¢n; y
     <parameter>attributes</parameter>. <parameter>Attributes</parameter>
     es una m scara de bits contra la que se puede probar:
     <itemizedlist>
      <listitem>
       <simpara>
   LATT_NOINFERIORS - Este buz¢n no tiene "hijos" (No ha buzones por debajo de ‚l)   
       </simpara>
      </listitem>
     <listitem>
       <simpara>
   LATT_NOSELECT - Esto es s¢lo un contenedor, no un buz¢n - No puede 
   abrirlo.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   LATT_MARKED - Este buz¢n est  marcado. Unicamente usado por UW-IMAPD.
       </simpara>
      </listitem> 
      <listitem>
       <simpara> 
   LATT_UNMARKED - Este buz¢n no est  marcado. Unicamente usado por
	UW-IMAPD.
       </simpara>
      </listitem> 
     </itemizedlist>
    </para>
    <para>
     <parameter>ref</parameter> normalmente deber¡a ser solo el servidor
     IMAP, de la forma: {imap_server:imap_port}, y
     <parameter>pattern</parameter> especifica, d¢nde en la estructura jer rquica
     del buz¢n, para comenzar a buscar. Si quiere todo los buzones, pase el 
     par metro <parameter>pattern</parameter> como una cadena vac¡a.
    </para>
    <para>
     Hay dos caracteres especiales que puede pasar como parte del par metro
     <parameter>pattern</parameter>: '*' and '%'. '*' significa que devuelva
     todos los buzones. Si pasa el par metro <parameter>pattern</parameter>
     como '*', obtendr  una lista con la jerarqu¡a completa del buz¢n.
     %' significa que devuelva s¢lo el nivel actual. Pasar '%' en el par metro
     <parameter>pattern</parameter> devolver  s¢lo el nivel m s alto
     de los buzones; '~/mail/%' en UW_IMAPD devolver  cada buz¢n
     del directorio ~/mail, pero ninguno de los subdirectorios de ese
     directorio.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-listsubscribed">
   <refnamediv>
    <refname>imap_listsubscribed</refname>
    <refpurpose>Lista todos los buzones subscritos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_listsubscribed</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>ref</parameter></paramdef>
     <paramdef>string <parameter>pattern</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un array de todos los buzones que usted tiene
     subscritos. Los par metros <parameter>ref</parameter> y
     <parameter>pattern</parameter> especifican la localizaci¢n desde donde
     comenzar  a buscar y el patr¢n que el nombre del buz¢n debe encontrar.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-getsubscribed">
   <refnamediv>
    <refname>imap_getsubscribed</refname>
    <refpurpose>Lista todos los buzones subscritos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_getsubscribed</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>ref</parameter></paramdef>
     <paramdef>string <parameter>pattern</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n es id‚ntica a <function>imap_getmailboxes</function>,
     excepto que esta s¢lo devuelve los buzones a los que est  subscrito 
     el usuario.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-mail-copy">
   <refnamediv>
    <refname>imap_mail_copy</refname>
    <refpurpose>Copia los mensajes especificados a un buz¢n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_mail_copy</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>msglist</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>  
    <para> 
     Copia los mensajes especificados por <parameter>msglist</parameter>
     a un buz¢n especificado. <parameter>msglist</parameter> es un rango
     no n£meros de mensajes.
    </para>
    <para>
     Flags es una m scara de bit de uno o m s
     <itemizedlist>
      <listitem>
       <simpara>
   CP_UID - los n£meros de secuencia contienen UIDS
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   CP_MOVE - Elimina los mensajes del buzon actual despues de copiarlos
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-mail-move">
   <refnamediv>
    <refname>imap_mail_move</refname>
    <refpurpose>Mueve los mensajes especificados a un buz¢n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_mail_move</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>msglist</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
    </funcsynopsis>
    <para> 
     Mueve los mensajes especificados por <parameter>msglist</parameter>
     al buz¢n especicifado. <parameter>msglist</parameter> es un rango
     no n£meros de mensajes.
    </para>
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-num-msg">
   <refnamediv>
    <refname>imap_num_msg</refname>
    <refpurpose>
     Informa del n£mero de mensajes en el buz¢n actual
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_num_msg</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el n£mero de mensajes en el buz¢n actual.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-num-recent">
   <refnamediv>
    <refname>imap_num_recent</refname>
    <refpurpose>Informa el n£mero de mensajes recientes en el buz¢n 
    actual</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_num_recent</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuleve el n£mero de mensajes recientes en el buz¢n actual.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-open">
   <refnamediv>
    <refname>imap_open</refname>
    <refpurpose>Abre una sesi¢n IMAP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_open</function></funcdef>
     <paramdef>string <parameter>mailbox</parameter></paramdef>
     <paramdef>string <parameter>username</parameter></paramdef>
     <paramdef>string <parameter>password</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuleve la sesion IMAP si no hay error y false en caso contrario. Esta
     funci¢n tambi‚n puede ser usada para abrir sesiones con servidores
     POP3 y NNTP.  Para conectarse a un servidor IMAP escuchando por el puerto
     143 en una m quina local, haga lo siguiente:
     <informalexample>
      <programlisting role="php"> 
$mbox = imap_open("{localhost:143}INBOX","user_id","password");
      </programlisting>
     </informalexample>

     Para conectarse a un servidor POP3 escuchando por el puerto 110, use:

     <informalexample>
      <programlisting role="php">
$mbox = imap_open("{localhost/pop3:110}INBOX","user_id","password");
      </programlisting>
     </informalexample>

     Para conectarse a un servidor NNTP escuchando por el puerto 119, use:
     
     <informalexample>
      <programlisting role="php">
$nntp = imap_open("{localhost/nntp:119}comp.test","","");
      </programlisting>
     </informalexample>

     Para conectarse a un servidor remoto sustituya "localhost", por el nombre
     o direcci¢n IP del servidor al cual quiere conectarse.
    </para>
    <para>
     Las opciones son una m scara de bit con una o m s de los siguientes:
     <itemizedlist>
      <listitem>
       <simpara>
   OP_READONLY - Abre el buz¢n en modo de s¢lo lectura
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   OP_ANONYMOUS - No usa o actualiza un .newsrc para las noticias
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   OP_HALFOPEN - Para nombres IMAP y NNTP, abre una conexi¢n pero no abre
   un buz¢n
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   CL_EXPUNGE - Purga automaticamente el buz¢n antes de cerrar la sesi¢n
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-ping">
   <refnamediv>
    <refname>imap_ping</refname>
    <refpurpose>Comprueba si la sesi¢n IMAP est  a£n activa</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_ping</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>  
     Devuelve true si la sesi¢n est  activa, false en caso contrario.
    </para>
    <para>
     La funci¢n <function>imap_ping</function> pings the stream to see
     it is still active. Esto puede descubrir que hay correo nuevo; este es
     el m‚todo preferido para hacer una comprobaci¢n periodica del buz¢n,
     asi como para mantener activa sesiones en servidores que tienen
     inactivity timeout.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-renamemailbox">
   <refnamediv>
    <refname>imap_renamemailbox</refname>
    <refpurpose>Renombra un buz¢n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_renamemailbox</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>old_mbox</parameter></paramdef>
     <paramdef>string <parameter>new_mbox</parameter></paramdef>
    </funcsynopsis>
    <para> 
     Esta funci¢n renombra un buzon (ver
     <function>imap_open</function> para el formato del par metro
     <parameter>mbox</parameter>).
    </para>
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>
    <para>
     Ver Tambi‚n <function>imap_createmailbox</function> and
     <function>imap_deletemailbox</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-reopen">
   <refnamediv>
    <refname>imap_reopen</refname>
    <refpurpose>Reabre una sesi¢n IMAP a un nuevo buz¢n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_reopen</function></funcdef>
     <paramdef>string <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mailbox</parameter></paramdef>
     <paramdef>string
     <parameter><optional>flags</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve true si no hay error y false en caso contrario.</para>
    <para>  
     Esta funci¢ reabre la sesi¢n especificada con un nuevo buz¢n.</para>
    <para>
     Las opciones son m scaras de bit con una o m s de las siguientes:
     <itemizedlist>
      <listitem>
       <simpara>
   OP_READONLY - Abre el buz¢n en modo de s¢lo lectura
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   OP_ANONYMOUS - No usa o actualiza .newsrc para noticias
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   OP_HALFOPEN - Para nombres IMAP y NNTP, abre una conexi¢n pero no
   abre el buzon.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   CL_EXPUNGE - Expurga automaticamente el buzon antes de cerra la sesi¢n
       </simpara>
      </listitem>
     </itemizedlist>
    </para>  
   </refsect1>
  </refentry>

  <refentry id="function.imap-subscribe">
   <refnamediv>
    <refname>imap_subscribe</refname>
    <refpurpose>Subscribe to a mailbox</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_subscribe</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
    </funcsynopsis>
    <para>  
     Da de alta un nuevo buz¢n.
    </para>
    <para>
     Devuleve true si no hay error y false en caso contrario.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-undelete">
   <refnamediv>
    <refname>imap_undelete</refname> 
    <refpurpose>
     Desmarca los mensajes que est n marcados como borrados
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_undelete</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msg_number</parameter></paramdef>
    </funcsynopsis>
    <para> 
     Esta funcion elimina la marca de borrado de un mensaje especifico,
     puesta por la funci¢n <function>imap_delete</function>.
    </para>
    <para>
     Devuleve true si no hay error y false en caso contrario.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-unsubscribe">
   <refnamediv>
    <refname>imap_unsubscribe</refname>
    <refpurpose>Unsubscribe from a mailbox</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_unsubscribe</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mbox</parameter></paramdef>
    </funcsynopsis>
    <para>  
     Da de baja el buz¢n especificado.
    </para>
    <para>
     Devuelve true si no hay error y false en caso contrario.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-qprint">
   <refnamediv>
    <refname>imap_qprint</refname>
    <refpurpose>Convierte una cadena quoted-printable a una cadena de 8 bit
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_qprint</function></funcdef>
     <paramdef>string <parameter>string</parameter></paramdef>
    </funcsynopsis>
    <para>  
     Convierte una cadena quoted-printable a una cadena de 8 bit</para>
    <para>
     Devuelve una cadena de 8 bit (binary)</para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-8bit">
   <refnamediv>
    <refname>imap_8bit</refname>
    <refpurpose>
     Convierte una cadena de 8bit a una cadena quoted-printable
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_8bit</function></funcdef>
     <paramdef>string <parameter>string</parameter></paramdef>
    </funcsynopsis>
    <para>  
     Convierte una cadena de 8bit a una cadena quoted-printable.</para>
    <para>
     Devuelve una cadena quoted-printable</para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-binary">
   <refnamediv>
    <refname>imap_binary</refname>
    <refpurpose>
     Convierte una cadena de 8bit a una cadena base64 
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_binary</function></funcdef>
     <paramdef>string <parameter>string</parameter></paramdef>
    </funcsynopsis>
    <para>  
     Convierte una cadena de 8bit a una cadena base64.
    </para>
    <para>
     Devuleve una cadena base64.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-scanmailbox">
   <refnamediv>
    <refname>imap_scanmailbox</refname>
    <refpurpose>
     Lee la lista de buzones y toma una cadena para buscar en el 
     texto del buz¢n
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_scanmailbox</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>string</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un array que contiene los nombres de los buzones que tienen
     el par metro <parameter>string</parameter> en el texto del buz¢n.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-mailboxmsginfo">
   <refnamediv>
    <refname>imap_mailboxmsginfo</refname>
    <refpurpose>Obtiene informaci¢n acerca del buz¢n actual</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>object <function>imap_mailboxmsginfo</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve informaci¢n acerca del buz¢n actual. Devuelve FALSE en caso de
     fallo.
    </para> 
    <para> 
     La funci¢n <function>imap_mailboxmsginfo</function> comprueba el estado
     del buz¢n actual en el servidor y devuelve la informaci¢n en un objeto
     con las siguientes propiedades.
    </para>
    <para>
     <informalexample>
      <literallayout>
       Date : fecha del mensaje
       Driver : driver
       Mailbox : nombre del buz¢n
       Nmsgs : n£mero de mensajes
       Recent : n£mero de los mensajes recientes
       Unread : n£mero de los mensajes no leidos
       Size : tama¤o del buzon
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-rfc822-write-address">
   <refnamediv>
    <refname>imap_rfc822_write_address</refname>
    <refpurpose>
     Devuleve una direcci¢n de correo correctamente formateada dado el buz¢n,
     host, e informaci¢n personal.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string 
      <function>imap_rfc822_write_address</function>
     </funcdef>
     <paramdef>string <parameter>mailbox</parameter></paramdef>
     <paramdef>string <parameter>host</parameter></paramdef>
     <paramdef>string <parameter>personal</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una direcci¢n de correo correctamente formateada, dado el buz¢n,
     host, e informaci¢n personal.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-rfc822-parse-adrlist">
   <refnamediv>
    <refname>imap_rfc822_parse_adrlist</refname>
    <refpurpose>Examina la cadena direcci¢n</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string 
      <function>imap_rfc822_parse_adrlist</function>
     </funcdef>
     <paramdef>string <parameter>address</parameter></paramdef>
     <paramdef>string <parameter>default_host</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n examina la cadena direcci¢n y para cada direcci¢n,
     devuelve un array de objetos. Los 4 objetos son:
    </para>
    <para>
     <informalexample>
      <literallayout>
     mailbox - el nombre del buz¢n (username)
     host   - el nombre del ordenador
     personal - el nombre personal
     adl - ruta del dominio
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-setflag-full">
   <refnamediv>
    <refname>imap_setflag_full</refname>
    <refpurpose>Activa flags en los mensajes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_setflag_full</function></funcdef>
     <paramdef>int <parameter>stream</parameter></paramdef>
     <paramdef>string <parameter>sequence</parameter></paramdef>
     <paramdef>string <parameter>flag</parameter></paramdef>
     <paramdef>string <parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n a¤ade el flag especificado al conjunto de flags
     activos para los mensajes en la secuencia especificada.
    </para>
    <para>
     Los flags que puede seleccionar son "\\Seen", "\\Answered",
     "\\Flagged", "\\Deleted", "\\Draft", y "\\Recent" ( definidos
     en el RFC2060)
    </para>
    <para>
     Las opciones son una m scara de bit con uno o m s de los siguientes:
     <informalexample>
      <literallayout>
        ST_UID          El argumento sequence contiene UIDs en vez de 
                        n£meros secuenciales
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-clearflag-full">
   <refnamediv>
    <refname>imap_clearflag_full</refname>
    <refpurpose>Limpia los flags de los mensajes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string 
      <function>imap_clearflag_full</function>
     </funcdef>
     <paramdef>int <parameter>stream</parameter></paramdef>
     <paramdef>string <parameter>sequence</parameter></paramdef>
     <paramdef>string <parameter>flag</parameter></paramdef>
     <paramdef>string <parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funcion elimina el flag especificado del conjunto de 
     flags activos para los mensajes en la secuencia especificada.
    </para>
    <para>
     Las opciones son una m scara de bit con uno o m s de los siguientes:
     <informalexample>
      <literallayout>
        ST_UID          El argumento sequence contiene UIDs en vez de 
                        n£meros secuenciales
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-sort">
   <refnamediv>
    <refname>imap_sort</refname>
    <refpurpose>Ordena un array de cabeceras de mensajes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_sort</function></funcdef>
     <paramdef>int <parameter>stream</parameter></paramdef>
     <paramdef>int <parameter>criteria</parameter></paramdef>
     <paramdef>int <parameter>reverse</parameter></paramdef>
     <paramdef>int <parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve un array de n£meros de mensajes ordenados por los 
     parametros dados
    </para>
    <para>
     Rev es 1 para una ordenaci¢n inversa.
    </para>
    <para>
     Criteria puede ser uno (y s¢lo uno) de los siguientes:
     <informalexample>
      <literallayout>
        SORTDATE        Fecha del mensaje
        SORTARRIVAL     Fecha de llegada
        SORTFROM        mailbox in first From address
        SORTSUBJECT     Asunto del mensaje
        SORTTO          mailbox in first To address 
        SORTCC          mailbox in first cc address 
        SORTSIZE        tama¤o del mensaje en bytes
      </literallayout>
     </informalexample>
    </para>
    <para>
     Las opciones son una m scara de bit con uno o m s de los siguientes:
     <informalexample>
      <literallayout>
        SE_UID          Devuelve UIDs en vez de n£meros secuenciales
        SE_NOPREFETCH   No preselecciona los mensajes buscados.
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-fetchheader">
   <refnamediv>
    <refname>imap_fetchheader</refname>
    <refpurpose>Devuelve la cabecera del mensaje</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string<function>imap_fetchheader</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msgno</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n localiza el formato de la cabecera RFC 822
     del mensaje especificado como una cadena de texto y
     devuelve esa cadena de texto.
    </para>
    <para>
     The options are:
     <informalexample>
      <literallayout>
        FT_UID          El argumento msgno es un UID 
        FT_INTERNAL     La cadena devuelta esta en formato "interno",
                        sin ning£n intento de canonizar CRLF
                        
        FT_PREFETCHTEXT The RFC822.TEXT should be pre-fetched at the
                        same time.  Esto evita un extra RTT en una
                        conexi¢n IMAP si se desea un mensaje completo de
                        texto (e.g. en una operaci¢n de
                        "guardar a un fichero local")
      </literallayout>
     </informalexample>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-uid">
   <refnamediv>
    <refname>imap_uid</refname>
    <refpurpose>
     Esta funci¢n devuelve el UID del n£mero de secuencia del mensaje dado
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_uid</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>msgno</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve el UID del n£mero de secuencia del mensaje dado.
     Esta funci¢n es la inversa a <function>imap_msgno</function>.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.imap-msgno">
   <refnamediv>
    <refname>imap_msgno</refname>
    <refpurpose>
     Esta funci¢n devuelve el n£mero de secuencia del mensaje para el UID dado.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>int <function>imap_msgno</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>int <parameter>uid</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve el n£mero de secuencia del mensaje para el UID dado.
     Esta funci¢n es la inversa a <function>imap_uid</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-search">
   <refnamediv>
    <refname>imap_search</refname>
    <refpurpose>
     Esta funci¢n devuelve un array de mensajes que coinciden con el
     criterio de busqueda dado.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_search</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>criteria</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n realiza una busqueda en el buz¢n actualmente abierto
     indicado por imap_stream. <parameter>criteria</parameter> es una
     cadena, delimitada por espacios, en la cual las siguientes palabras
     claves son permitidas. Cualquier argumento m£ltiple (ej. FROM "joey smith") debe estar
     entre comillas.
     <itemizedlist>  
      <listitem>
       <simpara>
   ALL - devuelve todos los mensajes que coinciden con el resto del criterio
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   ANSWERED - busca mensajes con el flag \\ANSWERED activado
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   BCC "string" - busca mensajes con "cadena" en el campo Bcc:
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   BEFORE "date" - busca mensajes con Date: antes de "date"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   BODY "string" - busca mensajes con "cadena" en el cuerpo del mensaje
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   CC "string" - busca mensajes con "cadena" en el campo Cc: 
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   DELETED - busca mensajes eliminados
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   FLAGGED - busca mensajes con el flag \\FLAGGED (sometimes
   referred to as Important or Urgent) activado
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   FROM "string" - busca mensajes con "cadena" en el campo From:
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   KEYWORD "string" - busca mensajes con "cadena" como una palabra clave
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   NEW - busca mensajes nuevos
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   OLD - busca mensajes viejos
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   ON "date" - busca mensajes con "date" igual a Date: 
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   RECENT - busca mensajes con el flag \\RECENT activado
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SEEN - busca mensajes que han sido leidos (la opcion \\SEEN activada)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SINCE "date" - busca mensajes conwith Date: after "date"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SUBJECT "string" - busca mensajes con "string" en el campo Subject:
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   TEXT "string" - busca mensajes con el texto "string"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   TO "string" - busca mensajes con "string" en el campo To:
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   UNANSWERED - busca mensajes que no han sido respondidos
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   UNDELETED - busca mensajes que no han sido eliminados
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   UNFLAGGED - busca mensajes que no estan flagged
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   UNKEYWORD "string" - busca mensajes que no coinciden con la palabra
   clave "string"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   UNSEEN - busca mensajes que no han sido leidos a£n
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
    <para>
     Por ejemplo, para buscar todos los mensajes no contestados enviados por
     Mam , usar¡a: "UNANSWERED FROM mam ". La busqueda parece ser no sensitiva.
     Esta lista de criterios est  tomada del codigo fuente del UW
     c-client y puede que este incompleta o sea inexacta.
    </para>
    <para>
     Valores validos para los flags son SE_UID, que provoca que el array 
     devuelto contenga UIDs en vez de los numeros de secuencia de los mensajes
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-last-error">
   <refnamediv>
    <refname>imap_last_error</refname>
    <refpurpose>
     Esta funci¢n devuelve el £ltimo error IMAP (si se produjo) que ocurri¢
     durante la petici¢n de esta p gina.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>string <function>imap_last_error</function></funcdef>
     <paramdef>void </paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve el texto completo del £ltimo error IMAP 
     que ocurri¢ en la pagina actual. La plia de errores The error stack is
     untouched; llamando despues a la funci¢n <function>imap_last_error</function>,
     sin que se produzca un error, devolver  el mismo error.
    </para>
    <para>ATENCIàN: esta funci¢n no esta disponible a£n en PHP4.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-errors">
   <refnamediv>
    <refname>imap_errors</refname>
    <refpurpose>
     Esta funci¢n devuelve todos los errores IMAP (si hubo) que han 
     occurrido durante la petici¢n de la p gina o desde que la pila de errores
     se inicializ¢.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_errors</function></funcdef>
     <paramdef>void </paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve un array de todos los mensajes de error IMAP 
     generados desde la £ltima llamada a <function>imap_errors</function>,
     o el principio de la p gina. Cuando se llama a <function>imap_errors</function>,
     la pila de errores se inicializa.
    </para> 
    <para>
     ATENCIàN: esta funci¢n no esta disponible a£n en PHP4.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-alerts">
   <refnamediv>
    <refname>imap_alerts</refname>
    <refpurpose>
     Esta funci¢n devuelve todos los mensajes de alerta IMAP (si hubo) que han 
     ocurrido durante la petici¢n de la pagina o desde que la pila de alertas fue
     inicializada.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>array <function>imap_alerts</function></funcdef>
     <paramdef>void </paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve un array con todos los mensajes de alerta IMAP
     generados desde la £ltima llamada a <function>imap_alerts</function>,
     o el comienzo de la pagina. Cuando se llama a <function>imap_alerts</function>, la pila de alerta
     es inicializada. La especificaci¢n IMAP requiere que estos mensajes
     sean pasados al usuario.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.imap-status">
   <refnamediv>
    <refname>imap_status</refname>
    <refpurpose>
     Esta funci¢n devuelve el informaci¢n de estado de otro buz¢n distinto
     al actual.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci¢n</title>
    <funcsynopsis>
     <funcdef>object <function>imap_status</function></funcdef>
     <paramdef>int <parameter>imap_stream</parameter></paramdef>
     <paramdef>string <parameter>mailbox</parameter></paramdef>
     <paramdef>int <parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci¢n devuelve un objeto que contiene informaci¢n de estado.
     Las opciones v lidas son:
     <itemizedlist>
      <listitem>
       <simpara>
   SA_MESSAGES - activa status->messages con el n£mero de mensajes
   en el buzon
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SA_RECENT - activa status->recent con el n£mero de mensajes recientes en 
   el buz¢n
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SA_UNSEEN - activa status->unseen con el n£mero de mesajes no leidos (nuevos)
   en el buz¢n
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SA_UIDNEXT - activa status->uidnext con el pr¢ximo uid a usar en el biz¢n
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SA_UIDVALIDITY - activa status->uidvalidity con una constante que cambia
   cuando los uids del buzon ya no son v lidos
       </simpara>
      </listitem>
      <listitem>
       <simpara>
   SA_ALL - activa todos los de arriba
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
    <para>
     status->flags contienen una m scara de bits la cual puede ser 
     comprobada contra cualquiera de las propiedades de arriba.
    </para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
