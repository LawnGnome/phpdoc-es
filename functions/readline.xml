<reference id="ref.readline">
  <title>GNU Readline</title>
  <titleabbrev>Readline</titleabbrev>

  <partintro>
   <simpara>
    Las funciones <function>readline</function> implementan una interfaz
    con la librería GNU Readline. Un ejemplo de la manera de funcionar
    podría ser la forma en que el Bash permite usar las flechas de dirección
    para insertar carácteres o desplazarse a través del historial de comandos.
    Debido a la naturaleza interactiva de esta libreria, tendrá un uso muy
    reducido en la escritura de aplicaciones Web, aunque puede ser útil
    para scripts que han de ser ejecutados desde la consola.
   </simpara>
   <simpara>
    La página principal del proyecto GNU Readline es
    <ulink url="&url.readline;">&url.readline;</ulink>.  Está actualizada por
    Chet Ramey, quien además es el autor de Bash.
   </simpara>
  </partintro>

  <refentry id="function.readline">
   <refnamediv>
    <refname>readline</refname>
    <refpurpose>Lee una línea</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>readline</function></funcdef>
      <paramdef>string 
       <parameter><optional>prompt</optional></parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función devuelve una única cadena del usuario. Puede especificar
     una cadena que se mostrará al usuario. La línea devuelta tiene
     el indicador final de nueva línea eliminado. Necesita añadir esta
     línea al historial usando la función 
     <function>readline_add_history</function>.
    </para>
    <example>
     <title><function>readline</function></title>
     <programlisting role="php">
//obtiene 3 comandos del usuario
for ($i=0; $i < 3; $i++) {
        $line = readline ("Comando: ");
        readline_add_history ($line);
}

//Vuelca el historial
print_r (readline_list_history());

//Vuelca las variables
print_r (readline_info());
     </programlisting>
    </example>
   </refsect1>
  </refentry>

  <refentry id="function.readline-add-history">
   <refnamediv>
    <refname>readline_add_history</refname>
    <refpurpose>Añade una línea al historial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>void <function>readline_add_history</function></funcdef>
      <paramdef>string <parameter>line</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función añade una línea al historial de líneas de comandos.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readline-clear-history">
   <refnamediv>
    <refname>readline_clear_history</refname>
    <refpurpose>Borra el historial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>boolean <function>readline_clear_history</function></funcdef>
      <paramdef>void <parameter></parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función borra por completo el historial de la línea de comandos.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readline-completion-function">
   <refnamediv>
    <refname>readline_completion_function</refname>
    <refpurpose>Registra una función de completitud</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>boolean 
       <function>readline_completion_function</function>
      </funcdef>
      <paramdef>string <parameter>line</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función registra una función de completitud. Debe proporcionar
     el nombre de una función existente que acepte una línea de comandos
     parcial y devuelva una array con posibles coincidencias. Es el mismo
     tipo de funcionalidad que se obtiene al pulsar la tecla de tabulación
     cuando se está usando el Bash.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readline-info">
   <refnamediv>
    <refname>readline_info</refname>
    <refpurpose>Establece/Obtiene diversas variables internas de readline</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>mixed <function>readline_info</function></funcdef>
      <paramdef>string 
       <parameter><optional>varname</optional></parameter>
      </paramdef>
      <paramdef>string 
       <parameter><optional>newvalue</optional></parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Si es llamada sin parámetros, esta función devuelve un array con
     los valores de todas las opciones que readline usa. Los elementos
     vendrán indexados por los siguientes valores: done, end, erase_empty_line,
     library_version, line_buffer, mark, pending_input, point, prompt,
     readline_name, y terminal_name.
    </para>
    <para>
     Si es llamada con un parámetros, devuelve el valor de esa opción.
     Si es llamada con dos parámetros, el valor de la opción será
     cambiado al parámetro dado.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readline-list-history">
   <refnamediv>
    <refname>readline_list_history</refname>
    <refpurpose>Lista el historial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>array <function>readline_list_history</function></funcdef>
      <paramdef>void <parameter></parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función devuelve un array con el historial de líneas de comandos
     completo. Los elementos están indexados por enteros comenzando por el cero.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readline-read-history">
   <refnamediv>
    <refname>readline_read_history</refname>
    <refpurpose>Lee un historial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>boolean 
       <function>readline_read_history</function>
      </funcdef>
      <paramdef>string <parameter>filename</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función lee un historial de comandos desde un fichero.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.readline-write-history">
   <refnamediv>
    <refname>readline_write_history</refname>
    <refpurpose>Escribe el historial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>boolean 
       <function>readline_write_history</function>
      </funcdef>
      <paramdef>string <parameter>filename</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Esta función escribe el historial de comandos en un archivo.
    </para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

