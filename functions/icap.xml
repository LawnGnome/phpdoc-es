 <reference id="ref.icap">
  <title>Funciones para ICAP - Internet Calendar Application Protocol</title>
  <titleabbrev>ICAP</titleabbrev>

  <partintro>
   <simpara>
    Para hacer funcionar estas funciones, deberá compilar el PHP con 
    <option role="configure">--with-icap</option>. Eso indicará que se precisa
    la instalación de la librería ICAP. Obtenga la última versión en <ulink url="http://icap.chek.com/">http://icap.chek.com/</ulink>,
    compílela e instálela.</simpara>
  </partintro>

  <refentry id="function.icap-open">
   <refnamediv>
    <refname>icap_open</refname>
    <refpurpose>Abre una conexión ICAP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>stream <function>icap_open</function></funcdef>
     <paramdef>string<parameter>calendario</parameter></paramdef>
     <paramdef>string<parameter>usuario</parameter></paramdef>
     <paramdef>string<parameter>clave</parameter></paramdef>
     <paramdef>string<parameter>opciones</parameter></paramdef>
    </funcsynopsis>
    <para>
     Si hay éxito devuelve un stream (flujo) ICAP, o false en caso de error.</para>  
    <para>
     <function>icap_open</function> abre una conexión ICAP con el servidor
     de <parameter>calendario</parameter> especificado. Si se especifica el 
     parámetro opcional <parameter>opciones</parameter>, también éste es
     pasado a dicho buzón.</para>
    <para></para>
   </refsect1>
  </refentry>


  <refentry id="function.icap-close">
   <refnamediv>
    <refname>icap_close</refname>
    <refpurpose>Cierra un stream ICAP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>icap_close</function></funcdef>
     <paramdef>int <parameter>stream_icap</parameter></paramdef>
     <paramdef>int <parameter>banderas</parameter></paramdef>
    </funcsynopsis>
    <para> 
     Cierra el stream ICAP dado.</para> 
   </refsect1>
  </refentry>

  <refentry id="function.icap-fetch-event">
   <refnamediv>
    <refname>icap_fetch_event</refname>
    <refpurpose>Obtiene un evento del stream de calendario/</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>object<function>icap_fetch_event</function></funcdef>
     <paramdef>stream<parameter>stream_icap</parameter></paramdef>
     <paramdef>id<parameter>id_evento</parameter></paramdef>
     <paramdef>options<parameter>opciones</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>icap_fetch_event</function> obtiene el evento del stream
     de calendario especificado por el parámetro <parameter>id_evento</parameter>.</para>
    <para>
     Devuelve un objeto de evento compuesto por:
     <itemizedlist>
      <listitem><simpara>
	int id - ID de dicho evento.</simpara></listitem>
      <listitem><simpara>
	int public - TRUE si el evento es público, FALSE si es privado.</simpara></listitem>
      <listitem><simpara>
	string category - Cadena con la categoría del evento.</simpara></listitem> 
      <listitem><simpara>
	string title - Cadena de título del evento.</simpara></listitem>
      <listitem><simpara>
	string description - Cadena de descripción del evento.</simpara></listitem>
      <listitem><simpara>
	int alarm - Número de minutos antes que el evento envíe una
	alarma/recordatorio.</simpara></listitem>
      <listitem><simpara>
	object start - Objeto que contiene una entrada datetime (fecha/hora).</simpara></listitem>
      <listitem><simpara>
	object end - Objeto que contiene una entrada datetime.</simpara></listitem>
     </itemizedlist>

     Todas las entradas datetime consisten en un objeto compuesto por:
     <itemizedlist>
      <listitem><simpara>
	int year - año</simpara></listitem>
      <listitem><simpara>
	int month - mes</simpara></listitem>
      <listitem><simpara>
	int mday  - día del mes</simpara></listitem>
      <listitem><simpara>
	int hour  - hora</simpara></listitem>
      <listitem><simpara>
	int min   - minutos</simpara></listitem>
      <listitem><simpara>
	int sec   - segundos</simpara></listitem>         
     </itemizedlist></para>
     
   </refsect1>
  </refentry>
  

  <refentry id="function.icap-list-events">
   <refnamediv>
    <refname>icap_list_events</refname>

    <refpurpose>Devuelve una lista de eventos entre dos instantes
     dados
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>icap_list_events</function></funcdef>
     <paramdef>stream <parameter>stream_icap</parameter></paramdef>
     <paramdef>datetime <parameter>instante_inicio</parameter></paramdef>
     <paramdef>datetime <parameter>instante_final</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de ID de evento que están entre los dos instantes
     dados.</para>
    <para> 
     La función <function>icap_list_events</function> toma un instante de inicio
     y uno de final para un stream de calendario. Se devuelve una tabla de
     ID de evento que están entre los instantes dados.</para>
    <para>

     Todas las entradas datetime consisten en un objeto compuesto por:
     <itemizedlist>
      <listitem><simpara>
	int year - año</simpara></listitem>
      <listitem><simpara>
	int month - mes</simpara></listitem>
      <listitem><simpara>
	int mday  - día del mes</simpara></listitem>
      <listitem><simpara>
	int hour  - hora</simpara></listitem>
      <listitem><simpara>
	int min   - minutos</simpara></listitem>
      <listitem><simpara>
	int sec   - segundos</simpara></listitem>
     </itemizedlist></para>
   </refsect1>
  </refentry>


  <refentry id="function.icap-store-event">
   <refnamediv>
    <refname>icap_store_event</refname>
    <refpurpose>Almacena un evento en un calendario ICAP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>icap_store_event</function></funcdef>
     <paramdef>int <parameter>stream_icap</parameter></paramdef>
     <paramdef>object <parameter>evento</parameter></paramdef>
    </funcsynopsis>
    <para> 
     <function>icap_store_event</function> Guarda un evento en un
     calendario ICAP.
     Un objeto de evento consiste en:

     <itemizedlist>
      <listitem><simpara>
	int public - 1 si es público, 0 si es privado;</simpara></listitem>
      <listitem><simpara>
	string caegory - Cadena con la categoría del evento.</simpara></listitem>
      <listitem><simpara>
	string title - Cadena de título del evento.</simpara></listitem>
	string description - Cadena de descripción del evento.</simpara></listitem>
      <listitem><simpara>
	int alarm - Número de minutos antes que el evento envíe una
	alarma/recordatorio.</simpara></listitem>
      <listitem><simpara>
	object start - Objeto que contiene una entrada datetime (fecha/hora).</simpara></listitem>
      <listitem><simpara>
	object end - Objeto que contiene una entrada datetime.</simpara></listitem>
     </itemizedlist>
     </itemizedlist></para>
    <para>

     Todas las entradas datetime consisten en un objeto compuesto por:
     <itemizedlist>
      <listitem><simpara>
	int year - año</simpara></listitem>
      <listitem><simpara>
	int month - mes</simpara></listitem>
      <listitem><simpara>
	int mday  - día del mes</simpara></listitem>
      <listitem><simpara>
	int hour  - hora</simpara></listitem>
     <listitem><simpara>
	int min   - minutos</simpara></listitem>
     <listitem><simpara>
	int sec   - segundos</simpara></listitem>
     </itemizedlist></para>

    <para>
     Devuelve true en caso de éxito y false en caso de error.</para>
     <para></para>
   </refsect1>
  </refentry>

  
  <refentry id="function.icap-delete-event">
   <refnamediv>
    <refname>icap_delete_event</refname>
    <refpurpose>Borra un evento de un calendario ICAP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>icap_delete_event</function></funcdef>
     <paramdef>int <parameter>id_evento</parameter></paramdef>
    </funcsynopsis>
    <para> 
     <function>icap_delete_event</function> borra el evento de calendario
     especificado por el <parameter>id_evento</parameter>.</para>
    <para>
     Devuelve true.</para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-snooze">
   <refnamediv>
    <refname>icap_snooze</refname>
    <refpurpose>Apaga la alarma de un evento</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>icap_snooze</function></funcdef>
     <paramdef>int <parameter>id_evento</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>icap_snooze</function> apaga la alarma del evento de calendario
     especificado por el <parameter>id_evento</parameter>.</para>
    <para>
     Returns true.</para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-list-alarms">
   <refnamediv>
    <refname>icap_list_alarms</refname>
    <refpurpose>
     Devuelve una lista de los eventos que una alarma ha disparado en el
     instante dado
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>icap_list_alarms</function></funcdef>
     <paramdef>stream <parameter>stream_icap</parameter></paramdef>
     <paramdef>datetime <parameter>instante_alarma</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una tabla de identificadores de evento para los que una alarma
     debiera apagarse en el instante indicado.</para>  
    <para>
     La función <function>icap_list_alarms</function> toma una estructura
     datetime para un stream de calendario. Se devuelve una tabla de los identificadores
     de evento de todas las alarmas que debieran apagarse en el instante
     indicado.</para>
    <para>
     Todas las entradas datetime consisten en un objeto compuesto por:
     <itemizedlist>
      <listitem><simpara>
	int year - año</simpara></listitem>
      <listitem><simpara>
	int month - mes</simpara></listitem>
      <listitem><simpara>
	int mday - día del mes</simpara></listitem>
      <listitem><simpara>
	int hour - hora</simpara></listitem>
      <listitem><simpara>
	int min - minutos</simpara></listitem>
     <listitem><simpara>
	int sec - segundos</simpara></listitem>
     </itemizedlist></para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->