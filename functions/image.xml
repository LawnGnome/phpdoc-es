 <reference id="ref.image">
  <title>Funciones de imágenes</title>
  <titleabbrev>Gráficos</titleabbrev>

  <partintro>
   <simpara>
    Puede usar las funciones de imágenes de PHP para obtener el
    tamaño de imágenes JPEG, GIF y PNG, y si tiene la libreria GD
    (disponible en <ulink url="&url.gd;">&url.gd;</ulink>) además
    será capaz de crear y manipular imágenes.</simpara>
  </partintro>

  <refentry id="function.getimagesize">
   <refnamediv>
    <refname>GetImageSize</refname>
    <refpurpose>Obtiene el tamaño de una imagen GIF, JPG o PNG</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>getimagesize</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
     <paramdef>array <parameter><optional>imageinfo</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     La función <function>GetImageSize</function> determinará el
     tamaño de cualquier fichero de imagen <acronym>GIF</acronym>,
     <acronym>JPG</acronym> o <acronym>PNG</acronym> y devolverá
     sus dimensiones junto al tipo de fichero en una cadena de texto
     que pueda ser usada en una marca <acronym>HTML</acronym> 
     <sgmltag>IMG</sgmltag> normal.</para>

    <para>
     Devuelve una matriz con 4 elementos. El índice 0 contiene la
     anchura de la imagen en pixels. El índice 1 contiene la altura.
     El índice 2 es una marca indicando el tipo de imagen. 1 = GIF,
     2 = JPG, 3 = PNG. El índice 3 es una cadena de texto con el 
     string correcto "height=xxx width=xxx" para ser usado directamente
     en una marca IMG.      
     <example>
      <title>GetImageSize</title>
      <programlisting>
&lt;?php $size = GetImageSize("img/flag.jpg"); ?>
&lt;IMG SRC="img/flag.jpg" &lt;?php echo $size[3]; ?>>
</programlisting></example></para>

    <para>
     El parámetro opcional <parameter>imageinfo</parameter> permite
     extraer información adicional del fichero de imagen. Actualmente
     esto devolverá las diferentes marcas APP de los JPG en una matriz
     asociada. Algunos programas usan estas marcas APP para incluir 
     información textual en las imagenes. Uno bastante común incluye
     información IPTC <ulink url="&url.iptc;">&url.iptc;</ulink> 
     en la marca APP13. Puede usar la función <function>iptcparse</function>
     para convertir la marca binaria APP13 en algo leible.
     <example>
      <title>GetImageSize devolviendo IPTC</title>
	 <programlisting>
&lt;?php 
    $size = GetImageSize("testimg.jpg",&$info);
    if (isset($info["APP13"])) {
        $iptc = iptcparse($info["APP13"]);
        var_dump($iptc);
    }
?>
</programlisting></example>

     <note><simpara>
       Esta función no requiere la libreria de imagenes GD.
      </simpara></note></para>

   </refsect1>
  </refentry>

  <refentry id="function.imagearc">
   <refnamediv>
    <refname>ImageArc</refname>
    <refpurpose>Dibuja una elipse parcial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagearc</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>cx</parameter></paramdef>
     <paramdef>int <parameter>cy</parameter></paramdef>
     <paramdef>int <parameter>w</parameter></paramdef>
     <paramdef>int <parameter>h</parameter></paramdef>
     <paramdef>int <parameter>s</parameter></paramdef>
     <paramdef>int <parameter>e</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageArc dibuja una elipse parcial centrada en cx, cy (la esquina
     superior izquierda es 0,0) en la imagen que representa im. w y h
     especifican la anchura y altura respectivamente mientras que los
     puntos de inicio y final vienen indicados por los parámetros s y
     e en grados.</para>

   </refsect1>
  </refentry>

  <refentry id="function.imagechar">
   <refnamediv>
    <refname>ImageChar</refname>
    <refpurpose>Dibuja un carácter horizontalmente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagechar</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>c</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageChar dibuja el primer carácter de <parameter>c</parameter>
     en la imagen identificada como <parameter>id</parameter> con su
     esquina superior izquierda en <parameter>x</parameter>,
     <parameter>y</parameter> (arriba izquierda es 0,0) con el color
     <parameter>col</parameter>. Si la fuente es 1, 2, 3, 4 o 5 se
     usa una fuente predefinida (números mayores corresponden con 
     tamaños mayores).</para>
    <para>
     Vea también <function>imageloadfont</function>.</para>

   </refsect1>
  </refentry>

  <refentry id="function.imagecharup">
   <refnamediv>
    <refname>ImageCharUp</refname>
    <refpurpose>Dibuja un carácter vertical</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecharup</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>c</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageCharUp dibuja el caracter c verticalmente en la imagen
     identificado como im en las coordenadas x, y (arriba izquierda
     es 0,0) con el color col. Si la fuente es 1, 2, 3, 4 o 5 se
     usa una fuente predefinida.</para>
    <para>    
     Vea también <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorallocate">
   <refnamediv>
    <refname>ImageColorAllocate</refname>
    <refpurpose>Reserva un color para una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorallocate</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageColorAllocate devuelve un identificador del color 
     representado por la mezcla de los componentes RGB dados. El
     parámetro im es el resultado de la función <function>imagecreate</function>.
     ImageColorAlocate tiene que ser invocada para crear cada color
     que va a ser usado por la imagen que representa im.
     <informalexample><programlisting>
$white = ImageColorAllocate($im, 255,255,255);
$black = ImageColorAllocate($im, 0,0,0);
</programlisting></informalexample></para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorat">
   <refnamediv>
    <refname>ImageColorAt</refname>
    <refpurpose>Obtiende el índice del color de un pixel</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorat</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el índice del color del pixel especificado
     en la posición de la imagen.</para>
    <para>
     Vea también <function>imagecolorset</function> y
     <function>imagecolorsforindex</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorclosest">
   <refnamediv>
    <refname>ImageColorClosest</refname>
    <refpurpose>Obtiene el índice del color más cercano al color especificado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorclosest</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el índice del color de la paleta de la imagen que
     sea más "cercano" al valor RGB especificado.</para>
    <para>
     La "distancia" entre el color deseado y cada color de la paleta
     es calculada como si los valores RGB representasen puntos
     en un espacio tridimensional.</para>
    <para>
     Vea también <function>imagecolorexact</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorexact">
   <refnamediv>
    <refname>ImageColorExact</refname>
    <refpurpose>Devuelve el índice del color especificado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorexact</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el índice del color especificado de la paleta de la 
     imagen.</para>
    <para>
     Si el color no existe en la paleta de la imagen, se devuelve
     el valor -1.</para>
    <para>
     Vea también <function>imagecolorclosest</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorresolve">
   <refnamediv>
    <refname>ImageColorResolve</refname>
    <refpurpose>Devuelve el índice del color especificado o su posible alternativa más cercana</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorresolve</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta función garantiza el resultado de un índice de color para
     un color solicitado, ya sea el color exacto o su alternativa
     más cercana.</para>
    <para>
     Vea también <function>imagecolorclosest</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorset">
   <refnamediv>
    <refname>ImageColorSet</refname>
    <refpurpose>Establece el color para el índice de la paleta especificado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>bool <function>imagecolorset</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>index</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Establece el índice especificado de la paleta con el color
     introduciod. Esto es útil para crear efectos de rellenado
     en imagenes con paletas sin la sobrecarga de tener que
     realizar el rellenado.</para>
    <para>
     Vea también <function>imagecolorat</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorsforindex">
   <refnamediv>
    <refname>ImageColorsForIndex</refname>
    <refpurpose>Obtiene los colores de un índice</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>imagecolorsforindex</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>index</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una matriz asociativa con las claves red, green y blue
     que contienen los valores apropiados para el color especificado
     en el índice.</para>
    <para>
     Vea también <function>imagecolorat</function> y
     <function>imagecolorexact</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorstotal">
   <refnamediv>
    <refname>ImageColorsTotal</refname>
    <refpurpose>Encuentra el número de colores de la paleta de una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorstotal</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>
     Encuentra el número de colores de la paleta de una imagen.</para>
    <para>
     Vea también <function>imagecolorat</function> y
     <function>imagecolorsforindex</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolortransparent">
   <refnamediv>
    <refname>ImageColorTransparent</refname>
    <refpurpose>Define un color como transparente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolortransparent</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter><optional>col</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageColorTransparent establece como color transparente a col en
     la imagen im. im es el identificador de imagen devuelto por 
     <function>imagecreate</function> y col es el identificador
     de color devuelto por <function>imagecolorallocate</function>.</para>
    <para>
     Se devuelve el identificador del color transparente (o el actual,
     si no se especifica ninguno).</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecopyresized">
   <refnamediv>
    <refname>ImageCopyResized</refname>
    <refpurpose>Copia y redimensiona parte de una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecopyresized</function></funcdef>
     <paramdef>int <parameter>dst_im</parameter></paramdef>
     <paramdef>int <parameter>src_im</parameter></paramdef>
     <paramdef>int <parameter>dstX</parameter></paramdef>
     <paramdef>int <parameter>dstY</parameter></paramdef>
     <paramdef>int <parameter>srcX</parameter></paramdef>
     <paramdef>int <parameter>srcY</parameter></paramdef>
     <paramdef>int <parameter>dstW</parameter></paramdef>
     <paramdef>int <parameter>dstH</parameter></paramdef>
     <paramdef>int <parameter>srcW</parameter></paramdef>
     <paramdef>int <parameter>srcH</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageCopyResize copia una porción rectangular de una imagen 
     hacia otra imagen. <parameter>dst_im</parameter> es la 
     imagen de destino, <parameter>src_im</parameter> es el
     identificador de la imagen origen. Si la altura y anchura de
     las coordenadas de origen y destino difieren se realizará
     un estrechamiento o un estiramiento apropiado del fragmento de 
     la imagen. Las coordenadas van localizadas sobre la esquina
     superior izquierda. Esta función se puede usar para copiar
     regiones dentro de la misma imagen (si <parameter>dst_im</parameter> 
     es igual que <parameter>src_im</parameter>) pero si las regiones
     se solapan los resultados seran impredecibles.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecreate">
   <refnamediv>
    <refname>ImageCreate</refname>
    <refpurpose>Crea una nueva imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecreate</function></funcdef>
     <paramdef>int <parameter>x_size</parameter></paramdef>
     <paramdef>int <parameter>y_size</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageCreate devuelve un identificador de imagen representando
     una imagen en blanco de tamaño x_size por y_size.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecreatefromgif">
   <refnamediv>
    <refname>ImageCreateFromGif</refname>
    <refpurpose>Crea una nueva imagen desde un fichero o una URL</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagecreatefromgif</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>imagecreatefromgif</function> devuelve un identificador
     de imagen representando la imagen obtenida del nombre del fichero
     dado.</para>
    <para> 
     <function>imagecreatefromgif</function> devuelve una cadena
     vacia si hay algun fallo. Además muestra un mensaje de error,
     que desafortunadamente se representa como un link roto en un
     navegador. Para depurarlo fácilmente el siguiente ejemplo
     producirá un error de GIF:
    <example>
     <title>Ejemplo de control de un error durante la creación (cortesía vic@zymsys.com )</title>
     <programlisting role="php">
function LoadGif($imgname)
{
  $im = @imagecreatefromgif($imgname); /* Attempt to open */
  if ($im == "") { /* See if it failed */
    $im = ImageCreate(150,30); /* Create a blank image */
    $bgc = ImageColorAllocate($im,255,255,255);
    $tc  = ImageColorAllocate($im,0,0,0);
    ImageFilledRectangle($im,0,0,150,30,$bgc);
    ImageString($im,1,5,5,"Error loading $imgname",$tc); /* Output an errmsg */
  }
  return $im;
}
</programlisting></example>
    <note>
     <para>
      Desde que todo el soporte a GIFs ha sido eliminado en la libreria GD
      a partir de la versión 1.6, esta función no está disponible si está
      usando esa versión de la libreria GD.</para>
    </note></para>
   </refsect1>
  </refentry>

  <refentry id="function.imagedashedline">
   <refnamediv>
    <refname>ImageDashedLine</refname>
    <refpurpose>Dibuja una línea discontinua</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagedashedline</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageLine dibuja una línea discontinua desde x1,y1 hasta x2, y2
     (arriba izquierda es 0.0) en la imagen im con el color col.</para>
    <para>    
     Vea también <function>imageline</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagedestroy">
   <refnamediv>
    <refname>ImageDestroy</refname>
    <refpurpose>Destruye una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagedestroy</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageDestroy libera la memoria asociada a la imagen im.
     im es la imagen devuelta por la función
     <function>imagecreate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefill">
   <refnamediv>
    <refname>ImageFill</refname>
    <refpurpose>Relleno</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagefill</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageFill realiza un relleno empezando en la coordenada x,y
     (arriba izquierda es 0,0) con el color col en la imagen im.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefilledpolygon">
   <refnamediv>
    <refname>ImageFilledPolygon</refname>
    <refpurpose>Dibuja un polígono relleno</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagefilledpolygon</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>array <parameter>points</parameter></paramdef>
     <paramdef>int <parameter>num_points</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageFilledPolygon crea un polígono relleno en la imagen im,
     points es una matriz PHP conteniendo los vértices del
     poligono, por ejemplo. points[0] = x0, points[1] = y0, 
     points[2] = x1, points[3] = y1, etc.
     num_points es el número total de vértices.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefilledrectangle">
   <refnamediv>
    <refname>ImageFilledRectangle</refname>
    <refpurpose>dibuja un rectángulo relleno</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagefilledrectangle</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageFilledRectangle crea un rectángulo relleno con color col en
     la imagen im comenzando con las coordenadas superiores izquierdas
     x1, y1 y finalizando en las coordenadas inferiores derechas x2, y2.
     0,0 es la esquina superior izquierda de la imagen.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefilltoborder">
   <refnamediv>
    <refname>ImageFillToBorder</refname>
    <refpurpose>Relleno de un color especifico</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagefilltoborder</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>border</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageFillToBorder realiza un relleno hasta el color del borde
     que está definido por border. El punto de inicio para el relleno
     es x,y (arriba izquierda es 0,0) y la región se rellena con
     el color col.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefontheight">
   <refnamediv>
    <refname>ImageFontHeight</refname>
    <refpurpose>Devuelve la altura de una fuente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagefontheight</function></funcdef>
     <paramdef>int <parameter>font</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve la altura en pixels de un carácter en un fuente específica.</para>
    <para>
     Vea también <function>imagefontwidth</function> y
     <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefontwidth">
   <refnamediv>
    <refname>ImageFontWidth</refname>
    <refpurpose>Devuelve la anchura de una fuente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagefontwidth</function></funcdef>
     <paramdef>int <parameter>font</parameter></paramdef>
    </funcsynopsis>
    <para>    
     Devuelve la anchura en pixels de un carácter en un fuente específica.</para>
    <para> 
     Vea también <function>imagefontheight</function> y
     <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagegif">
   <refnamediv>
    <refname>ImageGif</refname>
    <refpurpose>Envía una imagen al navegador o a un fichero</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagegif</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>imagegif</function> crea el fichero GIF en filename
     a partir de la imagen <parameter>im</parameter>. El parámetro
     <parameter>im</parameter> es el resultado de usar la función
     <function>imagecreate</function>.</para>
    <para>
     El formato de la imagen será GIF87a a menos que la imagen se halla
     hecho transparente con <function>imagecolortransparent</function>, 
     en cuyo caso el formato de la imagen será GIF89a.</para>
    <para>
     El parametro del nombre del fuichero es opcional, y si se deja en
     blanco, la imagen será mostrada directamente. Enviando un tipo de
     imagen/gif usando la función <function>header</function>, puede 
     crear un script PHP que muestre imagenes GIF directamente.
    <note>
     <para>
      Desde que todo el soporte a GIFs ha sido eliminado en la libreria GD
      a partir de la versión 1.6, esta función no está disponible si está
      usando esa versión de la libreria GD.</para>
    </note></para>

   </refsect1>
  </refentry>

  <refentry id="function.imageinterlace">
   <refnamediv>
    <refname>ImageInterlace</refname>
    <refpurpose>Activa o desactiva el entrelazado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imageinterlace</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter><optional>interlace</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>ImageInterlace</function> activa o desactiva el bit de
     entrelazado. Si interlace es 1 la imagen im será entrelazada,
     y si interlace es 0 el bit de entrelazado se desactiva.</para>
    <para>
     Esta función devuelve como ha cambiado el estado del bit de 
     entralazado de la imagen.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imageline">
   <refnamediv>
    <refname>ImageLine</refname>
    <refpurpose>Dibuja una línea</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imageline</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageLine dibuja una línea desde x1,y1 hasta x2,y2 (arriba izquierda
     es 0,0) en la imagen im con el color col.</para> 
    <para> 
     Vea también <function>imagecreate</function> y
     <function>imagecolorallocate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imageloadfont">
   <refnamediv>
    <refname>ImageLoadFont</refname>
    <refpurpose>Carga una fuente nueva</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imageloadfont</function></funcdef>
     <paramdef>string <parameter>file</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageLoadFont carga una fuente de bitmaps definida por el usuario
     y devuelve un identificador para esa fuente (que siempre es mayor
     de 5, de forma que no pueda entrar en conflicto con las fuentes
     predefinidas)..</para>
    <para>
     El formato del fichero de la fuente es actualmente binario y
     dependiente de la arquitectura. Esto significa que tiene que
     generar los ficheros de las fuentes en el mismo tipo de CPU
     que la que tiene la máquina que está ejecutando PHP.</para>
    <para>
     <table>
      <title>Formato del fichero de fuentes</title>
      <tgroup cols="3">
       <thead>
    <row>
     <entry>Posición en bytes</entry>
     <entry>tipo de datos C</entry>
     <entry>Descripción</entry>
    </row>
       </thead>
       <tbody>
    <row>
     <entry>byte 0-3</entry>
     <entry>int</entry>
     <entry>número de carácteres en la fuente</entry>
    </row>
    <row>
     <entry>byte 4-7</entry>
     <entry>int</entry>
     <entry>
       valor del primer carácter de la fuente (normalmente 32 para el espacio)
      </entry>
    </row>
    <row>
     <entry>byte 8-11</entry>
     <entry>int</entry>
     <entry>Anchura en pixels de cada carácter</entry>
    </row>
    <row>
     <entry>byte 12-15</entry>
     <entry>int</entry>
     <entry>Altura en pixels de cada carácter</entry>
    </row>
    <row>
     <entry>byte 16-</entry>
     <entry>char</entry>
     <entry>
       matriz con los datos del carácter, un byte por pixel
       en cada carácter, haciendo un total de (número carácteres*
       altura*anchura) bytes.     
      </entry>
    </row>

       </tbody>
      </tgroup>
     </table></para>

    <para>
     Vea también <function>ImageFontWidth</function> y
     <function>ImageFontHeight</function>.</para>

   </refsect1>
  </refentry>

  <refentry id="function.imagepolygon">
   <refnamediv>
    <refname>ImagePolygon</refname>
    <refpurpose>Dibuja un polígono</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagepolygon</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>array <parameter>points</parameter></paramdef>
     <paramdef>int <parameter>num_points</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImagePolygon crea un polígono en la imagen id. points es un
     array PHP conteniendo los vértices del polígono. de la siguiente
     forma points[0] = x0, points1 = y0, points[2] = x1, points[3] =
     y1, etc. num_points es el número total de vértices.</para>
    <para>    
     Vea también <function>imagecreate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepsbbox">
   <refnamediv>
    <refname>ImagePSBBox</refname>
    <refpurpose>Devuelve el borde que rodea un rectángulo de texto usando fuentes PostScript Type1</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>imagepsbbox</function></funcdef>
     <paramdef>string <parameter>text</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>space</parameter></paramdef>
     <paramdef>int <parameter>width</parameter></paramdef>
     <paramdef>float <parameter>angle</parameter></paramdef>
    </funcsynopsis>
    <para>
     <parameter>size</parameter> representa pixels.</para>
    <para>
     <parameter>space</parameter> perimte cambiar el valor por defecto
     de un espacio en una fuentes. Este valor es añadido al valor normal
     y puede ser negativo.</para>
    <para>
     <parameter>tightness</parameter> permite controlar la cantidad
     de espacio en blanco entre carácteres. Este valor se añade a la
     anchura normal del carácter y puede ser negativo.</para>
    <para>
     <parameter>angle</parameter> viene dado en grados.</para>
    <para>
     Los parámetros <parameter>space</parameter> y
     <parameter>tightness</parameter> vienen expresados en unidades
     de espacio de carácteres, donde una unidad es 1/1000 el 
     borde de una M.</para>
    <para>
     Los parámetros <parameter>space</parameter>,
     <parameter>tightness</parameter> y <parameter>angle</parameter>
     son opcionales.</para>
    <para>
     El borde es calculado usando la información disponible de las
     métricas del carácter, y desafortunadamente tiende a diferir
     ligeramente de los resultados obtenidos de digitalizar el texto.
     Si el ángulo es de 0 grados, puede esperar que el texto necesite
     un pixel más en cada dirección.</para>
    <para>
     Esta función devuelve un array conteniuendo los siguientes elementos:
     <informaltable>
      <tgroup cols="2">
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>coordenada x inferior izquierda</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>coordenada y inferior izquierda</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>coordenada x superior derecha</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>coordenada y superior derecha</entry>
	</row>
       </tbody>
      </tgroup>
     </informaltable></para>
    <para>
     Vea también <function>imagepstext</function>.</para>
   </refsect1>
  </refentry>

<!-- La función en t1lib que usa esta función parece ser erronea...
De momento, se comenta todo lo que hay en la documentación y en las
fuentes hasta que el tiempo permita encontrar una solución.

  <refentry id="function.imagepscopyfont">
   <refnamediv>
    <refname>ImagePSCopyFont</refname>
    <refpurpose>hace una copia de una fuente ya cargada para futuras modificaciones</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagepscopyfont</function></funcdef>
     <paramdef>int <parameter>fontindex</parameter></paramdef>
    </funcsynopsis>
    <para>
     Use esta función si necesita hacer modificaciones en la fuente,
     por ejemplo expander/condensar, inclinarla o cambiar su vector 
     de codificación de caracteres, pero también necesita mantener la
     fuente original. Note que la fuente que quiera copiar debe haber
     sido obtenida usando <function>imagepsloadfont</function>, no una
     fuente que sea una copia de otra. Aunque puede hacer modificaciones
     antes de copiarla.</para>
    <para>
     Si usa esta función, <emphasis>debe</emphasis> liberar las
     fuentes obtenidas de esta manera. De otra forma su script
     se <emphasis>colgará</emphasis>.</para>
    <para>
     En el caso de que todo vaya bien, devolverá un índice de fuente
     válido que puede ser usado para futuos propósitos. De otra forma
     la función devolverá false e imprimirá un mensaje indicando que
     es lo que ha ido mal.</para>
    <para>
     Vea también <function>imageploadpsfont</function>.</para>
   </refsect1>
  </refentry>
-->

  <refentry id="function.imagepsencodefont">
   <refnamediv>
    <refname>ImagePSEncodeFont</refname>
    <refpurpose>Cambia el vector de codificación de caracteres de una fuente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagepsencodefont</function></funcdef>
     <paramdef>string <parameter>encodingfile</parameter></paramdef>
    </funcsynopsis>
    <para>
     Carga un vector de codificación de caracteres desde un archivo
     y cambia el vector de codificación de las fuentes a él.   
     Loads a character encoding vector from from a file and changes
     the fonts encoding vector to it. En las fuentes PostScript normalmente
     faltan muchos caracteres por encima de 127, seguramente quiera
     cambiar esto si emplea u idioma distinto del inglés.El formato 
     exacto de este archivo está descrito en la documentación de T1libs. 
     T1lib viene con dos archivos listos para usar, IsoLatin1.enc 
     y IsoLatin2.enc.</para>
    <para>
     Si se encuentra usando esta función todo el tiempo, una forma
     mucho mejor de definir la codificación es establecer ps.default_encoding 
     en el <link linkend="configuration.file">archivo de configuración</link>
     para que apunte al archivo de codificación correcto y todas las
     fuentes que cargue tendrán de forma automática la codificación
     correcta.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepsfreefont">
   <refnamediv>
    <refname>ImagePSFreeFont</refname>
    <refpurpose>Libera la memoria usada por un fuente PostScript Type 1</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>void <function>imagepsfreefont</function></funcdef>
     <paramdef>int <parameter>fontindex</parameter></paramdef>
    </funcsynopsis>
    <para>
     Vea también <function>imagepsloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepsloadfont">
   <refnamediv>
    <refname>ImagePSLoadFont</refname>
    <refpurpose>Carga una fuente PostScript Type 1 desde un fichero</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagepsloadfont</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
     En el caso de que todo vaya bien, tiene que devolver un índice
     de fuente correcto que puede ser usado para futuras operaciones.
     En caso contrario la función devuelve false e imprime un
     mensaje describiendo donde ha fallado</para>
    <para>
     Vea también <function>imagepsfreefont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepstext">
   <refnamediv>
    <refname>ImagePSText</refname>
    <refpurpose>Para dibujar una cadena de texto sobre una imagen usando fuentes PostScript Type1</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>imagepstext</function></funcdef>
     <paramdef>int <parameter>image</parameter></paramdef>
     <paramdef>string <parameter>text</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>foreground</parameter></paramdef>
     <paramdef>int <parameter>background</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>
       <optional>space</optional></parameter></paramdef>
     <paramdef>int <parameter>
       <optional>tightness</optional></parameter></paramdef>
     <paramdef>float <parameter>
       <optional>angle</optional></parameter></paramdef>
     <paramdef>int <parameter>
       <optional>antialias_steps</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     <parameter>size</parameter> viene expresado en pixels.</para>
    <para>
     <parameter>foreground</parameter> es el color en el cual el texto
     será pintado. <parameter>background</parameter> es el color
     en el que el texto tratará de resaltar con antialiaing. Los
     pixels con el color <parameter>background</parameter> no 
     se pintan, de forma que la imagen de fondo no necesita ser de un 
     color sólido.</para>
    <para>
     Las coordenadas dadas por <parameter>x</parameter>,
     <parameter>y</parameter> definirán el origen (o punto de
     referencia) del primer carácter (la esquina superior izquierda
     del carácter).  Esto es diferente de la función
     <function>ImageString</function>, donde x, y definen la
     esquina superiro derecha del primer carácter. Consulte la
     documentación de PostScript sobre fuentes y su sistema de medidas
     si tiene algún problema entendiendo como funcion.</para>
    <para>
     <parameter>space</parameter> permite cambiar el valor por defecto
     de un espacio en la fuente. Esta cantidad es sumada al valor normal
     y puede ser negativa.</para>
    <para>
     <parameter>tightness</parameter> permite controlar la cantidad de 
     espacio en blanco entre caracteres. Esta cantidad es sumada al valor 
     normal y puede ser negativa.</para>
    <para>
     <parameter>angle</parameter> viene en grados.</para>
    <para>
     <parameter>antialias_steps</parameter> permite controlar el
     número de colores usados para el antialising del texto. Los 
     valores permitidos son 4 y 16. El valor superior está recomendado
     para textos con tamaños inferiores a 20, donde el efecto en la
     calidad del texto es bastante visible. Con tamaños superiores
     use 4. Hace un menor uso de cálculo.</para>
    <para>
     Parameters <parameter>space</parameter> y
     <parameter>tightness</parameter> están expresados en unidades
     de espacio de caracteres, donde 1 unidad es 1/1000 de una M 
     mayúscula.</para>
    <para>
     Los parámetros <parameter>space</parameter>,
     <parameter>tightness</parameter>, <parameter>angle</parameter>
     y <parameter>antialias</parameter> son opcionales.</para>
    <para>
     Esta función devuelve una matriz conteniendo los siguientes elementos:
     <informaltable>
      <tgroup cols="2">
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>coordenada x inferior izquierda</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>coordenada y inferior izquierda</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>coordenada x superior derecha</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>coordenada y superior derecha</entry>
	</row>
       </tbody>
      </tgroup>
     </informaltable></para>
    <para>
     Vea también <function>imagepsbbox</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagerectangle">
   <refnamediv>
    <refname>ImageRectangle</refname>
    <refpurpose>Dibuja un rectángulo</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagerectangle</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageRectangle crea un rectángulo de color col en la imagen
     im comenzando en la coordenada superior izquierda x1,y1 y
     finalizando en la coordenada inferior derecha x2,y2. 0,0 es
     la esquina superior izquierda de la imagen.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagesetpixel">
   <refnamediv>
    <refname>ImageSetPixel</refname>
    <refpurpose>Dibuja un pixel</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagesetpixel</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageSetPixel dibuja un pixel x,y (arriba izquierda 0,0) 
     en la imagen im con color col.</para> <para> Vea también
     <function>imagecreate</function> y
     <function>imagecolorallocate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagestring">
   <refnamediv>
    <refname>ImageString</refname>
    <refpurpose>Dibuja una cadena de texto horizintalmente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagestring</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>s</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageString dibuja la cadena s en la imagen identificada por im
     en las coordenadas x,y (arriba izquierda es 0,0) en el color col.
     Si la fuente es 1, 2, 3, 4 o 5, se emplea una fuente interna.</para>
     <para> Vea también
     <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagestringup">
   <refnamediv>
    <refname>ImageStringUp</refname>
    <refpurpose>Dibuja una cadena de texto verticalmente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagestringup</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>s</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageStringUp dibuja la cadena s verticalmente en la imagen
     identificada por im en las coordenadas x,y (arriba izquierda es
     0,0) en el color col. Si la fuente es 1, 2, 3, 4 o 5, se usa una
     fuente interna.</para>
    <para> Vea también <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagesx">
   <refnamediv>
    <refname>ImageSX</refname>
    <refpurpose>Obtiene la anchura de la imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagesx</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageSX devuelva la anchura de la imagen identificado por im.</para>
    <para> Vea también <function>imagecreate</function> y
     <function>imagesy</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagesy">
   <refnamediv>
    <refname>ImageSY</refname>
    <refpurpose>Obtiene la altura de la imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>int <function>imagesy</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageSY devuelve la altura de la imagen identificada por im.</para>
    <para>Vea también <function>imagecreate</function> y
    <function>imagesx</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagettfbbox">
   <refnamediv>
    <refname>ImageTTFBBox</refname>
    <refpurpose>Devuelve un caja que rodea al texto usando fuentes TypeType</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>ImageTTFBBox</function></funcdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>angle</parameter></paramdef>
     <paramdef>string <parameter>fontfile</parameter></paramdef>
     <paramdef>string <parameter>text</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta función calcula y devuelve un rectángulo en pixels que encierra
     un texto con TrueType.
     <variablelist>
      <varlistentry>
       <term><parameter>text</parameter></term>
       <listitem><simpara>La cadena que ha de ser medida.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term><parameter>size</parameter></term>
       <listitem><simpara>El tamaño de la fuente.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term><parameter>fontfile</parameter></term>
       <listitem><simpara>El nombre del archivo de fuente TrueType.  (Puede
	 ser también una URL.)</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term><parameter>angle</parameter></term>
       <listitem><simpara>Ángulo en grados en el
	 <parameter>text</parameter> que va a ser medido.</simpara></listitem>
      </varlistentry>
     </variablelist>

     <function>ImageTTFBBox</function> devuelve una matriz con 8
     elementos representando cuatro puntos que hacen una caja
     rodeando al texto:

     <informaltable>
      <tgroup cols="2">
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>esquina inferior izquierda, posición X</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>esquina inferior izquierda, posición Y</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>esquina inferior derecha, posición X</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>esquina inferior derecha, posición Y</entry>
	</row>
	<row>
	 <entry>4</entry>
	 <entry>esquina superior derecha, posición X</entry>
	</row>
	<row>
	 <entry>5</entry>
	 <entry>esquina superior derecha, posición Y</entry>
	</row>
	<row>
	 <entry>6</entry>
	 <entry>esquina superior izquierda, posición X</entry>
	</row>
	<row>
	 <entry>7</entry>
	 <entry>esquina superior izquierda, posición Y</entry>
	</row>
       </tbody>
      </tgroup>
     </informaltable>
     Los puntos son relativos a <emphasis>text</emphasis>
     a pesar del ángulo, de forma que "superior izquierda"
     significa la esquina superior izquierda viendo el texto
     horizontalmente.</para>
    <para>
     Esta función requiere tanto la libreria GD como la libreria 
     Freetype.</para>
    <para>
     Vea también <function>ImageTTFText</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagettftext">
   <refnamediv>
    <refname>ImageTTFText</refname>
    <refpurpose>Escribe texto en la imagen usando fuentes TrueType</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>ImageTTFText</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>angle</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
     <paramdef>string <parameter>fontfile</parameter></paramdef>
     <paramdef>string <parameter>text</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageTTFText escribe la cadena<parameter>text</parameter> en la
     imagen identificada por <parameter>im</parameter>, comenzando en
     las coordenadas <parameter>x,y</parameter> (arriba izquierda es 0,0), 
     con un ángulo de <parameter>angle</parameter> en el color
     <parameter>col</parameter>, usando el ficheor de fuente TrueType 
     identificado por <parameter>fontfile</parameter>.</para>
    <para>
     Las coordenadas dadas por
     <parameter>x</parameter>,<parameter>y</parameter> definirán el punto
     base del primer carácter. (la esquina inferior izquierda del carácter).
     Esto es diferente de la función <function>ImageString</function>, 
     donde x,y definen la esquina superior derecha del primer carácter.</para>
    <para>
     El <parameter>angle</parameter> viene dado en grados, donde 0 grados
     representa el texto de izquierda a derecha (dirección las 3 en punto), 
     y valores superiores representan una rotación en el sentido de las
     agujas de un reloj. (ej. un valor de 90 representaría un texto que fuese
     de abajo hacia arriba).</para>
    <para>
     <parameter>fontfile</parameter> es la ruta hacia la fuente TrueType 
     que desee usar.</para>
    <para>
     <parameter>text</parameter> es la cadena de texto que puede incluir
     secuencias de caracteres UTF-8 (de la forma: &amp;123; ) para acceder
     a caracteres de la fuente más allá de los primeros 255.</para>
    <para>
     <parameter>col</parameter> es el índice de color.  El uso de
     un índice de color negativo tiene el efecto de desactivar
     el antialiasing.</para>
    <para>
     <function>ImageTTFText</function> devuelve una matriz con 8
     elementos representando cuatro puntos que hace una caja que cubre
     el texto.El orden de los puntos en arriba izquierda, arriba derecha,
     abajo derecha, abajo izquierda. Los puntos son relativos al texto
     a pesar del ángulo, por lo que "arriba izquierda" significa en 
     la esquina superior izquierda cuando ve el texto horizontalmente.</para>
    <para>
     Este script de ejemplo producirá un GIF negro de 400x30 pixels, con
     las palabras "Testing..." en blanco con la fuente Arial.
     <example>
      <title>ImageTTFText</title>
      <programlisting>
&lt;?php
Header("Content-type: image/gif");
$im = imagecreate(400,30);
$black = ImageColorAllocate($im, 0,0,0);
$white = ImageColorAllocate($im, 255,255,255);
ImageTTFText($im, 20, 0, 10, 20, $white, "/path/arial.ttf", "Testing... Omega: &amp;#937;");
ImageGif($im);
ImageDestroy($im);
?&gt;
</programlisting></example></para>

    <para>
     Esta función requiere la libreria GD y la libreria
      <ulink url="&url.freetype;">FreeType</ulink>.</para>
    <para>
     Vea también <function>ImageTTFBBox</function>.</para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
