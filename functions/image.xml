 <reference id="ref.image">
  <title>Funciones de im&aacute;genes</title>
  <titleabbrev>Gr&aacute;ficos</titleabbrev>

  <partintro>
   <simpara>
    Puede usar las funciones de im&aacute;genes de PHP para obtener el
    tama&ntilde;o de im&aacute;genes JPEG, GIF y PNG, y si tiene la libreria GD
    (disponible en <ulink url="&url.gd;">&url.gd;</ulink>) adem&aacute;s
    ser&aacute; capaz de crear y manipular im&aacute;genes.</simpara>
  </partintro>

  <refentry id="function.getimagesize">
   <refnamediv>
    <refname>GetImageSize</refname>
    <refpurpose>Obtiene el tama&ntilde;o de una imagen GIF, JPG o PNG</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>getimagesize</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
     <paramdef>array <parameter><optional>imageinfo</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     La funci&oacute;n <function>GetImageSize</function> determinar&aacute; el
     tama&ntilde;o de cualquier fichero de imagen <acronym>GIF</acronym>,
     <acronym>JPG</acronym> o <acronym>PNG</acronym> y devolver&aacute;
     sus dimensiones junto al tipo de fichero en una cadena de texto
     que pueda ser usada en una marca <acronym>HTML</acronym> 
     <sgmltag>IMG</sgmltag> normal.</para>

    <para>
     Devuelve una matriz con 4 elementos. El &iacute;ndice 0 contiene la
     anchura de la imagen en pixels. El &iacute;ndice 1 contiene la altura.
     El &iacute;ndice 2 es una marca indicando el tipo de imagen. 1 = GIF,
     2 = JPG, 3 = PNG. El &iacute;ndice 3 es una cadena de texto con el 
     string correcto "height=xxx width=xxx" para ser usado directamente
     en una marca IMG.      
     <example>
      <title>GetImageSize</title>
      <programlisting>
&lt;?php $size = GetImageSize("img/flag.jpg"); ?>
&lt;IMG SRC="img/flag.jpg" &lt;?php echo $size[3]; ?>>
</programlisting></example></para>

    <para>
     El par&aacute;metro opcional <parameter>imageinfo</parameter> permite
     extraer informaci&oacute;n adicional del fichero de imagen. Actualmente
     esto devolver&aacute; las diferentes marcas APP de los JPG en una matriz
     asociada. Algunos programas usan estas marcas APP para incluir 
     informaci&oacute;n textual en las imagenes. Uno bastante com&uacute;n incluye
     informaci&oacute;n IPTC <ulink url="&url.iptc;">&url.iptc;</ulink> 
     en la marca APP13. Puede usar la funci&oacute;n <function>iptcparse</function>
     para convertir la marca binaria APP13 en algo leible.
     <example>
      <title>GetImageSize devolviendo IPTC</title>
	 <programlisting>
&lt;?php 
    $size = GetImageSize("testimg.jpg",&$info);
    if (isset($info["APP13"])) {
        $iptc = iptcparse($info["APP13"]);
        var_dump($iptc);
    }
?>
</programlisting></example>

     <note><simpara>
       Esta funci&oacute;n no requiere la libreria de imagenes GD.
      </simpara></note></para>

   </refsect1>
  </refentry>

  <refentry id="function.imagearc">
   <refnamediv>
    <refname>ImageArc</refname>
    <refpurpose>Dibuja una elipse parcial</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagearc</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>cx</parameter></paramdef>
     <paramdef>int <parameter>cy</parameter></paramdef>
     <paramdef>int <parameter>w</parameter></paramdef>
     <paramdef>int <parameter>h</parameter></paramdef>
     <paramdef>int <parameter>s</parameter></paramdef>
     <paramdef>int <parameter>e</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageArc dibuja una elipse parcial centrada en cx, cy (la esquina
     superior izquierda es 0,0) en la imagen que representa im. w y h
     especifican la anchura y altura respectivamente mientras que los
     puntos de inicio y final vienen indicados por los par&aacute;metros s y
     e en grados.</para>

   </refsect1>
  </refentry>

  <refentry id="function.imagechar">
   <refnamediv>
    <refname>ImageChar</refname>
    <refpurpose>Dibuja un car&aacute;cter horizontalmente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagechar</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>c</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageChar dibuja el primer car&aacute;cter de <parameter>c</parameter>
     en la imagen identificada como <parameter>id</parameter> con su
     esquina superior izquierda en <parameter>x</parameter>,
     <parameter>y</parameter> (arriba izquierda es 0,0) con el color
     <parameter>col</parameter>. Si la fuente es 1, 2, 3, 4 o 5 se
     usa una fuente predefinida (n&uacute;meros mayores corresponden con 
     tama&ntilde;os mayores).</para>
    <para>
     Vea tambi&eacute;n <function>imageloadfont</function>.</para>

   </refsect1>
  </refentry>

  <refentry id="function.imagecharup">
   <refnamediv>
    <refname>ImageCharUp</refname>
    <refpurpose>Dibuja un car&aacute;cter vertical</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecharup</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>c</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageCharUp dibuja el caracter c verticalmente en la imagen
     identificado como im en las coordenadas x, y (arriba izquierda
     es 0,0) con el color col. Si la fuente es 1, 2, 3, 4 o 5 se
     usa una fuente predefinida.</para>
    <para>    
     Vea tambi&eacute;n <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorallocate">
   <refnamediv>
    <refname>ImageColorAllocate</refname>
    <refpurpose>Reserva un color para una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorallocate</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageColorAllocate devuelve un identificador del color 
     representado por la mezcla de los componentes RGB dados. El
     par&aacute;metro im es el resultado de la funci&oacute;n <function>imagecreate</function>.
     ImageColorAlocate tiene que ser invocada para crear cada color
     que va a ser usado por la imagen que representa im.
     <informalexample><programlisting>
$white = ImageColorAllocate($im, 255,255,255);
$black = ImageColorAllocate($im, 0,0,0);
</programlisting></informalexample></para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorat">
   <refnamediv>
    <refname>ImageColorAt</refname>
    <refpurpose>Obtiende el &iacute;ndice del color de un pixel</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorat</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el &iacute;ndice del color del pixel especificado
     en la posici&oacute;n de la imagen.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorset</function> y
     <function>imagecolorsforindex</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorclosest">
   <refnamediv>
    <refname>ImageColorClosest</refname>
    <refpurpose>Obtiene el &iacute;ndice del color m&aacute;s cercano al color especificado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorclosest</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el &iacute;ndice del color de la paleta de la imagen que
     sea m&aacute;s "cercano" al valor RGB especificado.</para>
    <para>
     La "distancia" entre el color deseado y cada color de la paleta
     es calculada como si los valores RGB representasen puntos
     en un espacio tridimensional.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorexact</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorexact">
   <refnamediv>
    <refname>ImageColorExact</refname>
    <refpurpose>Devuelve el &iacute;ndice del color especificado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorexact</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve el &iacute;ndice del color especificado de la paleta de la 
     imagen.</para>
    <para>
     Si el color no existe en la paleta de la imagen, se devuelve
     el valor -1.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorclosest</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorresolve">
   <refnamediv>
    <refname>ImageColorResolve</refname>
    <refpurpose>Devuelve el &iacute;ndice del color especificado o su posible alternativa m&aacute;s cercana</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorresolve</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci&oacute;n garantiza el resultado de un &iacute;ndice de color para
     un color solicitado, ya sea el color exacto o su alternativa
     m&aacute;s cercana.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorclosest</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorset">
   <refnamediv>
    <refname>ImageColorSet</refname>
    <refpurpose>Establece el color para el &iacute;ndice de la paleta especificado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>bool <function>imagecolorset</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>index</parameter></paramdef>
     <paramdef>int <parameter>red</parameter></paramdef>
     <paramdef>int <parameter>green</parameter></paramdef>
     <paramdef>int <parameter>blue</parameter></paramdef>
    </funcsynopsis>
    <para>
     Establece el &iacute;ndice especificado de la paleta con el color
     introduciod. Esto es &uacute;til para crear efectos de rellenado
     en imagenes con paletas sin la sobrecarga de tener que
     realizar el rellenado.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorat</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorsforindex">
   <refnamediv>
    <refname>ImageColorsForIndex</refname>
    <refpurpose>Obtiene los colores de un &iacute;ndice</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>imagecolorsforindex</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>index</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve una matriz asociativa con las claves red, green y blue
     que contienen los valores apropiados para el color especificado
     en el &iacute;ndice.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorat</function> y
     <function>imagecolorexact</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolorstotal">
   <refnamediv>
    <refname>ImageColorsTotal</refname>
    <refpurpose>Encuentra el n&uacute;mero de colores de la paleta de una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolorstotal</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>
     Encuentra el n&uacute;mero de colores de la paleta de una imagen.</para>
    <para>
     Vea tambi&eacute;n <function>imagecolorat</function> y
     <function>imagecolorsforindex</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecolortransparent">
   <refnamediv>
    <refname>ImageColorTransparent</refname>
    <refpurpose>Define un color como transparente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecolortransparent</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter><optional>col</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageColorTransparent establece como color transparente a col en
     la imagen im. im es el identificador de imagen devuelto por 
     <function>imagecreate</function> y col es el identificador
     de color devuelto por <function>imagecolorallocate</function>.</para>
    <para>
     Se devuelve el identificador del color transparente (o el actual,
     si no se especifica ninguno).</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecopyresized">
   <refnamediv>
    <refname>ImageCopyResized</refname>
    <refpurpose>Copia y redimensiona parte de una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecopyresized</function></funcdef>
     <paramdef>int <parameter>dst_im</parameter></paramdef>
     <paramdef>int <parameter>src_im</parameter></paramdef>
     <paramdef>int <parameter>dstX</parameter></paramdef>
     <paramdef>int <parameter>dstY</parameter></paramdef>
     <paramdef>int <parameter>srcX</parameter></paramdef>
     <paramdef>int <parameter>srcY</parameter></paramdef>
     <paramdef>int <parameter>dstW</parameter></paramdef>
     <paramdef>int <parameter>dstH</parameter></paramdef>
     <paramdef>int <parameter>srcW</parameter></paramdef>
     <paramdef>int <parameter>srcH</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageCopyResize copia una porci&oacute;n rectangular de una imagen 
     hacia otra imagen. <parameter>dst_im</parameter> es la 
     imagen de destino, <parameter>src_im</parameter> es el
     identificador de la imagen origen. Si la altura y anchura de
     las coordenadas de origen y destino difieren se realizar&aacute;
     un estrechamiento o un estiramiento apropiado del fragmento de 
     la imagen. Las coordenadas van localizadas sobre la esquina
     superior izquierda. Esta funci&oacute;n se puede usar para copiar
     regiones dentro de la misma imagen (si <parameter>dst_im</parameter> 
     es igual que <parameter>src_im</parameter>) pero si las regiones
     se solapan los resultados seran impredecibles.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecreate">
   <refnamediv>
    <refname>ImageCreate</refname>
    <refpurpose>Crea una nueva imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecreate</function></funcdef>
     <paramdef>int <parameter>x_size</parameter></paramdef>
     <paramdef>int <parameter>y_size</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageCreate devuelve un identificador de imagen representando
     una imagen en blanco de tama&ntilde;o x_size por y_size.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagecreatefromgif">
   <refnamediv>
    <refname>ImageCreateFromGif</refname>
    <refpurpose>Crea una nueva imagen desde un fichero o una URL</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagecreatefromgif</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>imagecreatefromgif</function> devuelve un identificador
     de imagen representando la imagen obtenida del nombre del fichero
     dado.</para>
    <para> 
     <function>imagecreatefromgif</function> devuelve una cadena
     vacia si hay algun fallo. Adem&aacute;s muestra un mensaje de error,
     que desafortunadamente se representa como un link roto en un
     navegador. Para depurarlo f&aacute;cilmente el siguiente ejemplo
     producir&aacute; un error de GIF:
    <example>
     <title>Ejemplo de control de un error durante la creaci&oacute;n (cortes&iacute;a vic@zymsys.com )</title>
     <programlisting role="php">
function LoadGif($imgname)
{
  $im = @imagecreatefromgif($imgname); /* Attempt to open */
  if ($im == "") { /* See if it failed */
    $im = ImageCreate(150,30); /* Create a blank image */
    $bgc = ImageColorAllocate($im,255,255,255);
    $tc  = ImageColorAllocate($im,0,0,0);
    ImageFilledRectangle($im,0,0,150,30,$bgc);
    ImageString($im,1,5,5,"Error loading $imgname",$tc); /* Output an errmsg */
  }
  return $im;
}
</programlisting></example>
    <note>
     <para>
      Desde que todo el soporte a GIFs ha sido eliminado en la libreria GD
      a partir de la versi&oacute;n 1.6, esta funci&oacute;n no est&aacute; disponible si est&aacute;
      usando esa versi&oacute;n de la libreria GD.</para>
    </note></para>
   </refsect1>
  </refentry>

  <refentry id="function.imagedashedline">
   <refnamediv>
    <refname>ImageDashedLine</refname>
    <refpurpose>Dibuja una l&iacute;nea discontinua</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagedashedline</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageLine dibuja una l&iacute;nea discontinua desde x1,y1 hasta x2, y2
     (arriba izquierda es 0.0) en la imagen im con el color col.</para>
    <para>    
     Vea tambi&eacute;n <function>imageline</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagedestroy">
   <refnamediv>
    <refname>ImageDestroy</refname>
    <refpurpose>Destruye una imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagedestroy</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageDestroy libera la memoria asociada a la imagen im.
     im es la imagen devuelta por la funci&oacute;n
     <function>imagecreate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefill">
   <refnamediv>
    <refname>ImageFill</refname>
    <refpurpose>Relleno</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagefill</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageFill realiza un relleno empezando en la coordenada x,y
     (arriba izquierda es 0,0) con el color col en la imagen im.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefilledpolygon">
   <refnamediv>
    <refname>ImageFilledPolygon</refname>
    <refpurpose>Dibuja un pol&iacute;gono relleno</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagefilledpolygon</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>array <parameter>points</parameter></paramdef>
     <paramdef>int <parameter>num_points</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageFilledPolygon crea un pol&iacute;gono relleno en la imagen im,
     points es una matriz PHP conteniendo los v&eacute;rtices del
     poligono, por ejemplo. points[0] = x0, points[1] = y0, 
     points[2] = x1, points[3] = y1, etc.
     num_points es el n&uacute;mero total de v&eacute;rtices.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefilledrectangle">
   <refnamediv>
    <refname>ImageFilledRectangle</refname>
    <refpurpose>dibuja un rect&aacute;ngulo relleno</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagefilledrectangle</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageFilledRectangle crea un rect&aacute;ngulo relleno con color col en
     la imagen im comenzando con las coordenadas superiores izquierdas
     x1, y1 y finalizando en las coordenadas inferiores derechas x2, y2.
     0,0 es la esquina superior izquierda de la imagen.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefilltoborder">
   <refnamediv>
    <refname>ImageFillToBorder</refname>
    <refpurpose>Relleno de un color especifico</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagefilltoborder</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>border</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageFillToBorder realiza un relleno hasta el color del borde
     que est&aacute; definido por border. El punto de inicio para el relleno
     es x,y (arriba izquierda es 0,0) y la regi&oacute;n se rellena con
     el color col.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefontheight">
   <refnamediv>
    <refname>ImageFontHeight</refname>
    <refpurpose>Devuelve la altura de una fuente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagefontheight</function></funcdef>
     <paramdef>int <parameter>font</parameter></paramdef>
    </funcsynopsis>
    <para>
     Devuelve la altura en pixels de un car&aacute;cter en un fuente espec&iacute;fica.</para>
    <para>
     Vea tambi&eacute;n <function>imagefontwidth</function> y
     <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagefontwidth">
   <refnamediv>
    <refname>ImageFontWidth</refname>
    <refpurpose>Devuelve la anchura de una fuente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagefontwidth</function></funcdef>
     <paramdef>int <parameter>font</parameter></paramdef>
    </funcsynopsis>
    <para>    
     Devuelve la anchura en pixels de un car&aacute;cter en un fuente espec&iacute;fica.</para>
    <para> 
     Vea tambi&eacute;n <function>imagefontheight</function> y
     <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagegif">
   <refnamediv>
    <refname>ImageGif</refname>
    <refpurpose>Env&iacute;a una imagen al navegador o a un fichero</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagegif</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>imagegif</function> crea el fichero GIF en filename
     a partir de la imagen <parameter>im</parameter>. El par&aacute;metro
     <parameter>im</parameter> es el resultado de usar la funci&oacute;n
     <function>imagecreate</function>.</para>
    <para>
     El formato de la imagen ser&aacute; GIF87a a menos que la imagen se halla
     hecho transparente con <function>imagecolortransparent</function>, 
     en cuyo caso el formato de la imagen ser&aacute; GIF89a.</para>
    <para>
     El parametro del nombre del fuichero es opcional, y si se deja en
     blanco, la imagen ser&aacute; mostrada directamente. Enviando un tipo de
     imagen/gif usando la funci&oacute;n <function>header</function>, puede 
     crear un script PHP que muestre imagenes GIF directamente.
    <note>
     <para>
      Desde que todo el soporte a GIFs ha sido eliminado en la libreria GD
      a partir de la versi&oacute;n 1.6, esta funci&oacute;n no est&aacute; disponible si est&aacute;
      usando esa versi&oacute;n de la libreria GD.</para>
    </note></para>

   </refsect1>
  </refentry>

  <refentry id="function.imageinterlace">
   <refnamediv>
    <refname>ImageInterlace</refname>
    <refpurpose>Activa o desactiva el entrelazado</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imageinterlace</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter><optional>interlace</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>ImageInterlace</function> activa o desactiva el bit de
     entrelazado. Si interlace es 1 la imagen im ser&aacute; entrelazada,
     y si interlace es 0 el bit de entrelazado se desactiva.</para>
    <para>
     Esta funci&oacute;n devuelve como ha cambiado el estado del bit de 
     entralazado de la imagen.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imageline">
   <refnamediv>
    <refname>ImageLine</refname>
    <refpurpose>Dibuja una l&iacute;nea</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imageline</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageLine dibuja una l&iacute;nea desde x1,y1 hasta x2,y2 (arriba izquierda
     es 0,0) en la imagen im con el color col.</para> 
    <para> 
     Vea tambi&eacute;n <function>imagecreate</function> y
     <function>imagecolorallocate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imageloadfont">
   <refnamediv>
    <refname>ImageLoadFont</refname>
    <refpurpose>Carga una fuente nueva</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imageloadfont</function></funcdef>
     <paramdef>string <parameter>file</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageLoadFont carga una fuente de bitmaps definida por el usuario
     y devuelve un identificador para esa fuente (que siempre es mayor
     de 5, de forma que no pueda entrar en conflicto con las fuentes
     predefinidas)..</para>
    <para>
     El formato del fichero de la fuente es actualmente binario y
     dependiente de la arquitectura. Esto significa que tiene que
     generar los ficheros de las fuentes en el mismo tipo de CPU
     que la que tiene la m&aacute;quina que est&aacute; ejecutando PHP.</para>
    <para>
     <table>
      <title>Formato del fichero de fuentes</title>
      <tgroup cols="3">
       <thead>
    <row>
     <entry>Posici&oacute;n en bytes</entry>
     <entry>tipo de datos C</entry>
     <entry>Descripci&oacute;n</entry>
    </row>
       </thead>
       <tbody>
    <row>
     <entry>byte 0-3</entry>
     <entry>int</entry>
     <entry>n&uacute;mero de car&aacute;cteres en la fuente</entry>
    </row>
    <row>
     <entry>byte 4-7</entry>
     <entry>int</entry>
     <entry>
       valor del primer car&aacute;cter de la fuente (normalmente 32 para el espacio)
      </entry>
    </row>
    <row>
     <entry>byte 8-11</entry>
     <entry>int</entry>
     <entry>Anchura en pixels de cada car&aacute;cter</entry>
    </row>
    <row>
     <entry>byte 12-15</entry>
     <entry>int</entry>
     <entry>Altura en pixels de cada car&aacute;cter</entry>
    </row>
    <row>
     <entry>byte 16-</entry>
     <entry>char</entry>
     <entry>
       matriz con los datos del car&aacute;cter, un byte por pixel
       en cada car&aacute;cter, haciendo un total de (n&uacute;mero car&aacute;cteres*
       altura*anchura) bytes.     
      </entry>
    </row>

       </tbody>
      </tgroup>
     </table></para>

    <para>
     Vea tambi&eacute;n <function>ImageFontWidth</function> y
     <function>ImageFontHeight</function>.</para>

   </refsect1>
  </refentry>

  <refentry id="function.imagepolygon">
   <refnamediv>
    <refname>ImagePolygon</refname>
    <refpurpose>Dibuja un pol&iacute;gono</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagepolygon</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>array <parameter>points</parameter></paramdef>
     <paramdef>int <parameter>num_points</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImagePolygon crea un pol&iacute;gono en la imagen id. points es un
     array PHP conteniendo los v&eacute;rtices del pol&iacute;gono. de la siguiente
     forma points[0] = x0, points1 = y0, points[2] = x1, points[3] =
     y1, etc. num_points es el n&uacute;mero total de v&eacute;rtices.</para>
    <para>    
     Vea tambi&eacute;n <function>imagecreate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepsbbox">
   <refnamediv>
    <refname>ImagePSBBox</refname>
    <refpurpose>Devuelve el borde que rodea un rect&aacute;ngulo de texto usando fuentes PostScript Type1</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>imagepsbbox</function></funcdef>
     <paramdef>string <parameter>text</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>space</parameter></paramdef>
     <paramdef>int <parameter>width</parameter></paramdef>
     <paramdef>float <parameter>angle</parameter></paramdef>
    </funcsynopsis>
    <para>
     <parameter>size</parameter> representa pixels.</para>
    <para>
     <parameter>space</parameter> perimte cambiar el valor por defecto
     de un espacio en una fuentes. Este valor es a&ntilde;adido al valor normal
     y puede ser negativo.</para>
    <para>
     <parameter>tightness</parameter> permite controlar la cantidad
     de espacio en blanco entre car&aacute;cteres. Este valor se a&ntilde;ade a la
     anchura normal del car&aacute;cter y puede ser negativo.</para>
    <para>
     <parameter>angle</parameter> viene dado en grados.</para>
    <para>
     Los par&aacute;metros <parameter>space</parameter> y
     <parameter>tightness</parameter> vienen expresados en unidades
     de espacio de car&aacute;cteres, donde una unidad es 1/1000 el 
     borde de una M.</para>
    <para>
     Los par&aacute;metros <parameter>space</parameter>,
     <parameter>tightness</parameter> y <parameter>angle</parameter>
     son opcionales.</para>
    <para>
     El borde es calculado usando la informaci&oacute;n disponible de las
     m&eacute;tricas del car&aacute;cter, y desafortunadamente tiende a diferir
     ligeramente de los resultados obtenidos de digitalizar el texto.
     Si el &aacute;ngulo es de 0 grados, puede esperar que el texto necesite
     un pixel m&aacute;s en cada direcci&oacute;n.</para>
    <para>
     Esta funci&oacute;n devuelve un array conteniuendo los siguientes elementos:
     <informaltable>
      <tgroup cols="2">
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>coordenada x inferior izquierda</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>coordenada y inferior izquierda</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>coordenada x superior derecha</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>coordenada y superior derecha</entry>
	</row>
       </tbody>
      </tgroup>
     </informaltable></para>
    <para>
     Vea tambi&eacute;n <function>imagepstext</function>.</para>
   </refsect1>
  </refentry>

<!-- La funci&oacute;n en t1lib que usa esta funci&oacute;n parece ser erronea...
De momento, se comenta todo lo que hay en la documentaci&oacute;n y en las
fuentes hasta que el tiempo permita encontrar una soluci&oacute;n.

  <refentry id="function.imagepscopyfont">
   <refnamediv>
    <refname>ImagePSCopyFont</refname>
    <refpurpose>hace una copia de una fuente ya cargada para futuras modificaciones</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagepscopyfont</function></funcdef>
     <paramdef>int <parameter>fontindex</parameter></paramdef>
    </funcsynopsis>
    <para>
     Use esta funci&oacute;n si necesita hacer modificaciones en la fuente,
     por ejemplo expander/condensar, inclinarla o cambiar su vector 
     de codificaci&oacute;n de caracteres, pero tambi&eacute;n necesita mantener la
     fuente original. Note que la fuente que quiera copiar debe haber
     sido obtenida usando <function>imagepsloadfont</function>, no una
     fuente que sea una copia de otra. Aunque puede hacer modificaciones
     antes de copiarla.</para>
    <para>
     Si usa esta funci&oacute;n, <emphasis>debe</emphasis> liberar las
     fuentes obtenidas de esta manera. De otra forma su script
     se <emphasis>colgar&aacute;</emphasis>.</para>
    <para>
     En el caso de que todo vaya bien, devolver&aacute; un &iacute;ndice de fuente
     v&aacute;lido que puede ser usado para futuos prop&oacute;sitos. De otra forma
     la funci&oacute;n devolver&aacute; &false; e imprimir&aacute; un mensaje indicando que
     es lo que ha ido mal.</para>
    <para>
     Vea tambi&eacute;n <function>imageploadpsfont</function>.</para>
   </refsect1>
  </refentry>
-->

  <refentry id="function.imagepsencodefont">
   <refnamediv>
    <refname>ImagePSEncodeFont</refname>
    <refpurpose>Cambia el vector de codificaci&oacute;n de caracteres de una fuente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagepsencodefont</function></funcdef>
     <paramdef>string <parameter>encodingfile</parameter></paramdef>
    </funcsynopsis>
    <para>
     Carga un vector de codificaci&oacute;n de caracteres desde un archivo
     y cambia el vector de codificaci&oacute;n de las fuentes a &eacute;l.   
     Loads a character encoding vector from from a file and changes
     the fonts encoding vector to it. En las fuentes PostScript normalmente
     faltan muchos caracteres por encima de 127, seguramente quiera
     cambiar esto si emplea u idioma distinto del ingl&eacute;s.El formato 
     exacto de este archivo est&aacute; descrito en la documentaci&oacute;n de T1libs. 
     T1lib viene con dos archivos listos para usar, IsoLatin1.enc 
     y IsoLatin2.enc.</para>
    <para>
     Si se encuentra usando esta funci&oacute;n todo el tiempo, una forma
     mucho mejor de definir la codificaci&oacute;n es establecer ps.default_encoding 
     en el <link linkend="configuration.file">archivo de configuraci&oacute;n</link>
     para que apunte al archivo de codificaci&oacute;n correcto y todas las
     fuentes que cargue tendr&aacute;n de forma autom&aacute;tica la codificaci&oacute;n
     correcta.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepsfreefont">
   <refnamediv>
    <refname>ImagePSFreeFont</refname>
    <refpurpose>Libera la memoria usada por un fuente PostScript Type 1</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>void <function>imagepsfreefont</function></funcdef>
     <paramdef>int <parameter>fontindex</parameter></paramdef>
    </funcsynopsis>
    <para>
     Vea tambi&eacute;n <function>imagepsloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepsloadfont">
   <refnamediv>
    <refname>ImagePSLoadFont</refname>
    <refpurpose>Carga una fuente PostScript Type 1 desde un fichero</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagepsloadfont</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
     En el caso de que todo vaya bien, tiene que devolver un &iacute;ndice
     de fuente correcto que puede ser usado para futuras operaciones.
     En caso contrario la funci&oacute;n devuelve &false; e imprime un
     mensaje describiendo donde ha fallado</para>
    <para>
     Vea tambi&eacute;n <function>imagepsfreefont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagepstext">
   <refnamediv>
    <refname>ImagePSText</refname>
    <refpurpose>Para dibujar una cadena de texto sobre una imagen usando fuentes PostScript Type1</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>imagepstext</function></funcdef>
     <paramdef>int <parameter>image</parameter></paramdef>
     <paramdef>string <parameter>text</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>foreground</parameter></paramdef>
     <paramdef>int <parameter>background</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>
       <optional>space</optional></parameter></paramdef>
     <paramdef>int <parameter>
       <optional>tightness</optional></parameter></paramdef>
     <paramdef>float <parameter>
       <optional>angle</optional></parameter></paramdef>
     <paramdef>int <parameter>
       <optional>antialias_steps</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     <parameter>size</parameter> viene expresado en pixels.</para>
    <para>
     <parameter>foreground</parameter> es el color en el cual el texto
     ser&aacute; pintado. <parameter>background</parameter> es el color
     en el que el texto tratar&aacute; de resaltar con antialiaing. Los
     pixels con el color <parameter>background</parameter> no 
     se pintan, de forma que la imagen de fondo no necesita ser de un 
     color s&oacute;lido.</para>
    <para>
     Las coordenadas dadas por <parameter>x</parameter>,
     <parameter>y</parameter> definir&aacute;n el origen (o punto de
     referencia) del primer car&aacute;cter (la esquina superior izquierda
     del car&aacute;cter).  Esto es diferente de la funci&oacute;n
     <function>ImageString</function>, donde x, y definen la
     esquina superiro derecha del primer car&aacute;cter. Consulte la
     documentaci&oacute;n de PostScript sobre fuentes y su sistema de medidas
     si tiene alg&uacute;n problema entendiendo como funcion.</para>
    <para>
     <parameter>space</parameter> permite cambiar el valor por defecto
     de un espacio en la fuente. Esta cantidad es sumada al valor normal
     y puede ser negativa.</para>
    <para>
     <parameter>tightness</parameter> permite controlar la cantidad de 
     espacio en blanco entre caracteres. Esta cantidad es sumada al valor 
     normal y puede ser negativa.</para>
    <para>
     <parameter>angle</parameter> viene en grados.</para>
    <para>
     <parameter>antialias_steps</parameter> permite controlar el
     n&uacute;mero de colores usados para el antialising del texto. Los 
     valores permitidos son 4 y 16. El valor superior est&aacute; recomendado
     para textos con tama&ntilde;os inferiores a 20, donde el efecto en la
     calidad del texto es bastante visible. Con tama&ntilde;os superiores
     use 4. Hace un menor uso de c&aacute;lculo.</para>
    <para>
     Parameters <parameter>space</parameter> y
     <parameter>tightness</parameter> est&aacute;n expresados en unidades
     de espacio de caracteres, donde 1 unidad es 1/1000 de una M 
     may&uacute;scula.</para>
    <para>
     Los par&aacute;metros <parameter>space</parameter>,
     <parameter>tightness</parameter>, <parameter>angle</parameter>
     y <parameter>antialias</parameter> son opcionales.</para>
    <para>
     Esta funci&oacute;n devuelve una matriz conteniendo los siguientes elementos:
     <informaltable>
      <tgroup cols="2">
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>coordenada x inferior izquierda</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>coordenada y inferior izquierda</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>coordenada x superior derecha</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>coordenada y superior derecha</entry>
	</row>
       </tbody>
      </tgroup>
     </informaltable></para>
    <para>
     Vea tambi&eacute;n <function>imagepsbbox</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagerectangle">
   <refnamediv>
    <refname>ImageRectangle</refname>
    <refpurpose>Dibuja un rect&aacute;ngulo</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagerectangle</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x1</parameter></paramdef>
     <paramdef>int <parameter>y1</parameter></paramdef>
     <paramdef>int <parameter>x2</parameter></paramdef>
     <paramdef>int <parameter>y2</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageRectangle crea un rect&aacute;ngulo de color col en la imagen
     im comenzando en la coordenada superior izquierda x1,y1 y
     finalizando en la coordenada inferior derecha x2,y2. 0,0 es
     la esquina superior izquierda de la imagen.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagesetpixel">
   <refnamediv>
    <refname>ImageSetPixel</refname>
    <refpurpose>Dibuja un pixel</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagesetpixel</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para> 
     ImageSetPixel dibuja un pixel x,y (arriba izquierda 0,0) 
     en la imagen im con color col.</para> <para> Vea tambi&eacute;n
     <function>imagecreate</function> y
     <function>imagecolorallocate</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagestring">
   <refnamediv>
    <refname>ImageString</refname>
    <refpurpose>Dibuja una cadena de texto horizintalmente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagestring</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>s</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageString dibuja la cadena s en la imagen identificada por im
     en las coordenadas x,y (arriba izquierda es 0,0) en el color col.
     Si la fuente es 1, 2, 3, 4 o 5, se emplea una fuente interna.</para>
     <para> Vea tambi&eacute;n
     <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagestringup">
   <refnamediv>
    <refname>ImageStringUp</refname>
    <refpurpose>Dibuja una cadena de texto verticalmente</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagestringup</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>font</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>string <parameter>s</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageStringUp dibuja la cadena s verticalmente en la imagen
     identificada por im en las coordenadas x,y (arriba izquierda es
     0,0) en el color col. Si la fuente es 1, 2, 3, 4 o 5, se usa una
     fuente interna.</para>
    <para> Vea tambi&eacute;n <function>imageloadfont</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagesx">
   <refnamediv>
    <refname>ImageSX</refname>
    <refpurpose>Obtiene la anchura de la imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagesx</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>    
     ImageSX devuelva la anchura de la imagen identificado por im.</para>
    <para> Vea tambi&eacute;n <function>imagecreate</function> y
     <function>imagesy</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagesy">
   <refnamediv>
    <refname>ImageSY</refname>
    <refpurpose>Obtiene la altura de la imagen</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>int <function>imagesy</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageSY devuelve la altura de la imagen identificada por im.</para>
    <para>Vea tambi&eacute;n <function>imagecreate</function> y
    <function>imagesx</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagettfbbox">
   <refnamediv>
    <refname>ImageTTFBBox</refname>
    <refpurpose>Devuelve un caja que rodea al texto usando fuentes TypeType</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>ImageTTFBBox</function></funcdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>angle</parameter></paramdef>
     <paramdef>string <parameter>fontfile</parameter></paramdef>
     <paramdef>string <parameter>text</parameter></paramdef>
    </funcsynopsis>
    <para>
     Esta funci&oacute;n calcula y devuelve un rect&aacute;ngulo en pixels que encierra
     un texto con TrueType.
     <variablelist>
      <varlistentry>
       <term><parameter>text</parameter></term>
       <listitem><simpara>La cadena que ha de ser medida.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term><parameter>size</parameter></term>
       <listitem><simpara>El tama&ntilde;o de la fuente.</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term><parameter>fontfile</parameter></term>
       <listitem><simpara>El nombre del archivo de fuente TrueType.  (Puede
	 ser tambi&eacute;n una URL.)</simpara></listitem>
      </varlistentry>
      <varlistentry>
       <term><parameter>angle</parameter></term>
       <listitem><simpara>&Aacute;ngulo en grados en el
	 <parameter>text</parameter> que va a ser medido.</simpara></listitem>
      </varlistentry>
     </variablelist>

     <function>ImageTTFBBox</function> devuelve una matriz con 8
     elementos representando cuatro puntos que hacen una caja
     rodeando al texto:

     <informaltable>
      <tgroup cols="2">
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>esquina inferior izquierda, posici&oacute;n X</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>esquina inferior izquierda, posici&oacute;n Y</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>esquina inferior derecha, posici&oacute;n X</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>esquina inferior derecha, posici&oacute;n Y</entry>
	</row>
	<row>
	 <entry>4</entry>
	 <entry>esquina superior derecha, posici&oacute;n X</entry>
	</row>
	<row>
	 <entry>5</entry>
	 <entry>esquina superior derecha, posici&oacute;n Y</entry>
	</row>
	<row>
	 <entry>6</entry>
	 <entry>esquina superior izquierda, posici&oacute;n X</entry>
	</row>
	<row>
	 <entry>7</entry>
	 <entry>esquina superior izquierda, posici&oacute;n Y</entry>
	</row>
       </tbody>
      </tgroup>
     </informaltable>
     Los puntos son relativos a <emphasis>text</emphasis>
     a pesar del &aacute;ngulo, de forma que "superior izquierda"
     significa la esquina superior izquierda viendo el texto
     horizontalmente.</para>
    <para>
     Esta funci&oacute;n requiere tanto la libreria GD como la libreria 
     Freetype.</para>
    <para>
     Vea tambi&eacute;n <function>ImageTTFText</function>.</para>
   </refsect1>
  </refentry>

  <refentry id="function.imagettftext">
   <refnamediv>
    <refname>ImageTTFText</refname>
    <refpurpose>Escribe texto en la imagen usando fuentes TrueType</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
    <funcsynopsis>
     <funcdef>array <function>ImageTTFText</function></funcdef>
     <paramdef>int <parameter>im</parameter></paramdef>
     <paramdef>int <parameter>size</parameter></paramdef>
     <paramdef>int <parameter>angle</parameter></paramdef>
     <paramdef>int <parameter>x</parameter></paramdef>
     <paramdef>int <parameter>y</parameter></paramdef>
     <paramdef>int <parameter>col</parameter></paramdef>
     <paramdef>string <parameter>fontfile</parameter></paramdef>
     <paramdef>string <parameter>text</parameter></paramdef>
    </funcsynopsis>
    <para>
     ImageTTFText escribe la cadena<parameter>text</parameter> en la
     imagen identificada por <parameter>im</parameter>, comenzando en
     las coordenadas <parameter>x,y</parameter> (arriba izquierda es 0,0), 
     con un &aacute;ngulo de <parameter>angle</parameter> en el color
     <parameter>col</parameter>, usando el ficheor de fuente TrueType 
     identificado por <parameter>fontfile</parameter>.</para>
    <para>
     Las coordenadas dadas por
     <parameter>x</parameter>,<parameter>y</parameter> definir&aacute;n el punto
     base del primer car&aacute;cter. (la esquina inferior izquierda del car&aacute;cter).
     Esto es diferente de la funci&oacute;n <function>ImageString</function>, 
     donde x,y definen la esquina superior derecha del primer car&aacute;cter.</para>
    <para>
     El <parameter>angle</parameter> viene dado en grados, donde 0 grados
     representa el texto de izquierda a derecha (direcci&oacute;n las 3 en punto), 
     y valores superiores representan una rotaci&oacute;n en el sentido de las
     agujas de un reloj. (ej. un valor de 90 representar&iacute;a un texto que fuese
     de abajo hacia arriba).</para>
    <para>
     <parameter>fontfile</parameter> es la ruta hacia la fuente TrueType 
     que desee usar.</para>
    <para>
     <parameter>text</parameter> es la cadena de texto que puede incluir
     secuencias de caracteres UTF-8 (de la forma: &amp;123; ) para acceder
     a caracteres de la fuente m&aacute;s all&aacute; de los primeros 255.</para>
    <para>
     <parameter>col</parameter> es el &iacute;ndice de color.  El uso de
     un &iacute;ndice de color negativo tiene el efecto de desactivar
     el antialiasing.</para>
    <para>
     <function>ImageTTFText</function> devuelve una matriz con 8
     elementos representando cuatro puntos que hace una caja que cubre
     el texto.El orden de los puntos en arriba izquierda, arriba derecha,
     abajo derecha, abajo izquierda. Los puntos son relativos al texto
     a pesar del &aacute;ngulo, por lo que "arriba izquierda" significa en 
     la esquina superior izquierda cuando ve el texto horizontalmente.</para>
    <para>
     Este script de ejemplo producir&aacute; un GIF negro de 400x30 pixels, con
     las palabras "Testing..." en blanco con la fuente Arial.
     <example>
      <title>ImageTTFText</title>
      <programlisting>
&lt;?php
Header("Content-type: image/gif");
$im = imagecreate(400,30);
$black = ImageColorAllocate($im, 0,0,0);
$white = ImageColorAllocate($im, 255,255,255);
ImageTTFText($im, 20, 0, 10, 20, $white, "/path/arial.ttf", "Testing... Omega: &amp;#937;");
ImageGif($im);
ImageDestroy($im);
?&gt;
</programlisting></example></para>

    <para>
     Esta funci&oacute;n requiere la libreria GD y la libreria
      <ulink url="&url.freetype;">FreeType</ulink>.</para>
    <para>
     Vea tambi&eacute;n <function>ImageTTFBBox</function>.</para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
