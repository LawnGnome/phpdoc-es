 <reference id="ref.snmp">
  <title>Funciones SNMP </title>
  <titleabbrev>SNMP</titleabbrev>

  <partintro>
   <simpara>
    Para usar las funciones SNMP en Unix necesita instalar el paquete
   <ulink url="&url.ucd-snmp;">UCD SNMP</ulink>. En Windows estas funciones
    están solamente disponibles en NT y no en Win95/98.</simpara>  

   <simpara>
    Importante: Para usar el paquete UCD SNMP, necesita definir
    NO_ZEROLENGTH_COMMUNITY a 1 antes de compilarlo. Despues de configurar UCD
    SNMP, edite config.h y busque NO_ZEROLENGTH_COMMUNITY. Descomente la línea
    #define. Debería de verse como sigue:
   </simpara>

   <para>
    <programlisting>
#define NO_ZEROLENGTH_COMMUNITY 1
    </programlisting>
   </para>

   <simpara>
    Si ve faltas de segmentación desconocidas en combinación con los
    comandos SNMP, no siga las siguientes instrucciones. Si no desea recompilar
    UCD SNMP, puede compilar PHP con la opción --enable-ucd-snmp-hack la cual
    trabajará entorno a las mismas características.
   </simpara>     
  </partintro>

  <refentry id="function.snmpget">
   <refnamediv>
    <refname>snmpget</refname>
    <refpurpose>Va a buscar un objeto SNMP </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>string <function>snmpget</function></funcdef>
     <paramdef>string <parameter>hostname</parameter></paramdef>
     <paramdef>string <parameter>community</parameter></paramdef>
     <paramdef>string <parameter>object_id</parameter></paramdef>
     <paramdef>int <parameter><optional>timeout</optional></parameter></paramdef>
     <paramdef>int <parameter><optional>retries</optional></parameter></paramdef>
    </funcsynopsis>

    <para>
     Devuelve el valor de un objeto SNMP en caso de exito y false en caso de error.
    </para>  

    <para>
     La función <function>snmpget</function> es usada para leer el valor de un
     objeto SNMP especificado por el <parameter>object_id</parameter>. El
     agente SNMP es especificado por el <parameter>hostname</parameter> y la
     comunidad lectora es especificada por el parametro
     <parameter>community</parameter>.
    </para>

    <para>
     <informalexample>
      <literallayout>
$syscontact = snmpget("127.0.0.1", "public", "system.SysContact.0")
      </literallayout>
     </informalexample></para>

   </refsect1>
  </refentry>

  <refentry id="function.snmpset">
   <refnamediv>
    <refname>snmpset</refname>
    <refpurpose>Va a buscar un objeto SNMP </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>string <function>snmpget</function></funcdef>
     <paramdef>string <parameter>hostname</parameter></paramdef>
     <paramdef>string <parameter>community</parameter></paramdef>
     <paramdef>string <parameter>object_id</parameter></paramdef>
     <paramdef>string <parameter>type</parameter></paramdef>
     <paramdef>mixed <parameter>value</parameter></paramdef>
     <paramdef>int <parameter><optional>timeout</optional></parameter></paramdef>
     <paramdef>int <parameter><optional>retries</optional></parameter></paramdef>
    </funcsynopsis>

    <para>
     Establece el valor especificado para el objeto SNMP, devolviendo
     true en caso de exito o false en caso de error.
    </para>

    <para>
     La función <function>snmpset</function> es usada para establecer el valor
     de un objeto SNMP especificado por el <parameter>object_id</parameter>.
     El agente SNMP es espcificado por el <parameter>hostname</parameter> y la
     comunidad lectora por el parametro <parameter>community</parameter>.
    </para>

   </refsect1>
  </refentry>

  <refentry id="function.snmpwalk">
   <refnamediv>
    <refname>snmpwalk</refname>
    <refpurpose>Busqueda por un arbol de información acerca de un entidad de red
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>snmpwalk</function></funcdef>
     <paramdef>string <parameter>hostname</parameter></paramdef>
     <paramdef>string <parameter>community</parameter></paramdef>
     <paramdef>string <parameter>object_id</parameter></paramdef>
     <paramdef>int <parameter><optional>timeout</optional></parameter>
     </paramdef>
     <paramdef>int <parameter><optional>retries</optional></parameter>
     </paramdef>
    </funcsynopsis>

    <para>
     Devuelve una matriz de valores de objetos SMNP comenzando por el
     <function>object_id</function> como raíz y false en caso de error.
    </para>

    <para> 
     La función <function>snmpwalk</function> es usada para leer todos los
     valores de un agente SNMP especificado por el
     <parameter>hostname</parameter>. <parameter>Community</parameter>
     especifica la comunidad lectora para el agente. Un
     <parameter>object_id</parameter> nulo se toma como la raíz del arbol de
     los objetos SNMP y todos los objetos por debajo de ese arbol son
     devueltos como una matriz. Si <parameter>object_id</parameter> es
     especificado, todos los objetos SNMP por debajo de
     <parameter>object_id</parameter> son devueltos.

     <informalexample>
      <programlisting role="php"> 
$a = snmpwalk("127.0.0.1", "public", ""); 
      </programlisting>
     </informalexample></para> 

    <para>
     Encima de una función de llamada podrían devolverse todos los objetos SNMP del
     agente SNMP en ejecución en el servidor local. Uno puede pasar por todos los valores 
     con un bucle. 

     
     <informalexample>
      <programlisting role="php">
for ($i=0; $i&lt;count($a); $i++) {
    echo $a[$i];
}
      </programlisting>
     </informalexample></para>
	
   </refsect1>
  </refentry>


  <refentry id="function.snmpwalkoid">
   <refnamediv>
    <refname>snmpwalkoid</refname>
    <refpurpose>Busqueda por un arbol de información acerca de un entidad de red
    </refpurpose>    
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>array <function>snmpwalkoid</function></funcdef>
     <paramdef>string <parameter>hostname</parameter></paramdef>
     <paramdef>string <parameter>community</parameter></paramdef>
     <paramdef>string <parameter>object_id</parameter></paramdef>
     <paramdef>int <parameter><optional>timeout</optional></parameter>
     </paramdef>
     <paramdef>int <parameter><optional>retries</optional></parameter>
     </paramdef>
    </funcsynopsis>

    <para>
     Devuelve una matriz asociativa con los identificadores de los objetos y
     sus respectivos valores comenzando por el
     <parameter>object_id</parameter> como raíz y false en caso de error.
    </para>

    <para>
     La función <function>snmpwalkoid</function> es usada para leer todos los
     identificadores de objetos y sus respectivos valores de un agente SNMP
     especificado por el nombre del servidor. La lectura de
     <parameter>community</parameter> especifica la comunidad para el agente. Un
     <parameter>object_id</parameter> nulo es tomado como la raíz del arbol de
     objetos SNMP y todos los objetos por debajo de este arbol son devueltos
     como una matriz. Si <parameter>object_id</parameter> es especificado,
     todos los objetos SNMP inferiores al <parameter>object_id</parameter> son
     devueltos.</para>

    <para>
     La existencia de <function>snmpwalkoid</function> y
     <function>snmpwalk</function> tiene razones historicas. Ambas funciones
     son proporcionadas para compatibilidad hacia atrás. 


     <informalexample>
      <programlisting role="php"> 
$a = snmpwalkoid("127.0.0.1", "public", ""); 
      </programlisting>
     </informalexample></para> 

    <para>
     La llamada a las funciones superiores devuelve todos los objetos SNMP del
     agente SNMP en ejecución en el servidor local. Uno puede pasar por todos los valores con un bucle.
     
     <informalexample>
      <programlisting role="php">
for (reset($a); $i = key($a); next($a)) {
    echo "$i: $a[$i]&lt;br>\n";
}
      </programlisting>
     </informalexample></para>
	
   </refsect1>
  </refentry>


  <refentry id="function.snmp-get-quick-print">
   <refnamediv>
    <refname>snmp_get_quick_print</refname>
    <refpurpose>Va a buscar el valor actual de la biblioteca UCD estableciendo quick_print
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>boolean <function>snmp_get_quick_print</function></funcdef>
     <paramdef>void <parameter></parameter></paramdef>
    </funcsynopsis>

    <para>
     Delvuele el valor actual almacenado en la biblioteca UCD para quick_print.
     quick_print está desactivado por defecto.

     <informalexample>
      <programlisting role="php"> 
$quickprint = snmp_get_quick_print();
      </programlisting>
     </informalexample></para> 

    <para>               
     La llamada a la función superior podría devolver     
     <systemitem>false</systemitem> si quick_print está activo, y     
     <systemitem>true</systemitem> si quick_print está activo.
    </para>

    <para>
     <function>snmp_get_quick_print</function> está solamente disponible
     cuando estemos usando la biblioteca UCD SNMP. Esta función no está disponible
     cuando estemos usando la biblioteca Windows SNMP.
    </para>

    <para>
     Ver: <function>snmp_get_quick_print</function> para una descripción
     completa de lo que hace quick_print.
    </para>
	
   </refsect1>
  </refentry>

  <refentry id="function.snmp-set-quick-print">
   <refnamediv>
    <refname>snmp_set_quick_print</refname>
    <refpurpose>Establece el valor de quick_print con el de la biblioteca UCD SNMP.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripción</title>
    <funcsynopsis>
     <funcdef>void <function>snmp_set_quick_print</function></funcdef>
     <paramdef>boolean <parameter>quick_print</parameter></paramdef>
    </funcsynopsis>

    <para>
     Establece el valor de quick_print con la biblioteca UCD SNMP. Cuando esto
     está establecido (1), la biblioteca SNMP devolverá valores 'quick printed'.
     De esta manera sólo el valor será impreso. Cuando quick_print no está
     activada (por defecto) la biblioteca UCD SNMP imprime información extra
     incluyendo el tipo del valor (p. Ej. IPAddress o OID). Adicionalmente, si
     quick_print no está activado, la biblioteca imprime valores hexadecimales
     adicionales para todas las cadenas de 3 o menos caracteres.
    </para>

    <para>
     El ajuste de quick_print es generalmente usado cuando usando la
     información devuelta con anterioridad se muestra.

     <informalexample>
      <programlisting role="php"> 
snmp_set_quick_print(0);
$a = snmpget("127.0.0.1", "public", ".1.3.6.1.2.1.2.2.1.9.1");
echo "$a&lt;BR>\n";
snmp_set_quick_print(1);
$a = snmpget("127.0.0.1", "public", ".1.3.6.1.2.1.2.2.1.9.1");
echo "$a&lt;BR>\n";
      </programlisting>
     </informalexample></para> 

    <para>
     El primer valor impreso debe de ser: 'Timeticks: (0) 0:00:00.00',
     donde qick_print se activa, solo se imprimira '0:00:00.00'.
    </para>

    <para>
     Por defecto la biblioteca UCD SNMP devuelve valores detallados, quick_print
     es usado para devolver solamente el valor.
    </para>

    <para>
     Las cadenas son mantenidas normalmente con comillas extra, esto será corregido
     en versiones posteriores.
    </para>

    <para>
     <function>snmp_get_quick_print</function> está sólo disponible cuando
     estemos usando la biblioteca UCD SNMP. Esta función no está disponible cuando
     estemos usando la biblioteca Windows SNMP.
   </para>

   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
