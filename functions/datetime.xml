<?xml version="1.0" encoding="iso-8859-1"?>
 <reference id="ref.datetime">
  <title>Funciones de fecha y hora</title>
  <titleabbrev>Fecha/hora</titleabbrev>

  <refentry id="function.checkdate">
   <refnamediv>
    <refname>checkdate</refname>
    <refpurpose>valida una fecha u hora</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>int</type><methodname>checkdate</methodname>
     <methodparam><type>int</type><parameter>month</parameter></methodparam>
     <methodparam><type>int</type><parameter>day</parameter></methodparam>
     <methodparam><type>int</type><parameter>year</parameter></methodparam>
     </methodsynopsis>
    <para>
	 Devuelve un valor verdadero si la fecha dada es v&aacute;lida; en caso
	 contrario, devuelve un valor falso. Comprueba la validez de la
	 fecha formada por los argumentos. Se considera v&aacute;lida una fecha
	 si:
     <itemizedlist>
      <listitem><simpara>
		el a&ntilde;o est&aacute; entre 0 y 32767, ambos incluidos
       </simpara></listitem>
      <listitem><simpara>
		el mes est&aacute; entre 1 y 12, ambos incluidos
       </simpara></listitem>
      <listitem><simpara>
		el d&iacute;a est&aacute; en el rango permitido para el mes dado. Se tienen
		en consideraci&oacute;n los a&ntilde;os bisiestos.
       </simpara></listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.date">
   <refnamediv>
    <refname>date</refname>
	<refpurpose>da formato a la fecha/hora local</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>string</type><methodname>date</methodname>
     <methodparam><type>string</type><parameter>format</parameter></methodparam>
     <methodparam choice="opt"><type>int</type><parameter>
       timestamp
      </parameter></methodparam>
     </methodsynopsis>
    <para>
	 Devuelve una cadena formateada de acuerdo con la cadena de
	 formato dada, utilizando el valor de
	 <parameter>timestamp</parameter> dado o la hora local actual si
	 no hay par&aacute;metro.</para>

    <para>
	 Se reconocen los siguientes caracteres en la cadena de formato:
     <itemizedlist>
      <listitem><simpara>a - "am" o "pm"</simpara></listitem>
      <listitem><simpara>A - "AM" o "PM"</simpara></listitem>
	  <listitem><simpara>d - d&iacute;a del mes, dos d&iacute;gitos con cero a la
	  izquierda; es decir, de "01" a "31"</simpara></listitem>
	  <listitem><simpara>D - d&iacute;a de la semana, en texto, con tres
	  letras; por ejemplo, "Fri"</simpara></listitem>
      <listitem><simpara>F - mes, en texto, completo; por ejemplo, "January"</simpara></listitem>
      <listitem><simpara>h - hora, de "01" a "12"</simpara></listitem>
      <listitem><simpara>H - hora, de "00" a "23"</simpara></listitem>
      <listitem><simpara>g - hour, sin ceros, de "1" a "12"</simpara></listitem>
      <listitem><simpara>G - hour, sin ceros; de "0" a "23"</simpara></listitem>
      <listitem><simpara>i - minutos; de "00" a "59"</simpara></listitem>
      <listitem><simpara>j - d&iacute;a del mes sin cero inicial; de "1" a "31"</simpara></listitem>
      <listitem><simpara>l ('L' min&uacute;scula) - d&iacute;a de la semana, en texto, completo; por ejemplo, "Friday"</simpara></listitem>
      <listitem><simpara>L - "1" or "0", seg&uacute;n si el a&ntilde;o es bisiesto o
	  no</simpara></listitem>
      <listitem><simpara>m - mes; de "01" a "12"</simpara></listitem>
      <listitem><simpara>n - mes sin cero inicial; de "1" a "12"</simpara></listitem>
      <listitem><simpara>M - mes, en texto, 3 letras; por ejemplo, "Jan"</simpara></listitem>
      <listitem><simpara>s - segundos; de "00" a "59"</simpara></listitem>
      <listitem><simpara>S - sufijo ordinal en ingl&eacute;s, en texto, 2 caracteres; por ejemplo, "th", "nd"</simpara></listitem>
      <listitem><simpara>t - n&uacute;mero de d&iacute;as del mes dado; de "28" a "31"</simpara></listitem>
      <listitem><simpara>U - segundos desde el valor de 'epoch'</simpara></listitem>
      <listitem><simpara>w - d&iacute;a de la semana, en n&uacute;mero, de "0" (domingo) a "6" (s&aacute;bado)</simpara></listitem>
      <listitem><simpara>Y - a&ntilde;o, cuatro cifras; por ejemplo, "1999"</simpara></listitem>
      <listitem><simpara>y - a&ntilde;o, dos cifras; por ejemplo, "99"</simpara></listitem>
      <listitem><simpara>z - d&iacute;a del a&ntilde;o; de "0" a "365"</simpara></listitem>
      <listitem><simpara>Z - diferencia horaria en segundos (de "-43200" a "43200")</simpara></listitem>
     </itemizedlist>
	 Los caracteres no reconocidos se imprimen tal cual. El formato
	 "Z" siempre devuelve "0" en la funci&oacute;n
	 <function>gmdate()</function>

     <example>
      <title>Ejemplo de <function>date</function></title>
      <programlisting role="php">
print (date("l dS of F Y h:i:s A"));
print ("July 1, 2000 is on a " . date("l", mktime(0,0,0,7,1,2000)));
      </programlisting>
     </example></para>
    <para>
	 Es posible usar <function>date</function> y
	 <function>mktime</function> juntas para obtener fechas futuras o
	 pasadas.

     <example>
      <title>
       Ejemplo de <function>date</function> y <function>mktime</function>
      </title>
      <programlisting>
$tomorrow  = mktime(0,0,0,date("m")  ,date("d")+1,date("Y"));
$lastmonth = mktime(0,0,0,date("m")-1,date("d"),  date("Y"));
$nextyear  = mktime(0,0,0,date("m"),  date("d"),  date("Y")+1);
      </programlisting>
     </example>
    </para>

    <para>
	 Para dar formato a fechas en otros idiomas, se deben usar las
	 funciones <function>setlocale</function> y
	 <function>strftime</function>.
    </para>

    <para>
	 Ver tambi&eacute;n <function>gmdate</function> y
	 <function>mktime</function>.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.getdate">
   <refnamediv>
    <refname>getdate</refname>
	<refpurpose>obtiene informaci&oacute;n de fecha y hora</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>array</type><methodname>getdate</methodname>
     <methodparam><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
	 Devuelve un array asociativo que contiene la informaci&oacute;n de fecha
	 del valor timestamp como los siguientes elementos:
     <itemizedlist>
      <listitem><simpara>"seconds" - segundos</simpara></listitem>
      <listitem><simpara>"minutes" - minutos</simpara></listitem>
      <listitem><simpara>"hours" - horas</simpara></listitem>
      <listitem><simpara>"mday" - d&iacute;a del mes</simpara></listitem>
      <listitem><simpara>"wday" - d&iacute;a de la semana, en n&uacute;mero</simpara></listitem>
      <listitem><simpara>"mon" - mes, en n&uacute;mero</simpara></listitem>
      <listitem><simpara>"year" - a&ntilde;o, en n&uacute;mero</simpara></listitem>
      <listitem><simpara>"yday" - d&iacute;a del a&ntilde;o, en n&uacute;mero; por ejemplo, "299"</simpara></listitem>
      <listitem><simpara>"weekday" - d&iacute;a de la semana, en texto,
	  completo; por ejemplo,
       "Friday"</simpara></listitem>
      <listitem><simpara>"month" - mes, en texto, completo; por ejemplo, "January"</simpara></listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gettimeofday">
   <refnamediv>
    <refname>gettimeofday</refname>
	<refpurpose>obtiene la hora actual</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>array</type><methodname>gettimeofday</methodname>
     <void/>
     </methodsynopsis>
    <para>
	 Es un interfaz para gettimeofday(2). Devuelve un array asociativo
	 que contiene los datos devueltos por esta llamada al sistema.
     <itemizedlist>
      <listitem><simpara>"sec" - segundos</simpara></listitem>
      <listitem><simpara>"usec" - microsegundos</simpara></listitem>
      <listitem><simpara>"minuteswest" - minutos al oeste de Greenwich</simpara></listitem>
      <listitem><simpara>"dsttime" - tipo de correcci&oacute;n dst</simpara></listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmdate">
   <refnamediv>
    <refname>gmdate</refname>
	<refpurpose>da formato a una fecha/hora GMT/CUT</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>string</type><methodname>gmdate</methodname>
     <methodparam><type>string</type><parameter>format</parameter></methodparam>
     <methodparam><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
	 Id&eacute;ntica a la funci&oacute;n <function>data</function> excepto en que la
	 hora devuelta es la de Greenwich (GMT). Por ejemplo, si se
	 utiliza en Finlandia (GMT +0200), la primera l&iacute;nea del ejemplo
	 devuelve "Jan 01 1998 00:00:00", mientras la segunda imprime "Dec
	 31 1997 22:00:00".
     <example>
      <title>Ejemplo de <function>gmdate</function></title>
      <programlisting role="php">
echo date( "M d Y H:i:s",mktime(0,0,0,1,1,1998) );
echo gmdate( "M d Y H:i:s",mktime(0,0,0,1,1,1998) );
      </programlisting>
     </example>
    </para>
    <para>
	 Ver tambi&eacute;n <function>date</function>,
     <function>mktime</function> y <function>gmmktime</function>.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.gmmktime">
   <refnamediv>
    <refname>gmmktime</refname>
	<refpurpose>obtiene el valor timestamp UNIX de una fecha
	GMT</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>int</type><methodname>gmmktime</methodname>
     <methodparam><type>int</type><parameter>hour</parameter></methodparam>
     <methodparam><type>int</type><parameter>minute</parameter></methodparam>
     <methodparam><type>int</type><parameter>second</parameter></methodparam>
     <methodparam><type>int</type><parameter>month</parameter></methodparam>
     <methodparam><type>int</type><parameter>day</parameter></methodparam>
     <methodparam><type>int</type><parameter>year</parameter></methodparam>
     <methodparam choice="opt"><type>int</type><parameter>is_dst</parameter></methodparam>
     </methodsynopsis>
    <para>
	 Id&eacute;ntica a <function>mktime</function>, excepto en que los
	 par&aacute;metros representan una fecha GMT.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmstrftime">
   <refnamediv>
    <refname>gmstrftime</refname>
	<refpurpose>da formato a una fecha/hora GMT/CUT seg&uacute;n las
	convenciones locales</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>string</type><methodname>gmstrftime</methodname>
     <methodparam><type>string</type><parameter>format</parameter></methodparam>
     <methodparam><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
	 Se comporta como <function>strftime</function>, excepto en que la
	 hora devuelta es la de Greenwich (GMT). Por ejemplo, si se
	 utiliza en la zona horaria EST (GMT -0500), la primera l&iacute;nea del
	 ejemplo imprime "Dec 31 1998 20:00:00", mientras la segunda
	 imprime "Jan 01 1999 01:00:00".
     <example>
      <title>Ejemplo de <function>gmstrftime</function></title>
      <programlisting role="php">
setlocale ('LC_TIME','en_US');
echo strftime ("%b %d %Y %H:%M:%S",mktime(20,0,0,12,31,98))."\n";
echo gmstrftime ("%b %d %Y %H:%M:%S",mktime(20,0,0,12,31,98))."\n";
      </programlisting>
     </example>
    </para>
    <para>
	 Ver tambi&eacute;n <function>strftime</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.microtime">
   <refnamediv>
    <refname>microtime</refname>
	<refpurpose>devuelve el valor timestamp UNIX actual con
	microsegundos</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>string</type><methodname>microtime</methodname>
     <void/>
     </methodsynopsis>
    <para>
	 Devuelve la cadena "msec sec", donde sec es la hora actual en
	 n&uacute;mero de segundos desde el valor Unix Epoch (0:00:00 del 1 de
	 enero de 1970, hora GMT), y msec es la parte de microsegundos.
	 Esta funci&oacute;n s&oacute;lo est&aacute; disponible en sistemas operativos con
	 admiten la llamada al sistema gettimeofday().
    </para>
    <para>
	 Ver tambi&eacute;n <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.mktime">
   <refnamediv>
    <refname>mktime</refname>
	<refpurpose>obtiene el timestamp UNIX de una fecha</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>int</type><methodname>mktime</methodname>
     <methodparam><type>int</type><parameter>hour</parameter></methodparam>
     <methodparam><type>int</type><parameter>minute</parameter></methodparam>
     <methodparam><type>int</type><parameter>second</parameter></methodparam>
     <methodparam><type>int</type><parameter>month</parameter></methodparam>
     <methodparam><type>int</type><parameter>day</parameter></methodparam>
     <methodparam><type>int</type><parameter>year</parameter></methodparam>
     <methodparam choice="opt"><type>int</type><parameter>is_dst</parameter></methodparam>
     </methodsynopsis>
    <para>
	 <emphasis>Advertencia:</emphasis> V&eacute;ase el extra&ntilde;o orden de los
	 argumentos, que se diferencia del orden de argumentos en una
	 llamada mktime() de UNIX y que no permite eliminar par&aacute;metros de
	 derecha a izquierda (ver abajo). Es un error com&uacute;n mezclar estos
	 valores en un script.</para>
    <para>
	 Devuelve el valor timestamp Unix correspondiente a los argumentos
	 dados. El timestamp es un entero de tipo long que contiene el
	 n&uacute;mero de segundos entre el valor Unix Epoch (1 de enero de 1970)
	 y la hora especificada.
    </para><para>
	 Se pueden eliminar argumentos en orden de derecha a izquierda;
	 en los argumentos omitidos se toma el valor de la fecha y hora
	 locales.
    </para><para>
     <parameter>is_dst</parameter> puede ponerse a 1 si la hora
	 corresponde a horario de verano, 0 si no, o -1 (valor por
	 omisi&oacute;n) si no se sabe.
	 </para>
    <note>
     <para><parameter>is_dst</parameter> se a&ntilde;adi&oacute; en la versi&oacute;n 3.0.10.</para>
    </note>
    <para>
	 <function>mktime</function> es &uacute;til para realizar c&aacute;lculos y
	 validaciones con fechas, ya que calcula autom&aacute;ticamente el valor
	 correcto para una entrada fuera de rango. Por ejemplo, cada una
	 de las l&iacute;neas siguientes produce la cadena "Jan-01-1998".
     <example>
      <title>Ejemplo de <function>mktime</function></title>
      <programlisting>
echo date( "M-d-Y", mktime(0,0,0,12,32,1997) );
echo date( "M-d-Y", mktime(0,0,0,13,1,1997) );
echo date( "M-d-Y", mktime(0,0,0,1,1,1998) );
      </programlisting>
     </example>
    </para>
    <para>
	 El &uacute;ltimo d&iacute;a de cada mes se puede expresar como el d&iacute;a "0" del
	 mes siguiente, no el d&iacute;a -1. Los dos ejemplos siguientes producen
	 la cadena "The last day in Feb 2000 is: 29".
     <example>
      <title>El &uacute;ltimo d&iacute;a del pr&oacute;ximo mes</title>
      <programlisting>
$lastday=mktime(0,0,0,3,0,2000);
echo strftime("Last day in Feb 2000 is: %d",$lastday);
     
$lastday=mktime(0,0,0,4,-31,2000);
echo strftime("Last day in Feb 2000 is: %d",$lastday);
      </programlisting>
     </example>
    </para>
    <para>
	 Ver tambi&eacute;n <function>date</function> y
	 <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.strftime">
   <refnamediv>
    <refname>strftime</refname>
	<refpurpose>da formato a la hora o fecha local de acuerdo con las
	convenciones locales</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>string</type><methodname>strftime</methodname>
     <methodparam><type>string</type><parameter>format</parameter></methodparam>
     <methodparam><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
	 Devuelve una cadena formateada seg&uacute;n la cadena de formato dada
	 utilizando el valor <parameter>timestamp</parameter> o la hora
	 local actual. Los nombres del mes y el d&iacute;a de la semana y otras
	 cadenas dependientes del idioma respetan lo establecido con
	 <function>setlocale</function>.</para>

    <para>
	 Se reconocen los siguientes especificadores de conversi&oacute;n en la
	 cadena de formato:
     <itemizedlist>
      <listitem><simpara>%a - nombre del d&iacute;a de la semana abreviado</simpara></listitem>
      <listitem><simpara>%A - nombre del d&iacute;a de la semana completo</simpara></listitem>
      <listitem><simpara>%b - nombre del mes abreviado</simpara></listitem>
      <listitem><simpara>%B - nombre del mes completo</simpara></listitem>
      <listitem><simpara>%c - representaci&oacute;n de fecha y hora
	  preferidas en el idioma actual</simpara></listitem>
      <listitem><simpara>%d - d&iacute;a del mes en n&uacute;mero (de 00 a 31)</simpara></listitem>
      <listitem><simpara>%H - hora como un n&uacute;mero de 00 a 23</simpara></listitem>
      <listitem><simpara>%I - hora como un n&uacute;mero de 01 a 12 </simpara></listitem>
      <listitem><simpara>%j - d&iacute;a del a&ntilde;o como un n&uacute;mero de 001 a 366</simpara></listitem>
      <listitem><simpara>%m - mes como un n&uacute;mero de 01 a 12</simpara></listitem>
      <listitem><simpara>%M - minuto en n&uacute;mero</simpara></listitem>
      <listitem><simpara>%p - `am' o `pm', seg&uacute;n la hora dada, o las
	  cadenas correspondientes en el idioma actual</simpara></listitem>
      <listitem><simpara>%S - segundos en n&uacute;mero</simpara></listitem>
      <listitem><simpara>%U - n&uacute;mero de la semana en el a&ntilde;o, empezando con el primer domingo como el primer d&iacute;a de la primera semana</simpara></listitem>
      <listitem><simpara>%W - n&uacute;mero de la semana en el a&ntilde;o, empezando con el primer lunes como el primer d&iacute;a de la primera semana</simpara></listitem>
      <listitem><simpara>%w - d&iacute;a de la semana en n&uacute;mero (el domingo es el 0)</simpara></listitem>
      <listitem><simpara>%x - representaci&oacute;n preferida de la fecha sin
	  la hora</simpara></listitem>
      <listitem><simpara>%X - representaci&oacute;n preferida de la hora sin
	  la fecha</simpara></listitem>
      <listitem><simpara>%y - a&ntilde;o en n&uacute;mero de 00 a 99</simpara></listitem>
      <listitem><simpara>%Y - a&ntilde;o en n&uacute;mero de cuatro cifras</simpara></listitem>
      <listitem><simpara>%Z - nombre o abreviatura de la zona horaria</simpara></listitem>
      <listitem><simpara>%% - car&aacute;cter `%'</simpara></listitem>
     </itemizedlist>

     <example>
      <title>Ejemplo de <function>strftime</function></title>
      <programlisting role="php">
setlocale ("LC_TIME", "C");
print(strftime("%A in Finnish is "));
setlocale ("LC_TIME", "fi_FI");
print(strftime("%A, in French "));
setlocale ("LC_TIME", "fr_CA");
print(strftime("%A and in German "));
setlocale ("LC_TIME", "de_DE");
print(strftime("%A.\n"));
      </programlisting>
     </example>
	  Este ejemplo funciona si se tienen los respectivos `locales'
	  instalados en el sistema.</para>

    <para>
	 Ver tambi&eacute;n <function>setlocale</function> y
     <function>mktime</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.time">
   <refnamediv>
    <refname>time</refname>
	<refpurpose>devuelve el timestamp UNIX actual</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descripci&oacute;n</title>
     <methodsynopsis>
     <type>int</type><methodname>time</methodname>
     <void/>
     </methodsynopsis>
    <para>
	 Devuelve la hora actual como n&uacute;mero de segundos transcurridos
	 desde las 00:00:00 del 1 de enero de 1970 GMT (Unix Epoch).
    </para><para>
	 Ver tambi&eacute;n <function>date</function>.
    </para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

