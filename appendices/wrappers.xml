<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.17 $ -->
<!-- EN-Revision: 1.54 Maintainer: lboshell Status: ready -->
 <appendix id="wrappers">
 <title>Lista de Protocolos/Envolturas Soportadas</title>
 <para>
  La siguiente es una lista de los varios protocolos estilo URL que
  PHP tiene integrado para su uso con las funciones del sistema de
  archivos, tales como <function>fopen</function> y
  <function>copy</function>. Adicionalmente a estas envolturas, y a
  partir de PHP 4.3.0, usted puede escribir sus propias envolturas
  usando scripts PHP y <function>stream_wrapper_register</function>.
 </para>

 <section id="wrappers.file">
  <title>Sistema de archivos</title>
  <simpara>Todas las versiones de PHP. Usada expl&iacute;citamente
  mediante <filename>file://</filename> a partir de PHP
  4.3.0</simpara>

  <itemizedlist>
   <listitem><simpara><filename>/ruta/hacia/archivo.ext</filename></simpara></listitem>
   <listitem><simpara><filename>ruta/relativa/hacia/archivo.ext</filename></simpara></listitem>
   <listitem><simpara><filename>archivoEnDirActual.ext</filename></simpara></listitem>
   <listitem><simpara><filename>C:/ruta/hacia/archivo_win.ext</filename></simpara></listitem>
   <listitem><simpara><filename>C:\ruta\hacia\archivo_win.ext</filename></simpara></listitem>
   <listitem><simpara><filename>\\servidor_smb\recurso_compartido\ruta\hacia\archivo_win.ext</filename></simpara></listitem>
   <listitem><simpara><filename>file:///ruta/hacia/archivo.ext</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>file://</filename> es la envoltura predeterminada usada
   por PHP, y representa el sistema de archivos local. Cuando se
   especifica una ruta relativa (una ruta que no comienza con /, \,
   \\, o una letra de unidad en windows), la ruta provista ser&aacute;
   aplicada contra el directorio de trabajo actual. En muchos casos
   &eacute;ste es el directorio en el cual reside el script, a menos
   que haya sido modificado. Al usar la sapi CLI, &eacute;ste es, por
   defecto, el directorio desde donde fue llamado el script.
  </simpara>

  <simpara>
   Con algunas funciones, como <function>fopen</function>
   y <function>file_get_contents</function>, <literal>include_path</literal>
   puede usarse opcionalmente tambi&eacute;n para las b&uacute;squedas
   de rutas relativas.
  </simpara>

  <para>
   <table>
    <title>Resumen de Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Soporte</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restricci&oacute;n por <link
       linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Escritura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Adici&oacute;n</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>stat</function></entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>unlink</function></entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>rename</function></entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>mkdir</function></entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>rmdir</function></entry>
       <entry>Si</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section id="wrappers.socket">
  <title>Socket</title>
  <para>
   Esta secci&oacute;n contiene las opciones de contexto soportadas
   por las envolturas que trabajan sobre sockets, como
   <literal>tcp</literal>, <literal>http</literal> o
   <literal>ftp</literal>.
  </para>
  <para>
   A partir de PHP 5.1.0 solo una opci&oacute;n es soportada,
   <literal>bindto</literal>, la cual puede ser usada para especificar
   la direcci&oacute;n IP (ya sea IPv4 o IPv6) y/o el n&uacute;mero de
   puerto que PHP usar&aacute; para acceder a la red. La sintaxis es
   <literal>ip:puerto</literal> (es posible definir el n&uacute;mero
   IP o de puerto como <literal>0</literal> si desea que el sistema lo
   elija por usted).
  </para>
  <note>
   <para>
    Dado que FTP crea dos conexiones de socket durante la
    operaci&oacute;n normal, no es posible especificar el
    n&uacute;mero de puerto en la opci&oacute;n
    <literal>bindto</literal>. As&iacute; que la &uacute;nica sintaxis
    soportada es <literal>ip:0</literal> para la envoltura FTP.
   </para>
  </note>
  <example>
   <title>Algunos ejemplos del uso de la opci&oacute;n bindto</title>
   <programlisting role="php">
<![CDATA[
<?php
// conectarse a internet usando la IP '192.168.0.100' IP
$opciones = array('socket' =>
            array('bindto' => '192.168.0.100:0'));


// conectarse a internet usano la IP '192.168.0.100' y el puerto '7000'
$opciones = array('socket' =>
            array('bindto' => '192.168.0.100:7000'));


// conectarse a internet usando el puerto '7000'
$opciones = array('socket' =>
            array('bindto' => '0:7000'));


// crear el contexto...
$contexto = stream_context_create($opciones);

// ...y usarlo para recuperar los datos
echo file_get_contents('http://www.example.com', false, $contexto);

?>
]]>
   </programlisting>
  </example>
 </section>

 <section id="wrappers.http">
  <title>HTTP y HTTPS</title>
   <simpara>PHP 3, PHP 4, PHP 5. <filename>https://</filename> a
   partir de PHP 4.3.0</simpara>

  <itemizedlist>
   <listitem><simpara><filename>http://example.com</filename></simpara></listitem>
   <listitem><simpara><filename>http://example.com/archivo.php?var1=val1&amp;var2=val2</filename></simpara></listitem>
   <listitem><simpara><filename>http://usuario:contrasenya@example.com</filename></simpara></listitem>
   <listitem><simpara><filename>https://example.com</filename></simpara></listitem>
   <listitem><simpara><filename>https://example.com/archivo.php?var1=val1&amp;var2=val2</filename></simpara></listitem>
   <listitem><simpara><filename>https://usuario:contrasenya@example.com</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   Permite acceso de s&oacute;lo-lectura a archivos/recursos a
   trav&eacute;s de HTTP 1.0, usando el m&eacute;todo HTTP GET. Una
   cabecera <literal>Host:</literal> es enviada con la petici&oacute;n
   para gestionar hosts virtuales basados en nombres. Si ha
   configurado una cadena <link
   linkend="ini.user-agent">user_agent</link> usando su archivo ini o
   en el contexto de secuencia, tambi&eacute;n &eacute;sta ser&aacute;
   usada en la petici&oacute;n.
  </simpara>
  &warn.ssl-non-standard;
  <simpara>
   Las redirecciones han sido soportadas desde PHP 4.0.5; si se
   encuentra usando una versi&oacute;n anterior, necesitar&aacute;
   incluir barras de cierre en sus URLs. Si es importante conocer la
   URL del recurso del cual proviene su documento (luego de que todas
   las redirecciones han sido procesadas), necesitar&aacute; trabajar
   con la serie de cabeceras de respuesta devueltas por la secuencia.
  </simpara>
  <informalexample>
   <programlisting role="php">
<![CDATA[
<?php
$url = 'http://www.example.com/pagina_de_redireccion.php';

$da = fopen($url, 'r');

/* Antes de PHP 4.3.0, use $http_response_header
   en lugar de stream_get_meta_data() */
$meta_datos = stream_get_meta_data($da);
foreach($meta_datos['wrapper_data'] as $respuesta) {

  /* Fuimos redireccionados? */
  if (substr(strtolower($respuesta), 0, 18) == 'content-location: ') {
    /* actualizar $url con la ubicacion desde donde fuimos redireccionados */
    $url = substr($respuesta, 18);
  }

}

?>
]]>
   </programlisting>
  </informalexample>
  <simpara>
   La secuencia permite acceso al <emphasis>cuerpo</emphasis> del
   recurso; las cabeceras son almacenadas en la variable
   <varname>$http_response_header</varname>. A partir de PHP 4.3.0,
   las cabeceras est&aacute;n disponibles mediante el uso de
   <function>stream_get_meta_data</function>.
  </simpara>
  <simpara>
   Las conexiones HTTP son de s&oacute;lo-lectura; no puede escribir
   datos o copiar archivos hacia un recurso HTTP.
  </simpara>
  <note>
   <simpara>
    HTTPS es soportado a partir de PHP 4.3.0, si ha compilado el
    soporte para OpenSSL.
   </simpara>
  </note>
  <para>
   <table>
    <title>Resumen de Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Soporte</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restricci&oacute;n
       por <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Lectura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Escritura</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Adici&oacute;n</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>N/D</entry>
      </row>
      <row>
       <entry>Soporte <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Opciones de contexto</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Predeterminado</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>method</literal></entry>
       <entry>
        <constant>GET</constant>, <constant>POST</constant>, u otro
        m&eacute;todo HTTP soportado por el servidor remoto.
       </entry>
       <entry><constant>GET</constant></entry>
      </row>
      <row>
       <entry><literal>header</literal></entry>
       <entry>
       Cabeceras adicionales a ser enviadas durante la
       petici&oacute;n. Los valores en esta opci&oacute;n
       sobrescribir&aacute;n otros valores (tales
       como <literal>User-agent:</literal>,
       <literal>Host:</literal>,
       y <literal>Authentication:</literal>).
       </entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>user_agent</literal></entry>
       <entry>
       Valor a enviar con la cabecera User-Agent:. Este valor solo
       ser&aacute; usado si user-agent <emphasis>no</emphasis> es
       especificado en la opci&oacute;n de
       contexto <literal>header</literal> anterior.
       </entry>
       <entry>
        Par&aacute;metro &php.ini;: <literal>user_agent</literal>
       </entry>
      </row>
      <row>
       <entry><literal>content</literal></entry>
       <entry>
       Datos adicionales a ser enviados despu&eacute;s de las
       cabeceras. T&iacute;picamente usados con peticiones POST o PUT.
       </entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>proxy</literal></entry>
       <entry>
        URI que especifica la direcci&oacute;n del servidor
        proxy. (p.ej.
        <literal>tcp://proxy.example.com:5100</literal> ).
       </entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>request_fulluri</literal></entry>
       <entry>
        Cuando es definido como &true;, la URI completa ser&aacute;
        usada a la hora de construir la petici&oacute;n. (Es decir,
        <literal>GET http://www.example.com/ruta/hacia/archivo.html
        HTTP/1.0</literal>). Aunque &eacute;ste es un formato de
        petici&oacute;n no-est&aacute;ndar, algunos servidores proxy
        lo requieren.
       </entry>
       <entry>&false;</entry>
      </row>
      <row>
       <entry><literal>max_redirects</literal></entry>
       <entry>
        El n&uacute;mero m&aacute;ximo de redirecciones a
        seguir. Agregada en PHP 5.1.0.
       </entry>
       <entry>20</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <note>
   <title>Opciones de contexto de las secuencias de socket interno</title>
   <simpara>
    Puede que se soporten opciones de contexto adicionales por el
    <link linkend="transports.inet">transporte
    impl&iacute;cito</link>.  Para
    secuencias <literal>http://</literal>, refi&eacute;rase a las
    opciones de contexto para el
    transporte <literal>tcp://</literal>. Para
    secuencias <literal>https://</literal>, refi&eacute;rase a las
    opciones de contexto del transporte <literal>ssl://</literal>.
   </simpara>
  </note>
 </section>

 <section id="wrappers.ftp">
  <title>FTP y FTPS</title>
  <simpara>PHP 3, PHP 4, PHP 5.  <filename>ftps://</filename> a partir
  de PHP 4.3.0</simpara>

  <itemizedlist>
   <listitem><simpara><filename>ftp://example.com/pub/archivo.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftp://usuario:contrasenya@example.com/pub/archivo.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftps://example.com/pub/archivo.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftps://usuario:contrasenya@example.com/pub/archivo.txt</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   Permite acceso de lectura a archivos exsistentes y la
   creaci&oacute;n de nuevos archivos mediante FTP. Si el servidor no
   soporta el modo pasivo de ftp, la conexi&oacute;n fallar&aacute;.
  </simpara>
  <simpara>
   Puede abrir archivos para lectura o para escritura, pero no en los
   dos modos simult&aacute;neamente. Si el archivo remoto existe
   previamente en el servidor ftp e intenta abrirlo para escritura,
   pero no tiene especificada la opci&oacute;n de
   contexto <literal>overwrite</literal>, la conexi&oacute;n
   fallar&aacute;. Si necesita sobrescribir archivos existentes sobre
   ftp, especifique la opci&oacute;n <literal>overwrite</literal> en
   el contexto y abra el archivo para escritura. Alternativamente,
   puede usar la <link linkend="ref.ftp">extensi&oacute;n FTP</link>.
  </simpara>
  <note>
   <title>Adici&oacute;n</title>
   <simpara>
    A partir de PHP 5.0.0, los archivos pueden ser
    extendidos, agregando nuevos datos al final, mediante la envoltura
    de URL <literal>ftp://</literal>. En versiones anteriores, al
    intentar adicionar datos a un archivo
    mediante <literal>ftp://</literal> se producir&aacute; un fallo.
   </simpara>
  </note>
  <simpara>
   <filename>ftps://</filename> se ha introducido en PHP 4.3.0. Es
   igual a <filename>ftp://</filename>, pero intenta negociar una
   conexi&oacute;n segura con el servidor ftp. Si el servidor no
   soporta SSL, entonces la conexi&oacute;n recae sobre el ftp
   corriente, sin encripci&oacute;n.
  </simpara>
  <note>
   <simpara>FTPS es soportado desde PHP 4.3.0, si
   ha compilado el soporte para OpenSSL.
   </simpara>
  </note>
  <para>
   <table>
    <title>Resumen de Envoltura</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>PHP 4</entry>
       <entry>PHP 5</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restricci&oacute;n
       por <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Si</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Lectura</entry>
       <entry>Si</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Escritura</entry>
       <entry>Si (archivos nuevos &uacute;nicamente)</entry>
       <entry>Si (archivos nuevos/archivos existentes
       con <parameter>overwrite</parameter>)</entry>
      </row>
      <row>
       <entry>Permite Adici&oacute;n</entry>
       <entry>No</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>No</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>stat</function></entry>
       <entry>No</entry>
       <entry>
        A partir de PHP 5.0.0: S&oacute;lo los elementos
        <function>filesize</function>, <function>filetype</function>,
        <function>file_exists</function>,
        <function>is_file</function>, e <function>is_dir</function>.
        A partir de PHP 5.1.0: <function>filemtime</function>.
       </entry>
      </row>
      <row>
       <entry>Soporte <function>unlink</function></entry>
       <entry>No</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>rename</function></entry>
       <entry>No</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>mkdir</function></entry>
       <entry>No</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Soporte <function>rmdir</function></entry>
       <entry>No</entry>
       <entry>Si</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Opciones de contexto (a la altura de PHP 5.0.0)</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Predeterminado</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>overwrite</literal></entry>
       <entry>
        Permite la sobrescritura de archivos previamente existentes en
        el servidor remoto. Se aplica al modo de escritura (carga de
        archivos) solamente.
       </entry>
       <entry>&false; (Deshabilitada)</entry>
      </row>
      <row>
       <entry><literal>resume_pos</literal></entry>
       <entry>
        Desplazamiento de archivo para iniciar la transferencia. Se
        aplica &uacute;nicamente al modo de lectura (descarga de
        archivos).
       </entry>
       <entry>0 (Comienzo del Archivo)</entry>
      </row>
      <row>
       <entry><literal>proxy</literal>(PHP 5.1.0 o superior)</entry>
       <entry>
        Petici&oacute;n proxy FTP mediante un servidor proxy http. Se
        aplica &uacute;nicamente a las operaciones de lectura de
        archivos. Ej: <literal>tcp://squid.example.com:8000</literal>
       </entry>
       <entry/>
       </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <note>

   <title>Opciones de contexto de las secuencias de socket
   interno</title>
   <simpara>
    Puede que se soporten opciones de contexto adicionales por el
    <link linkend="transports.inet">transporte
    impl&iacute;cito</link>.  Para
    secuencias <literal>ftp://</literal>, refi&eacute;rase a las
    opciones de contexto para el
    transporte <literal>tcp://</literal>. Para
    secuencias <literal>ftps://</literal>, refi&eacute;rase a las
    opciones de contexto del transporte <literal>ssl://</literal>.
   </simpara>
  </note>
 </section>

 <section id="wrappers.php">
  <title>Secuencias de entrada/salida PHP</title>
  <simpara>
   PHP 3.0.13 y superior, <filename>php://output</filename> y
   <filename>php://input</filename> a partir de PHP 4.3.0,
   <filename>php://filter</filename> desde PHP 5.0.0
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>php://stdin</filename></simpara></listitem>
   <listitem><simpara><filename>php://stdout</filename></simpara></listitem>
   <listitem><simpara><filename>php://stderr</filename></simpara></listitem>
   <listitem><simpara><filename>php://output</filename></simpara></listitem>
   <listitem><simpara><filename>php://input</filename></simpara></listitem>
   <listitem><simpara><filename>php://filter</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>php://stdin</filename>, <filename>php://stdout</filename>
   y <filename>php://stderr</filename> le ofrecen acceso a las
   secuencias de entrada o salida correspondientes del proceso PHP.
  </simpara>
  <simpara>
   <filename>php://output</filename> le permite escribir sobre el
   mecanismo de b&uacute;fer de salida en la misma manera que lo hacen
   <function>print</function> y <function>echo</function>.
  </simpara>
  <simpara>
   <filename>php://input</filename> le permite leer datos POST en su
   forma primitiva. Es una alternativa que consume menos memoria que
   <varname>$HTTP_RAW_POST_DATA</varname> y no requiere de directivas
   &php.ini; especiales. <filename>php://input</filename> no se
   encuentra disponible con
   <literal>enctype="multipart/form-data"</literal>.
  </simpara>
  <simpara>
   <filename>php://stdin</filename> y
   <filename>php://input</filename> son de s&oacute;lo-lectura, mientras que
   <filename>php://stdout</filename>,
   <filename>php://stderr</filename> y
   <filename>php://output</filename> son de s&oacute;lo-escritura.
  </simpara>

  <simpara>
   <filename>php://filter</filename> es una especie de meta-envoltura
   dise&ntilde;ada para permitir el uso de filtros sobre una secuencia
   al momento de su apertura. Resulta &uacute;til con aquellas
   funciones de archivos todo-en-uno,
   como <function>readfile</function>, <function>file</function>,
   y <function>file_get_contents</function> en donde de otro modo no
   habr&iacute;a forma de aplicar filtros a la secuencia antes de que
   los contenidos fueran le&iacute;dos.
  </simpara>
  <simpara>
   El destino <filename>php://filter</filename> recibe los siguientes
   'par&aacute;metros' como partes de su 'ruta'.
  </simpara>
  <itemizedlist>
   <listitem>
    <para>
     <literal>/resource=&lt;secuencia a ser filtrada&gt;</literal>
     (<emphasis>requerido</emphasis>) Este par&aacute;metro debe estar
     ubicado el final de su
     especificaci&oacute;n <filename>php://filter</filename> y debe
     apuntar a la secuencia que desea filtrar.
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
/* Esto es equivalente a simplemente:
   readfile("http://www.example.com");
   ya que no se aplica filtro alguno */

readfile("php://filter/resource=http://www.example.com");
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>/read=&lt;lista de filtros a aplicar a la cadena de
     lectura&gt;</literal> (<emphasis>opcional</emphasis>) Este
     par&aacute;metro toma uno o m&aacute;s nombres de filtros
     separados por el caracter <literal>|</literal>.
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
/* Esto produce como salida el contenido de
   www.example.com enteramente en mayusculas */
readfile("php://filter/read=string.toupper/resource=http://www.example.com");

/* Esto hace lo mismo pero tambien codifica la salida con  ROT13 */
readfile("php://filter/read=string.toupper|string.rot13/resource=http://www.example.com");
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>/write=&lt;lista de filtros a aplicar a la cadena de
     escritura&gt;</literal> (<emphasis>opcional</emphasis>) Este
     par&aacute;metro toma uno o m&aacute;s nombres de filtro
     separados por el caracter <literal>|</literal>.
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
/* Esto filtra la cadena "Hola Mundo" a traves del filtro rot13,
   luego escribe al archivo ejemplo.txt en el directorio actual */
file_put_contents("php://filter/write=string.rot13/resource=ejemplo.txt","Hola Mundo");
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
   <listitem>
    <simpara>
     <literal>/&lt;lista de filtros a aplicar a ambas
     cadenas&gt;</literal> (<emphasis>opcional</emphasis>) Cualquier
     lista de filtros que no est&eacute; precedida
     por <literal>read=</literal> o <literal>write=</literal>
     ser&aacute; aplicada tanto a la cadena de lectura como a la de
     escritura (seg&uacute;n sea el caso).
    </simpara>
   </listitem>
  </itemizedlist>
  <para>
   <table>
    <title>
     Resumen de Envoltura (Para <literal>php://filter</literal>,
     refi&eacute;rase al resumen de la envoltura siendo filtrada.)
    </title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Soporte</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restricci&oacute;n
       por <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura</entry>
       <entry>
        <literal>php://stdin</literal> y
        <literal>php://input</literal> &uacute;nicamente.
       </entry>
      </row>
      <row>
       <entry>Permite Escritura</entry>
       <entry>
        <literal>php://stdout</literal>,
        <literal>php://stderr</literal>, y
        <literal>php://output</literal> &uacute;nicamente.
       </entry>
      </row>
      <row>
       <entry>Permite Adici&oacute;n</entry>
       <entry>
        <literal>php://stdout</literal>,
        <literal>php://stderr</literal>, y
        <literal>php://output</literal> &uacute;nicamente. (Equivalente a la
        escritura)
       </entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>No. Estas envolturas son unidireccionales.</entry>
      </row>
      <row>
       <entry>Soporte <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section id="wrappers.compression">
  <title>Secuencias de Compresi&oacute;n</title>
  <simpara><filename>zlib:</filename> PHP 4.0.4 - PHP 4.2.3 (s&oacute;lo
  sistemas con fopencookie)</simpara>
  <simpara><filename>compress.zlib://</filename>
  y <filename>compress.bzip2://</filename> PHP 4.3.0 y superior</simpara>

  <itemizedlist>
   <listitem><simpara><filename>zlib:</filename></simpara></listitem>
   <listitem><simpara><filename>compress.zlib://</filename></simpara></listitem>
   <listitem><simpara><filename>compress.bzip2://</filename></simpara></listitem>
  </itemizedlist>

  <simpara> 
   <filename>zlib:</filename> funciona
   como <function>gzopen</function>, con la excepci&oacute;n de que la
   secuencia puede ser usada con <function>fread</function> y otras
   funciones del sistema de archivos. Esto se ha hecho obsoleto
   en PHP 4.3.0 debido a las ambig&uuml;edades
   presentes con nombres de archivos que contienen caracteres ':';
   use <filename>compress.zlib://</filename> en su lugar.
  </simpara>

  <simpara>
   <filename>compress.zlib://</filename> y
   <filename>compress.bzip2://</filename> son equivalentes a 
   <function>gzopen</function> y <function>bzopen</function>
   respectivamente, y operan incluso sobre sistemas que no tienen
   soporte para fopencookie.
  </simpara>
  <para>
   <table>
    <title>Resumen de Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Soporte</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restricci&oacute;n por <link
       linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Escritura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Adici&oacute;n</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>stat</function></entry>
       <entry>
        No, use la envoltura <literal>file://</literal> normal para
        realizar stat sobre archivos comprimidos.
       </entry>
      </row>
      <row>
       <entry>Soporte <function>unlink</function></entry>
       <entry>
        No, use la envoltura <literal>file://</literal> normal para
        eliminar archivos comprimidos.
       </entry>
      </row>
      <row>
       <entry>Soporte <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>
 <section id="wrappers.ssh2">
  <title>Shell Seguro 2</title>
  <simpara>
   <filename>ssh2.shell://</filename>
   <filename>ssh2.exec://</filename>
   <filename>ssh2.tunnel://</filename>
   <filename>ssh2.sftp://</filename>
   <filename>ssh2.scp://</filename>
   PHP 4.3.0 y superiores (PECL)
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>ssh2.shell://usuario:contrasenya@example.com:22/xterm</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.exec://usuario:contrasenya@example.com:22/usr/local/bin/algun_comando</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.tunnel://usuario:contrasenya@example.com:22/192.168.0.1:14</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.sftp://usuario:contrasenya@example.com:22/ruta/hacia/archivo</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Esta envoltura no se encuentra habilitada por defecto</title>
   <simpara>
    Para usar las envolturas <filename>ssh2.*://</filename>, es
    necesario instalar la extensi&oacute;n <ulink
    url="&url.pecl.package;ssh2">SSH2</ulink> disponible desde <ulink
    url="&url.pecl;">PECL</ulink>.
   </simpara>
  </note>

  <simpara>
   Adem&aacute;s de aceptar detalles de inicio de sesi&oacute;n
   tradicionales tipo URI, las envolturas ssh2 reusan conexiones
   abiertas pasando el recurso de conexi&oacute;n en la porci&oacute;n
   host de la URL.
  </simpara>

  <example>
   <title>Abrir una secuencia desde una conexi&oacute;n activa</title>
   <programlisting role="php">
<![CDATA[
<?php
$sesion = ssh2_connect('example.com', 22);
ssh2_auth_pubkey_file($sesion, 'nombre_usuario',
                      '/home/usuario/.ssh/id_rsa.pub',
                      '/home/usuario/.ssh/id_rsa', 'secreto');
$secuencia = fopen("ssh2.tunnel://$sesion/remote.example.com:1234", 'r');
?>
]]>
   </programlisting>
  </example>
  <para>
   <table>
    <title>Resumen de Envoltura</title>
    <tgroup cols="6">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>ssh2.shell</entry>
       <entry>ssh2.exec</entry>
       <entry>ssh2.tunnel</entry>
       <entry>ssh2.sftp</entry>
       <entry>ssh2.scp</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link
       linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite lectura</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite escritura</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite adici&oacute;n</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Si (Cuando lo permite el servidor)</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporta <function>stat</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporta <function>unlink</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporta <function>rename</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporta <function>mkdir</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporta <function>rmdir</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Si</entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <para>
   <table>
    <title>Opciones de contexto</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Predeterminado</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>session</literal></entry>
       <entry>Recurso ssh2 preconectado para reusar</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>sftp</literal></entry>
       <entry>Recurso sftp prereservado para reusar</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>methods</literal></entry>
       <entry>M&eacute;todos de intercambio de llave, llave de host,
       cifrado, compresi&oacute;n y MAC a usar</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>callbacks</literal></entry>
       <entry></entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>username</literal></entry>
       <entry>Nombre de usuario para la conexi&oacute;n</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>password</literal></entry>
       <entry>Contrase&ntilde;a a usar con autenticaci&oacute;n de
       contrase&ntilde;as</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>pubkey_file</literal></entry>
       <entry>Nombre del archivo de llave p&uacute;blica a usar para
       la autenticaci&oacute;n</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>privkey_file</literal></entry>
       <entry>Nombre del archivo de llave privada a usar para la
       autenticaci&oacute;n</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>env</literal></entry>
       <entry>Matriz asociativa de variables de entorno a
       definir</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term</literal></entry>
       <entry>Tipo de emulaci&oacute;n de terminal para solicitar
       cuando se reserva una pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_width</literal></entry>
       <entry>Ancho de la terminal solicitada cuando se reserva una
       pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_height</literal></entry>
       <entry>Altura de la terminal solicitada cuando se reserva una
       pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_units</literal></entry>
       <entry>Unidades a usar con term_width y term_height</entry>
       <entry><constant>SSH2_TERM_UNIT_CHARS</constant></entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

  <section id="wrappers.audio">
  <title>Secuencias de Audio</title>
  <simpara><filename>ogg://</filename> PHP 4.3.0 y superior (PECL) </simpara>

  <itemizedlist>
   <listitem><simpara><filename>ogg://archivo_sonido.ogg</filename></simpara></listitem>
   <listitem><simpara><filename>ogg:///ruta/hacia/archivo_sonido.ogg</filename></simpara></listitem>
   <listitem><simpara><filename>ogg://http://www.example.com/ruta/hacia/secuencia_sonido.ogg</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Esta envoltura no est&aacute; habilitada de manera
   predeterminada</title>
   <simpara>
    Para poder usar la envoltura <filename>ogg://</filename>, necesita
    instalar la extensi&oacute;n <ulink
    url="&url.pecl.package;oggvorbis">OGG/Vorbis</ulink>, disponible
    desde <ulink url="&url.pecl;">PECL</ulink>.
   </simpara>
  </note>

  <simpara>
   Los archivos abiertos para lectura mediante la envoltura
   <filename>ogg://</filename> son tratados como audio codificado
   abierto usando el codec OGG/Vorbis. De forma semejante, los
   archivos abiertos para escritura o adici&oacute;n a trav&eacute;s
   de la envoltura <filename>ogg://</filename> son escritos como datos
   de audio comprimido. Cuando se usa
   <function>stream_get_meta_data</function> sobre un archivo
   OGG/Vorbis abierto para lectura, devolver&aacute; varios detalles
   sobre la secuencia, incluyendo la etiqueta
   <parameter>vendor</parameter>, cualquier comentario incluido en
   <parameter>comments</parameter>, el n&uacute;mero de canales en
   <parameter>channels</parameter>, la tasa de muestra en
   <parameter>rate</parameter>, y el rango de codificaci&oacute;n
   descrito por: <parameter>bitrate_lower</parameter>,
   <parameter>bitrate_upper</parameter>,
   <parameter>bitrate_nominal</parameter>, y
   <parameter>bitrate_window</parameter>.
  </simpara>

  <para>
   <table>
    <title>Resumen de Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Soporte</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restricci&oacute;n por <link
       linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Escritura</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Adici&oacute;n</entry>
       <entry>Si</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simult&aacute;nea</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Soporte <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Opciones de contexto</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Predeterminado</entry>
       <entry>Modo</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>pcm_mode</literal></entry>
       <entry>
        Codificaci&oacute;n PCM a aplicar durante la lectura, un valor
        entre: <constant>OGGVORBIS_PCM_U8</constant>,
        <constant>OGGVORBIS_PCM_S8</constant>,
        <constant>OGGVORBIS_PCM_U16_BE</constant>,
        <constant>OGGVORBIS_PCM_S16_BE</constant>,
        <constant>OGGVORBIS_PCM_U16_LE</constant>, y
        <constant>OGGVORBIS_PCM_S16_LE</constant>.  (8 vs 16 bit, con
        signo o sin signo, big-endian o little-endian)
       </entry>
       <entry>OGGVORBIS_PCM_S16_LE</entry>
       <entry>Lectura</entry>
      </row>
      <row>
       <entry><literal>rate</literal></entry>
       <entry>
        Tasa de muestra de datos de entrada, expresada en Hz
       </entry>
       <entry>44100</entry>
       <entry>Escritura/Adici&oacute;n</entry>
      </row>
      <row>
       <entry><literal>bitrate</literal></entry>
       <entry>
        Cuando es un valor entero, la tasa de bits fija para
        codificar. (16000 a 131072) Cuando se define como flotante, la
        calidad de tasa de bits variable a usar. (-1.0 a 1.0)
       </entry>
       <entry>128000</entry>
       <entry>Escritura/Adici&oacute;n</entry>
      </row>
      <row>
       <entry><literal>channels</literal></entry>
       <entry>
        El n&uacute;mero de canales de audio a codificar, normalmente
        1 (Mono), o 2 (Stero). Su rango puede llegar hasta 16.
       </entry>
       <entry>2</entry>
       <entry>Escritura/Adici&oacute;n</entry>
      </row>
      <row>
       <entry><literal>comments</literal></entry>
       <entry>
        Una matriz de valores de cadena para codificar en la cabecera
        del material.
       </entry>
       <entry/>
       <entry>Escritura/Adici&oacute;n</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

</appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
