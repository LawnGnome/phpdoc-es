 <chapter id="features.remote-files">
  <title>Usando archivos remotos</title>

  <para>
   Siempre que el soporte para la "envoltura URL fopen" est&eacute;
   habilitado cuando se configura PHP (lo cual ocurre a menos que se
   pasa expl&iacute;citamente la opci&oacute;n
   <option>--disable-url-fopen-wrapper</option> a configure),
   se pueden usar URLs HTTP y FTP con la mayor&iacute;a de las funciones
   que toman un archivo como par&aacute;metro, incluyendo las sentencias
   <function>require</function> e <function>include</function>.

  <note>
   <para>
    No se pueden usar archivos remotos en las sentencias
    <function>include</function> y <function>require</function>
    en Windows.</para>
  </note></para>

  <para>
   Por ejemplo, se puede usar este para abrir un archivo en un servidor
   web remoto, analizar en la salida la informaci&oacute;n que se quiera, 
   y entonces, usar la informaci&oacute;n en una consulta a base de
   datos, o simplemente para sacarls en un estilo que coincida con el
   resto de su sitio web.</para>

  <para>
   <example>
    <title>Obtener el t&iacute;tulo de una p&aacute;gina remota</title>
    <programlisting>
&lt?php
  $archivo = fopen("http://www.php.net/", "r");
  if (!$archivo) {
    echo "&lt;p>No se pudo abrir el archivo remoto.\n";
    exit;
  }
  while (!feof($archivo)) {
    $linea = fgets($archivo, 1024);
    /* Esto s&oacute;lo funciona si el t&iacute;tulo y sus etiquetas
       est&aacute;n en una l&iacute;nea. */
    if (eregi("&lt;title>(.*)&lt;/title>", $linea, $salida)) {
      $title = $salida[1];
      break;
    }
  }
  fclose($file);
?&gt;
    </programlisting>
   </example></para>

  <para>
   Tambi&eacute;n se puede escribir a archivos en un FTP siempre que
   se conecte como un usuario con los correctos derechos de acceso,
   y el archivo no exista ya.Para conectar como un usuario distinto
   de 'anonymous', se necesita especificar el nombre de usuario
   (y posiblemente contraseña) dentro de la URL, tales como
   'ftp://usuario:clave@ftp.ejemplo.com/camino/a/archivo'. (Se puede
   usar la misma clase de sintaxis para acceder a archivos via HTTP 
   cuando se requer&iacute;a una autenticaci&oacute; de
   same sort of syntax to access files via HTTP when they require Basic
   authentication.)</para>

  <para>
   <example>
    <title>Storing data on a remote server</title>
    <programlisting>
&lt?php
  $file = fopen("ftp://ftp.php.net/incoming/outputfile", "w");
  if (!$file) {
    echo "&lt;p>Unable to open remote file for writing.\n";
    exit;
  }
  /* Write the data here. */
  fputs($file, "$HTTP_USER_AGENT\n");
  fclose($file);
?&gt;
    </programlisting>
   </example>

  <note>
   <para>
    You might get the idea from the example above to use this technique to
    write to a remote log, but as mentioned above, you can only write to
    a new file using the URL fopen() wrappers. To do distributed logging
    like that, you should take a look at <function>syslog</function>.</para>
  </note></para>

 </chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
