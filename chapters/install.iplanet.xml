<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.1 Maintainer: rafael Status: ready -->

  <sect1 xml:id="install.netscape-enterprise" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Servidores-Netscape e iPlanet</title>
 <para>
  Esta secci&oacute;n contiene informaci&oacute;n espec&iacute;fica
  sobre la instalaci&oacute;n de <literal>PHP</literal> con Netscape e
  iPlanet, tanto en <link linkend="install.netscape.sun">Sun
   Solaris</link> como en <link
   linkend="install.netscape.windows">Windows</link>.
 </para>
 <para>
  Podeis encontrar m&aacute;s informaci&oacute;n sobre como instalar PHP con
  "Netscape Enterprise Server" aqui: <link
   xlink:href="&url.netscape.nsapi;">&url.netscape.nsapi;</link>
 </para>
 <sect2 xml:id="install.netscape.sun">
  <title>Instalando PHP con Netscape en Sun Solaris</title>
  <para>
   Para compilar PHP para que funcione con los servidores web NES &oacute;
   iPlanet, definir la localizaci&oacute;n correcta en la opci&oacute;n <link
   linkend="install.configure.with-nsapi">--with-nsapi</link> =
   <replaceable>DIR</replaceable>. La localizaci&oacute;n por defecto es
   normalmente <filename
   class="directory">/opt/netscape/suitespot/</filename>. Leer
   <filename>/php-xxx-version/sapi/nsapi/nsapi-readme.txt</filename>
   para m&aacute;s informaci&oacute;n.
  </para>
  <para>
   <example xml:id="install.netscape-enterprise.solaris">
    <title>Ejemplo de instalaci&oacute;n con Netscape Enterprise en
    Solaris</title>
    <screen>
<![CDATA[
Instrucciones para Sun Solaris 2.6 con Netscape Enterprise Server 3.6
From: bhager@invacare.com

1. Instalar los siguientes paquetes (se pueden bajar de
   www.sunfreeware.com u otra servidor)

    flex-2_5_4a-sol26-sparc-local 
    gcc-2_95_2-sol26-sparc-local 
    gzip-1.2.4-sol26-sparc-local 
    perl-5_005_03-sol26-sparc-local 
    bison-1_25-sol26-sparc-local 
    make-3_76_1-sol26-sparc-local 
    m4-1_4-sol26-sparc-local 
    autoconf-2.13 
    automake-1.4 
    mysql-3.23.24-beta (si quereis soporte para MySQL) 
    tar-1.13 (GNU tar) 

2. Asegurarse que la variable PATH incluye los siguientes directorios:
    PATH=.:/usr/local/bin:/usr/sbin:/usr/bin:/usr/ccs/bin 
    export PATH 

3. gunzip php-x.x.x.tar.gz 
4. tar xvf php-x.x.x.tar 
5. cd ../php-x.x.x 

6. Asegurarse que /opt/netscape/suitespot/ es el directorio donde
   teneis instalado vuestro servidor netscape, si no, cambiarlo por el
   directorio correcto:
    /configure --with-mysql=/usr/local/mysql --with-nsapi=/opt/netscape/suitespot/ --enable-track-vars --enable-libgcc 
7. make 
8. make install
]]>
    </screen>
   </example>
   Despues de terminar la instalaci&oacute;n base y de leer el fichero readme
   apropiado, quizas necesiteis realizar unos cuantos ajustes en la
   configuraci&oacute;n.
  </para>
  <para>
   Para comenzar, quizas necesiteis a&ntilde;adir algunas
   localizaciones a la variable de entorno LD_LIBRARY_PATH, para que
   Netscape pueda encontrar todas las bibliotecas compartidas. Esto se
   puede hacer en el script de arranque del servidor
   Netscape. Usuarios de Windows pueden probablemente saltarse este
   paso. El script de arranque suele estar localizado en: <filename
    class="directory">/path/to/server/https-servername/start</filename>
  </para>
  <para>
   Tambien puede que tengais que editar los ficheros de configuraci&oacute;n
   localizados en: <filename
   class="directory">/path/to/server/https-servername/config/</filename>.
  </para>
  
  <example xml:id="install.netscape-enterprise.configure">
   <title>
    Ejemplo de configuraci&oacute;n para Netscape Enterprise
   </title>
   <screen>
<![CDATA[
Instrucciones de configuraci&oacute;n para Netscape Enterprise Server
From: bhager@invacare.com

1. A&ntilde;adir la siguiente linea al fichero mime.types:

    type=magnus-internal/x-httpd-php exts=php

2. A&ntilde;adir la siguiente linea al fichero obj.conf, shlib
   depender&aacute; de vuestro SO, en Unix es:

    /opt/netscape/suitespot/bin/libphp4.so.

    Las siguientes lineas se deben a&ntilde;dir despues de las lineas
    que inicializan "mime types".

    Init fn="load-modules" funcs="php4_init,php4_close,php4_execute,php4_auth_trans" shlib="/php4/nsapiPHP4.dll"
    Init fn=php4_init errorString="Failed to initialize PHP!"

    <object name="default">
    . 
    . 
    . 
    .#NOTA Esta linea debe de a&ntilde;adirse despues de todas las
     lineas 'ObjectType' y antes de las lineas 'AddLog'.

    Service fn="php4_execute" type="magnus-internal/x-httpd-php" 
    . 
    . 
    </Object>


    <Object name="x-httpd-php"> 
    ObjectType fn="force-type" type="magnus-internal/x-httpd-php" 
    Service fn=php4_execute 
    </Object> 


    Configuraci&oacute;n de la autentificaci&oacute;n

    Para configurar autentificaci&oacute;n PHP en todo el servidor,
    a&ntilde;adir la siguiente linea:

    <Object name="default"> 
    AuthTrans fn=php4_auth_trans 
    . 
    . 
    . 
    . 
    </Object> 

    Para configurar autentificaci&oacute;n PHP en una localizaci&oacute;n,
    a&ntilde;adir lo siguiente:

    <Object ppath="d:\path\to\authenticated\dir\*"> 
    AuthTrans fn=php4_auth_trans 
    </Object>
]]>
   </screen>
  </example>
  <para>
   Si estais usando Netscape Enterprise 4.x, debereis hacer lo
   siguiente:
  </para>
  <example>
   <title>Ejemplo de configuraci&oacute;n para Netscape Enterprise
   4.x</title>
     <programlisting>
<![CDATA[ 
A&ntilde;adir estas lineas despues de la secci&oacute;n que
inicializa "mime types", lo dem&aacute;s es similar al ejemplo anterior:
From: Graeme Hoose (GraemeHoose@BrightStation.com)

Init fn="load-modules" shlib="/path/to/server4/bin/libphp4.so" funcs="php4_init,php4_close,php4_execute,php4_auth_trans"
Init fn="php4_init" LateInit="yes"
]]>
   </programlisting>
  </example>
 </sect2>
 <sect2 xml:id="install.netscape.windows">
  <title>Instalando PHP con Netscape en Windows</title>
  <para>
   Para instalar PHP como binario CGI (con  Netscape Enterprise Server,
      iPlanet y quiz&aacute;s Fastrack), hacer lo siguiente:
  </para>
  <itemizedlist>
   <listitem>
    <simpara>
     Copiar  <filename>php4ts.dll</filename> al directorio donde
     instalasteis Windows.
    </simpara>
   </listitem>
   <listitem>
    <para>
     Crear un fichero asociado desde la linea de comandos. Escribir lo
     siguiente:
     <programlisting>
<![CDATA[
assoc .php=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*
]]>
     </programlisting>
    </para>
   </listitem>
   <listitem>
    <simpara>
     En el servidor de administracion de "Netscape Enterprise", crear
     un directorio shellcgi se&ntilde;uelo y borrarlo (esto crea 5
     lineas importantes en obj.conf y permite al servidor web manejar
     scripts shellcgi)
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     En el servidor de administracion de "Netscape Enterprise", crear
     un nuevo tipo mime (Categoria: type, Content-Type:
     magnus-internal/shellcgi, File Suffix:php).
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Hacerlo con todas las instancias del servidor web con las que
     quereis utilizar php.
    </simpara>
   </listitem>
  </itemizedlist>
  <para>
   Se pueden encontrar m&aacute;s detalles sobre como configurar PHP como
   binario CGI, aqui: <link
    xlink:href="&url.netscape.cgi;">&url.netscape.cgi;</link>
  </para>
  <para>
   Para instalar PHP como NSAPI (con Netscape Enterprise Server,
   iPlanet y quiz&aacute;s Fastrack), hacer lo siguiente:
  </para>
  <itemizedlist>
   <listitem>
    <simpara>
     Copiar  <filename>php4ts.dll</filename> al directorio donde
     instalasteis Windows.
    </simpara>
     </listitem>
     <listitem>
      <para>
     Crear un fichero asociado desde la linea de
     comandos. Escribir lo siguiente:
       <programlisting>
<![CDATA[
assoc .php=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*
]]>
     </programlisting>
    </para>
   </listitem>
   <listitem>
    <simpara>
     En el servidor de administracion de "Netscape Enterprise", crear
     un nuevo tipo mime (Categoria: type, Content-Type:
     magnus-internal/x-httpd-php, File Suffix:php).
    </simpara>
   </listitem>
   <listitem>
    <para>
     Parar vuestro servidor web y editar
     <filename>obj.conf</filename>. Al final de la secci&oacute;n de
     inicializaci&oacute;n, a&ntilde;adir estas dos lineas (despues de la
     secci&oacute;n mime type):
     <programlisting>
<![CDATA[
Init fn="load-modules" funcs="php4_init,php4_close,php4_execute,php4_auth_trans" shlib="c:/php/sapi/php4nsapi.dll"
Init fn="php4_init" errorString="Failed to initialise PHP!"
]]>
     </programlisting>
    </para>
   </listitem>
   <listitem>
    <para>
     En la secci&oacute;n <literal>&lt; Object name="default" &gt;</literal>
     a&ntilde;adir lo siguiente despues de todas las lineas
     'ObjectType' y antes de las lineas 'AddLog':
     <programlisting>
<![CDATA[
Service fn="php4_execute" type="magnus-internal/x-httpd-php"
]]>
     </programlisting>
    </para>
   </listitem>
   <listitem>
    <para>
     Al final del fichero, crear un nuevo objeto llamado
     <literal>x-httpd-php</literal>, insertando estas lineas:
     <programlisting>
<![CDATA[
<Object name="x-httpd-php">
ObjectType fn="force-type" type="magnus-internal/x-httpd-php"
Service fn=php4_execute
</Object>
]]>
     </programlisting>
    </para>
   </listitem>
   <listitem>
    <simpara>
     Rearrancar vuestro servidor web:
    </simpara>
     </listitem>
   <listitem>
    <simpara>
     Hacerlo con todas las instancias del servidor web con las que
     quereis utilizar php.
    </simpara>
   </listitem>
  </itemizedlist>
  <para>
   Se pueden encontrar m&aacute;s detalles sobre como configurar PHP como un
   filtro NSAPI , aqui: <link
    xlink:href="&url.netscape.nsapi;">&url.netscape.nsapi;</link>
  </para>
 </sect2>
  </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->