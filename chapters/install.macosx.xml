<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.3 Maintainer: rafael Status: ready -->

<sect1 xml:id="install.macosx" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Instalaci&oacute;n en Unix/Mac OS X</title>
 <para>
  Esta secci&oacute;n contiene informacion espec&iacute;fica de como instalar PHP en
  Mac OS X Server.
 </para>
 <sect2 xml:id="install.macosx.packages">
  <title>Usando paquetes</title>
  <simpara>
   Existen unos cuantos paquetes precompilados de PHP para Mac OS
   X. Esto puede ayudar a instalar una configuraci&oacute;n estandar, pero si
   necesitais utilizar caracteristicas diferentes a las compiladas
   (p.ej.: servidor seguro, &oacute; un controlador de bases de datos
   diferentes) tendreis que compilar PHP y vuestro servidor web
   ustedes mismos. Si no estais familiarizados con la compilaci&oacute;n de
   vuestro propio software, no est&aacute; de m&aacute;s comprobar si alguien ya ha
   creado un paquete con las caracteristicas que necesitais.
  </simpara>
 </sect2>
 <sect2 xml:id="install.macosx.compile">
  <title>Compilando en OS X server</title>
  <simpara>
   Existen dos versiones diferentes de Mac OS X, clente y servidor. A
   continuaci&oacute;n teneis informaci&oacute;n para la versi&oacute;n servidor.
  </simpara>
  <example xml:id="install.macosx.compile.example">
   <title>Instalaci&oacute;n en Mac OS X server</title>
   <screen>
<![CDATA[
1. Bajarse las ultimas distribuciones de Apache y PHP.
2. Desempaquetarlas y ejecutar el programa configure en el directorio
    de apache:
    ./configure --exec-prefix=/usr \ 
    --localstatedir=/var \ 
    --mandir=/usr/share/man \ 
    --libexecdir=/System/Library/Apache/Modules \ 
    --iconsdir=/System/Library/Apache/Icons \ 
    --includedir=/System/Library/Frameworks/Apache.framework/Versions/1.3/Headers \ 
    --enable-shared=max \ 
    --enable-module=most \ 
    --target=apache 

4. Podeis agregar esta linea:
    setenv OPTIM=-O2 
   si quereis que el compilador optimize el c&oacute;digo.
    
5. Ir al directorio de PHP y configurarlo con: 
    ./configure --prefix=/usr \ 
    --sysconfdir=/etc \ 
    --localstatedir=/var \ 
    --mandir=/usr/share/man \ 
    --with-xml \ 
    --with-apache=/src/apache_1.3.12 

    Si teneis otras caracteristicas que querais a&ntilde;adir (MySQL,
    GD, etc.), asegurarse de a&ntilse;adirlas aqu&iacute;. En  --with-apache=
    teneis que poner el PATH de vuestro directorio Apache con el
    c&oacute;digo fuente del mismo, p.ej.: "/src/apache_1.3.12".

6. make
7. make install    
   Esto a&ntilde;adir&aacute; un directorio en vuestro directorio Apache con el
   c&oacute;digo fuente del mismo, bajo src/modules/php4.
    
8. Reconfigurar Apache para utilizar PHP4:
    ./configure --exec-prefix=/usr \ 
    --localstatedir=/var \ 
    --mandir=/usr/share/man \ 
    --libexecdir=/System/Library/Apache/Modules \ 
    --iconsdir=/System/Library/Apache/Icons \ 
    --includedir=/System/Library/Frameworks/Apache.framework/Versions/1.3/Headers \ 
    --enable-shared=max \ 
    --enable-module=most \ 
    --target=apache \ 
    --activate-module=src/modules/php4/libphp4.a 

    Podeis obtener un mensaje diciendo que libmodphp4.a no est&aacute;
    actualzido. Si esto ocurre, ir al directorio src/modules/php4 y
    ejecutar este comando:

    ranlib libmodphp4.a 

    Una vez ejecutado este comando, volver el directorio raiz de apache y ejecutar
    el comando de configuraci&oacute;n antes mencionado.

9. make

10. make install

11. Copiar y renombrar el fichero php.ini-dist de vuestro directorio
    con las fuentes de PHP al directorio "bin":

    cp php.ini-dist /usr/local/bin/php.ini 

    &oacute; (si no tenesi un directorio local/) 

    cp php.ini-dist /usr/bin/php.ini 
]]>
   </screen>
  </example>

  <!--
  <simpara>
  TODO: Someone with Mac OS X skills needs to improve this DOC
        Also, these links are 404 and outdated anyways and
        stepwise doesn't support PHP anymore.

        See also bug #14732

   Other examples for
   <link xlink:href="&url.stepwise.macosx-client;">Mac OS X client</link>
   and
   <link xlink:href="&url.stepwise.macosx-client;">Mac OS X server</link>
   are available at <link xlink:href="&url.stepwise;">Stepwise</link>.
  </simpara>
  -->
  
 </sect2>
 <sect2 xml:id="install.macosx.client">
  <title>Compilando en MacOS X client</title>
  <simpara>
   Estos datos han sido proporcionados por <link xlink:href="&url.macosx;">Marc
    Liyanage</link>.
  </simpara>
  <simpara>
   El m&oacute;dulo de PHP para Apache incluido en Mac OS X incluye soporte
   para bases de datos MySQL y PostgreSQL.
  </simpara>
  <simpara>
   NOTA: Tener cuidado cuando hagais esto, podeis estropear vuestro
   servidor Apache.
  </simpara>
  <para>
   Hacer esto para instalar:
   <itemizedlist>
    <listitem>
     <simpara>
      1.	Abrir una ventana terminal.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      2.	Escribir "wget http://www.diax.ch/users/liyanage/software/macosx/libphp4.so.gz",
      esperar a que termine 
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      3.	Escribir "gunzip libphp4.so.gz" 
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      4.	Escribir "sudo apxs -i -a -n php4 libphp4.so" 
     </simpara>
    </listitem>
   </itemizedlist>
   Ahora escribir "<literal>sudo open -a TextEdit /etc/httpd/httpd.conf</literal>"
   TextEdit se abrir&aacute; con el fichero de configuraci&oacute;n de
   Apache. Localizar estas dos lineas al final del fichero (podeis
   utilizar el comando find)
   <programlisting role="apache">
<![CDATA[
   #AddType application/x-httpd-php .php 
   #AddType application/x-httpd-php-source .phps
]]>
   </programlisting>
   Borrar los dos caracteres (<literal>#</literal>), grabar y salir de TextEdit.
  </para>
  <para>
   Finalmente escribir "<literal>sudo apachectl graceful</literal>"
   para rearrancar el servidor web.
  </para>
  <para>
   PHP deberia de funcionar ahora. Podeis comprobar que funciona,
   grabando un fichero llamado "test.php" en vuestro directorio
   web. Escribir esta linea en este fichero: "<literal>&lt;?php
   phpinfo() ?&gt;</literal>".
  </para>
  <para>
   Ahora abrir la direcci&oacute;n
   <literal>127.0.0.1/~your_username/test.php</literal> en vuestro
   navegador. Deberiais de ver una tabla con informaci&oacute;n sobre el
   m&oacute;dulo PHP.
  </para>
 </sect2>
</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
