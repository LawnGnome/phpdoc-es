<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.3 $ -->
<!-- EN-Revision: 1.3 Maintainer: rafael Status: ready -->

<chapter xml:id="configuration" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Configuraci&oacute;n del comportamiento de PHP</title>
 
 <sect1 xml:id="configuration.file">
  <title>El archivo de configuraci&oacute;n</title>
  
  <simpara>
   El archivo de configuraci&oacute;n (llamado
   <filename>php3.ini</filename> en PHP 3, y simplemente
   <filename>php.ini</filename> a partir de PHP 4) es le&iacute;do
   cuando arranca PHP. Para las versiones de PHP como m&oacute;dulo de
   servidor esto s&oacute;lo ocurre una vez al arrancar el servidor
   web. Para la versi&oacute;n <acronym>CGI</acronym> y
   <acronym>CLI</acronym>, esto ocurre en cada llamada.
  </simpara>
  <para>
   La localizaci&oacute;n por defecto de &php.ini; es definida en
   tiempo de compilaci&oacute;n (Consultar la <link
   linkend="faq.installation.phpini">FAQ</link>), pero puede ser
   cambiada en la versi&oacute;n <acronym>CGI</acronym> y
   <acronym>CLI</acronym> con la opci&oacute;n de la linea de comandos
   <literal>-c</literal>, consultar el c&aacute;pitulo sobre como usar
   PHP desde la <link linkend="features.commandline">linea de
   comandos</link>. Tambi&eacute;n se puede definir la variable de
   entorno <varname>PHPRC</varname> con un "path" adicional para la
   b&uacute;squeda del archivo &php.ini;
  </para>
 <para>
    Si <filename>php-SAPI.ini</filename> existe es usado en vez de
    &php.ini;.
   </para>
  <note>
   <para>
    El servidor web Apache cambia al directorio raiz al arrancar, por
    ello PHP intentar&aacute; leer el archivo &php.ini; en el
    directorio raiz, si existe.
   </para>
  </note>
  <para>
   Las directivas &php.ini; gestionadas por extensiones est&aacute;n
   documentadas en cada una de las p&aacute;ginas de las extensiones
   respectivamente. La <link linkend="ini">lista de directivas de
   n&uacute;cleo</link> se encuentra disponible en el
   ap&eacute;ndice.La mayoria de directivas PHP estan listadas en
   <function>ini_set</function> con los respectivos permisos y enlaces
   a la documentacion. Para obtener una lista completa de todas las
   directivas disponibles en su versi&oacute;n de PHP, por favor lea
   su archivo &php.ini;, el cual debe estar bien
   documentado. Alternativamente, puede encontrar &uacute;til la
   &uacute;ltima versi&oacute;n del archivo <link
   xlink:href="&url.php.cvs.phpini;">&php.ini;</link> desde CVS.
  </para>
  <para>
   <example>
    <title>Ejemplo &php.ini;</title>
    <programlisting role="ini">
<![CDATA[
; any text on a line after an unquoted semicolon (;) is ignored
[php] ; section markers (text within square brackets) are also ignored
; Boolean values can be set to either:
;    true, on, yes
; or false, off, no, none
register_globals = off
track_errors = yes

; you can enclose strings in double-quotes
include_path = ".:/usr/local/lib/php"

; backslashes are treated the same as any other character
include_path = ".;c:\php\lib"
]]>
</programlisting>
<!-- TODO: add more details about values and expressions -->
   </example>
  </para>
 </sect1>
 
 <sect1 xml:id="configuration.changes">
   <title>Como cambiar los valores de la configuraci&oacute;n</title>

   <sect2 xml:id="configuration.changes.apache">
   <title>Ejecuci&oacute;n de PHP como un m&oacute;dulo de
    Apache</title>
   <simpara>
    Cuando se usa PHP como un m&oacute;dulo de Apache, se pueden
    cambiar valores de la configuraci&oacute;n usando directivas en
    los archivos de configuraci&oacute;n de apache, &httpd.conf; y
    &htaccess;. Necesitar&aacute; de los privilegios "AllowOverride
    Options" o "AllowOverride All" para hacerlo.
   </simpara>
   
   <para>
    Con PHP 4 y PHP 5, hay varias directivas Apache que permiten
    cambiar la configuraci&oacute;n de PHP desde los archivos de
    configuraci&oacute;n de apache. Para obtener una lista de que
    directivas son del tipo <constant>PHP_INI_ALL</constant>,
    <constant>PHP_INI_PERDIR</constant>, &oacute;
    <constant>PHP_INI_SYSTEM</constant>, consultar la lista que se
    encuentra en la documentaci&oacute;n de la funci&oacute;n
    <function>ini_set</function>.
   </para>
   
   <note>
    <simpara>
     Con PHP 3, existen directivas que corresponden a cada
     par&aacute;metro de configuraci&oacute;n en
     <filename>php3.ini</filename>, con el prefijo "php3_".
    </simpara>
   </note>
   
   <para>
    <variablelist>
     <varlistentry>
      <term>
       <systemitem role="directive">php_value</constant>
       <parameter>nombre</parameter>
       <parameter>valor</parameter>
      </term>
      <listitem>
       <para>
        Asigna el valor de la directiva especificada. Puede ser usado
        solamente con directivas del tipo
        <constant>PHP_INI_ALL</constant> y
        <constant>PHP_INI_PERDIR</constant>. Para borrar un valor
        previo, asignar <literal>none</literal> como valor
       </para>
       <note>
        <simpara>
         No use <systemitem role="directive">php_value</constant>
         para definir valores booleanos. Deber&iacute;a usarse
         <systemitem role="directive">php_flag</constant> en su
         lugar (vea m&aacute;s abajo).
        </simpara>
       </note>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <systemitem role="directive">php_flag</constant>
       <parameter>nombre</parameter>
       <parameter>on|off</parameter>
      </term>
      <listitem>
       <para>
        Usado para asignar una directiva de configuraci&oacute;n
        booleana. Puede ser usado solamente con directivas del tipo
        <constant>PHP_INI_ALL</constant> y
        <constant>PHP_INI_PERDIR</constant>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <systemitem role="directive">php_admin_value</constant>
       <parameter>nombre</parameter>
       <parameter>valor</parameter>
      </term>
      <listitem>
       <para>
        Asigna el valor de la directiva especificada. Esto
        <emphasis>no puede usarse</emphasis> en archivos
        &htaccess;. Todo tipo de directiva asignada con <systemitem
        role="directive">php_admin_value</constant> no puede ser
        cambiada con &htaccess; &oacute; directivas
        "virtualhost". Para borrar un valor previo, asignar
        <literal>none</literal> como valor.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <systemitem role="directive">php_admin_flag</constant>
       <parameter>nombre</parameter>
       <parameter>on|off</parameter>
      </term>
      <listitem>
       <para>
        Usado para asignar una directiva de configuraci&oacute;n
        booleana. Esto <emphasis>no puede usarse</emphasis> en
        archivos &htaccess;. Todo tipo de directiva asignada con
        <systemitem role="directive">php_admin_flag</constant> no
        puede ser cambiada con &htaccess; &oacute; directivas.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
   <para>
    <example>
     <title>Ejemplo de configuraci&oacute;n de Apache</title>
     <programlisting role="ini">
<![CDATA[
<IfModule mod_php5.c>
  php_value include_path ".:/usr/local/lib/php"
  php_admin_flag safe_mode on
</IfModule>
<IfModule mod_php4.c>
  php_value include_path ".:/usr/local/lib/php"
  php_admin_flag safe_mode on
</IfModule>
<IfModule mod_php3.c>
  php3_include_path ".:/usr/local/lib/php"
  php3_safe_mode on
</IfModule>
]]>
     </programlisting>
    </example>
   </para>
   <caution>
    <para>
     Las Constantes en PHP no existen fuera de PHP. Por ejemplo, en
     &httpd.conf; no se pueden usar constantes PHP tales como
     <constant>E_ALL</constant> &oacute;
     <constant>E_NOTICE</constant> para definir la directiva <link
      linkend="ini.error-reporting">error_reporting</link>, ya que no
     tendr&aacute; ning&uacute;n significado y ser&aacute; evaluada
     como <emphasis>0</emphasis>. Usar los valores asociados de
     "bitmask" en su lugar. Estas constantes pueden ser usadas en
     &php.ini;
    </para>
   </caution>
  </sect2>

  <sect2 xml:id="configuration.changes.windows">
   <title>Modificaci&oacute;n de la configuraci&oacute;n de PHP usando
    el registro de Windows</title>
   <simpara>
    Cuando se usa PHP en Windows, se pueden cambiar los valores de
    configuraci&oacute;n para cada directorio por medio de los
    registros de Windows. Los valores de configuraci&oacute;n se
    guardan en la llave de registro <literal>HKLM\SOFTWARE\PHP\Per
    Directory Values</literal>, en las subllaves correspondientes al
    PATH. Por ejemplo, los valores de configuracion del directorio
    <literal>c:\inetpub\wwwroot</literal> se guardar&aacute;n en
    <literal>HKLM\SOFTWARE\PHP\Valores Por
    Directorio\c\inetpub\wwwroot</literal>. La configuraci&oacute;n de
    un directorio es v&aacute;lida para todos los scripts ejecutados
    en el mismo y sus subdirectorios. Los valores en la llave deben de
    definirse con el nombre de la directiva de configuraci&oacute;n de
    PHP y el valor tipo cadena. Las constantes PHP en los valores no
    son analizadas.
     </simpara>
   </sect2>
   
  <sect2 xml:id="configuration.changes.other">
    <title>Otras interfaces con <literal>PHP</literal></title>

    <para>
     Independientemente del modo en que ejecute PHP, es posible
     cambiar ciertos valores en tiempo de ejecuci&oacute;n usando
     <function>ini_set</function>. Vea la documentaci&oacute;n en la
     p&aacute;gina sobre <function>ini_set</function> para m&aacute;s
     informaci&oacute;n.
    </para>
    <para>
     Si est&aacute; interesado en una lista completa de
     par&aacute;metros de configuraci&oacute;n en su sistema con sus
     valores actuales, puede ejecutar la funci&oacute;n
     <function>phpinfo</function>, y revisar la p&aacute;gina
     resultante. Tambi&eacute;n puede acceder a los valores de
     directivas de configuraci&oacute;n individuales en tiempo de
     ejecuci&oacute;n usando <function>ini_get</function> o
     <function>get_cfg_var</function>.
    </para>
    
   </sect2>
  </sect1>
 
 </chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
